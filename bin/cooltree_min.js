window.ct=function(i){var n={};function s(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},i[t].call(e.exports,e,e.exports,s),e.l=!0,e)).exports}return s.m=i,s.c=n,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=75)}([function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var StringUtil=function(){function StringUtil(){_classCallCheck(this,StringUtil)}return _createClass(StringUtil,null,[{key:"countLeftSpace",value:function(t){for(var e,n=0;n<t.length;n++)if(32<(e=t.charCodeAt(n))&&160!=e&&12288!=e)return n;return i}},{key:"ltrim",value:function(t){if(null!=t)for(var e,i=0;i<t.length;i++)if(32<(e=t.charCodeAt(i))&&160!=e&&12288!=e)return t.substring(i);return""}},{key:"rtrim",value:function(t){if(null!=t)for(var e,i=t.length;0<i;i--)if(32<(e=t.charCodeAt(i-1))&&160!=e&&12288!=e)return t.substring(0,i);return""}},{key:"trim",value:function(t){return null==t?"":StringUtil.ltrim(StringUtil.rtrim(t))}},{key:"isEmpty",value:function(t){return null==t||"undefined"==t||"null"==t||0==(t=StringUtil.trim(""+t)).length}},{key:"substitute",value:function(t,e){if(!StringUtil.isEmpty(t)&&null!=e&&e instanceof Array&&0!=e.length)for(var i=0;i<e.length;i++)t=t.replace(new RegExp("\\{"+i+"\\}","g"),e[i]);return t}},{key:"countToString",value:function(t,e){return(""+e).padStart(String(t).length,"0")}},{key:"toArray",value:function(t,e){if(StringUtil.isEmpty(t))return[];if(t.length<=e)return[t];for(var i=[];t.length>e;)i.push(t.slice(0,e)),t=t.slice(e);return StringUtil.isEmpty(t)||i.push(t),i}},{key:"validateEmail",value:function(t){return/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(t)}},{key:"replace",value:function(t,e,i){return StringUtil.isEmpty(t)?"":(""+t).split(e).join(i)}},{key:"remove",value:function(t,e){return StringUtil.replace(t,e,"")}},{key:"replaceAll",value:function(t,e,i){if(null!=e&&null!=i)for(var n=void 0,s=Math.min(e.length,i.length),n=0;n<s;n++)t=StringUtil.replace(t,e[n],i[n]);return t}},{key:"exist",value:function(t){if(!(arguments.length<=1||StringUtil.isEmpty(t)))for(var e,i=void 0,n=arguments.length,i=1;i<n;i++)if(!StringUtil.isEmpty(e=arguments[i])&&-1!=t.indexOf(e))return!0;return!1}},{key:"compressor",value:function(t){for(var e,i=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=void 0,s="",a="",r="",o=!1,n=0;n<t.length;n++)(o="`"===(e=t.charAt(n))?!o:o)?s+=e:(i&&"/"==e&&n<t.length-1&&"/"==t.charAt(n+1)?(a="\n",r=""):i&&"/"==e&&n<t.length-1&&"*"==t.charAt(n+1)&&(a="*",r="/"),a?e==a&&(!r||n<t.length-1&&t.charAt(n+1)==r)&&(a="",r)&&(r="",n++):"\n"==e||"\t"==e?s.length&&[",",";","{","}","[","]","(",")"].indexOf(s.charAt(s.length-1))<0&&13!=s.charCodeAt(s.length-1)&&(s+=" "):s+=e);return s}},{key:"getNumber",value:function(t){if(StringUtil.isEmpty(t))return[""];for(var e="",i=t.length,n=t.substr(--i,1);!isNaN(parseInt(n))&&1<=i;)e=n+e,n=t.substr(--i,1);return StringUtil.isEmpty(e)?[t]:[StringUtil.rtrim(t.slice(0,++i)),Number(e)]}},{key:"getPathExt",value:function(t){t=t.split(".");return t[t.length-1].split("?")[0].toLowerCase()}},{key:"getBase64Type",value:function(t){var e,i;return StringUtil.isEmpty(t)||(e=t.indexOf("/")+1,i=t.indexOf(";"),e<0)||i<0||i<=e?"":t.substring(e,i).toLowerCase()}},{key:"getFileName",value:function(t,e){e=e||2;t=(t=t.replace(/%20/g," ")).split("?")[0],t=/(.*[\\\/])?(.+)(\.[\w]{1,4})/.exec(t);return t&&4==t.length?t[e]:""}},{key:"escapeXML",value:function(t){for(var e=(e=t).replace(/&/gi,"&amp;");-1!=e.indexOf("<");)e=e.replace("<","&lt;");for(;-1!=e.indexOf(">");)e=e.replace(">","&gt;");return e}},{key:"htmlEncode",value:function(t){return t=StringUtil.replace(t,"&","&amp;"),t=StringUtil.replace(t,'"',"&quot;"),t=StringUtil.replace(t,"'","&apos;"),t=StringUtil.replace(t,"<","&lt;"),t=StringUtil.replace(t,">","&gt;")}},{key:"htmlDecode",value:function(t){return t=StringUtil.replace(t,"&amp;","&"),t=StringUtil.replace(t,"&quot;",'"'),t=StringUtil.replace(t,"&apos;","'"),t=StringUtil.replace(t,"&lt;","<"),t=StringUtil.replace(t,"&gt;",">")}},{key:"formatTime",value:function(t,e,i){e=e||0,i=i||":",t=Math.max(0,MathUtil.int(t));var n=String(t%60),s=String(MathUtil.int(t/60)%60),t=String(MathUtil.int(t/3600)%60);return n.length<2&&(n="0"+n),s.length<2&&(s="0"+s),t.length<2&&(t="0"+t),3==e?n:2==e?s+i+n:1==e?t+i+s:t+i+s+i+n}},{key:"parseParams",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(StringUtil.isEmpty(t))return{};for(var n=void 0,s=void 0,a=void 0,r=t.split(e?";":"&"),o={},l=i?decodeURIComponent:unescape,n=0,h=r.length;n<h;n++)a=r[n],StringUtil.isEmpty(a)||!e&&a.indexOf("=")<0||e&&a.indexOf(":")<0||(a=a.split(e?":":"="),s=StringUtil.trim(a[0]),o[s=e&&s&&0<s.indexOf("-")?StringUtil.decodeName(s):s]=a.length<2||StringUtil.isEmpty(a[1])?null:l(StringUtil.trim(a[1])));return o}},{key:"decodeName",value:function(t){if(StringUtil.isEmpty(t))return"";for(var e=void 0,i=void 0,n=t.toLowerCase().split(/-/),e=1,s=n.length;e<s;e++)i=n[e],StringUtil.isEmpty(i)||(n[e]=i.substring(0,1).toUpperCase()+i.substring(1));return n.join("")}},{key:"encodeName",value:function(t){return StringUtil.isEmpty(t)?"":t.split(/(?=[A-Z])/).join("-").toLowerCase()}},{key:"buildParams",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==t)return"";var n=void 0,s=!1,a="",r=1==i?encodeURIComponent:escape;for(n in t)s&&(a+=e?";":"&"),!StringUtil.isEmpty(n)&&t[n]&&(a+=e?StringUtil.encodeName(n)+":"+t[n]:n+"="+(0==i?t[n]:r(t[n])),s=!0);return s?a:""}},{key:"html2object",value:function(t){var e=void 0;if("string"==typeof t){if(StringUtil.isEmpty(t))return null;(e=document.createElement("div")).innerHTML=t,e=e.getElementsByTagName("*")[0]}else e=t;if(!e||1!=e.nodeType)return null;var i={},t=(i.tagName=e.nodeName.toLowerCase(),(e.textContent||"").replace(/(\r|\n)/g,"").replace(/^\s+|\s+$/g,""));if(t&&1==e.childNodes.length&&(i.text=t),0<e.attributes.length)for(var n=0;n<e.attributes.length;n++){var s=e.attributes.item(n),a=s.nodeName,s=s.nodeValue;i[a]=isNaN(s)?s:Number(s),"style"==a.toLowerCase()&&(i[a]=StringUtil.parseParams(i[a],!0))}if(0<e.childNodes.length){for(var r=[],o=0;o<e.childNodes.length;o++){var l=e.childNodes.item(o),l=StringUtil.html2object(l);l&&r.push(l)}0<r.length&&(i.children=r)}return i}},{key:"toUniqueChar",value:function(t){if(StringUtil.isEmpty(t))return"";for(var e,i="",n=0,s=t.length;n<s;n++)e=t.charAt(n),i.indexOf(e)<0&&(i+=e);return i}},{key:"html2text",value:function(t){var e;if(!StringUtil.isEmpty(t))return"string"==typeof(e=t)&&((e=document.createElement("div")).innerHTML=t),StringUtil._get_string_by_node(e,"")}},{key:"_get_string_by_node",value:function(t,e){if(null!=t){var i=t.firstElementChild,t=String(t.textContent||t.innerText||"");if(e+=t,null!=i&&StringUtil.isEmpty(t))for(;i;)i.childElementCount&&0<i.childElementCount?e=StringUtil._get_string_by_node(i,e):e+=String(i.textContent||i.data||i.value||i.innerText||""),i=i.nextSibling}return e}},{key:"utf16to8",value:function(t){for(var e,i="",n=void 0,s=t.length,n=0;n<s;n++)1<=(e=t.charCodeAt(n))&&e<=127?i+=t.charAt(n):i=2047<e?(i=(i+=String.fromCharCode(224|e>>12&15))+String.fromCharCode(128|e>>6&63))+String.fromCharCode(128|e>>0&63):(i+=String.fromCharCode(192|e>>6&31))+String.fromCharCode(128|e>>0&63);return i}},{key:"utf8to16",value:function(t){for(var e,i,n="",s=0,a=t.length,r=void 0;s<a;)switch((e=t.charCodeAt(s++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:n+=t.charAt(s-1);break;case 12:case 13:r=t.charCodeAt(s++),n+=String.fromCharCode((31&e)<<6|63&r);break;case 14:r=t.charCodeAt(s++),i=t.charCodeAt(s++),n+=String.fromCharCode((15&e)<<12|(63&r)<<6|(63&i)<<0)}return n}},{key:"toUTF8",value:function toUTF8(str){if(window.TextEncoder){for(var encoder=new TextEncoder("utf8"),bytes=encoder.encode(str),result="",i=0;i<bytes.length;++i)result+=String.fromCharCode(bytes[i]);return result}return eval("'"+encodeURI(str).replace(/%/gm,"\\x")+"'")}}]),StringUtil}();exports.default=StringUtil},function(t,p,v){"use strict";!function(t){Object.defineProperty(p,"__esModule",{value:!0});var e=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=f(v(40)),s=f(v(51)),a=f(v(0)),r=f(v(52)),o=f(v(28)),l=f(v(41)),h=f(v(11)),u=f(v(2)),c=f(v(53)),d=f(v(22));function f(t){return t&&t.__esModule?t:{default:t}}e(_,null,[{key:"setup",value:function(t){if(!a.default.isEmpty(t)){0<(t=t.toLowerCase()).indexOf(i.default.OS_IPHONE)?(_.os=i.default.OS_IPHONE,_.ios=!0):0<t.indexOf(i.default.OS_IPOD)?(_.os=i.default.OS_IPOD,_.ios=!0):0<t.indexOf(i.default.OS_IPAD)?(_.os=i.default.OS_IPAD,_.ios=!0):0<t.indexOf(i.default.OS_ANDROID)?(_.os=i.default.OS_ANDROID,_.android=!0,_.isBrokenAndroid=null!==t.match(/android 2\.[12]/)):0<t.indexOf(i.default.OS_WINDOWS_PHONE)?_.os=i.default.OS_WINDOWS_PHONE:0<t.indexOf(i.default.OS_BLACK_BERRY)&&(_.os=i.default.OS_BLACK_BERRY),_.isPC=_.os==i.default.OS_PC,_.isQQBrowser=/qqbrowser/i.test(t),_.isWebKit=/webkit/i.test(t),_.isOpera=/opera/i.test(t),_.isIE=/msie/i.test(t),_.isFirefox=/firefox/i.test(t),_.isChrome=/chrome/i.test(t),_.isSafari=/safari/i.test(t)&&!_.isChrome,_.isWeixin="micromessenger"==t.match(/MicroMessenger/i),_.cssPrefix=_.isWebKit?"webkit":_.isFirefox?"Moz":_.isOpera?"o":_.isIE?"ms":"",_.supportStorage="localStorage"in _.root,_.supportOrientation="orientation"in _.root,_.supportDeviceMotion="ondevicemotion"in _.root,_.supportTouch="ontouchstart"in _.root,_.pixelRatio=_.root.devicePixelRatio,_.canUseWebAudio=_.root.AudioContext||_.root[_.cssPrefix+"AudioContext"],(_.animationFrame=_.root.requestAnimationFrame||_.root[_.cssPrefix+"RequestAnimationFrame"])&&(_.animationFrame=_.root[_.animationFrame.name].bind(_.root)),_.supportCanvas=null!=document.createElement("canvas").getContext,_.useCanvas=_.supportCanvas;t=document.createElement("div");_.supportTransform=null!=t.style[_.cssPrefix+"Transform"],_.supportSVG=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,_.language=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||"",a.default.isEmpty(_.language)||(r.default.language=r.default.format(_.language));try{_.version=s.default.auto(new Date(1683626105604)),console.log("[32m[COOLTREE VERSION]",_.version)}catch(t){}o.default.INIT_CLASS(),l.default.INIT_CLASS()}}},{key:"reszie",value:function(t,e){_.width=Math.floor(t),_.height=Math.floor(e),d.default.current&&(d.default.current.size(t,e),d.default.current.auto_fresh=!0)}},{key:"getScreenWidth",value:function(){return _.root.screen.width}},{key:"getScreenHeight",value:function(){return _.root.screen.height}},{key:"GetQueryString",value:function(t){t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),t=_.root.location.search.substr(1).match(t);return null!=t?unescape(t[2]):null}},{key:"trace",value:function(){if(_.debug){for(var t="",e=void 0,e=0;e<arguments.length;e++)t+=arguments[e]+" ";a.default.isEmpty(t)||(null==console||"function"!=typeof console.log||_.htmlDebug?(null==_.output&&((_.output=document.createElement("div")).id="global_output",_.output.style.position="absolute",_.output.style.zIndex=_.layer+10,_.output.style.height=Math.ceil(.5*(_.canvas?_.canvas.height:_.root.innerHeight))+"px",_.output.style.width=Math.ceil(.5*(_.canvas?_.canvas.width:_.root.innerWidth))+"px",_.output.style.fontSize=Math.floor(_.fontSize*_.pixelRatio)+"px",_.output.style.color="#880000",_.output.style.left="3px"),(_.output_list=null==_.output_list?[]:_.output_list).push("<br>"+t+"</br>"),12<_.output_list.length&&_.output_list.shift(),_.output.innerHTML=_.output_list.join(" "),null==_.output.parentNode&&(_.div||document.body).appendChild(_.output)):console.log.apply(console,arguments))}}},{key:"proxy",value:function(t,e,i,n){t[i]=function(){return e[i].apply(e,arguments)||t},n&&(t[n]=t[i])}},{key:"delegate",value:function(e,t){var i,n=t||_.root;return 2<arguments.length?(i=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.concat.apply(i,arguments);return e.apply(n,t)}):function(){return e.apply(n,arguments)}}},{key:"delegate2",value:function(i,t){var n=t||_.root,s=2<arguments.length?Array.prototype.slice.call(arguments,2):[];return function(){for(var t=s.slice(),e=arguments.length-1;0<=e;e--)t.unshift(arguments[e]);return t.push(this),i.apply(n,t)}}},{key:"gc",value:function(t){var e=h.default.getQualifiedClassName(t);return!(_._gc_list.indexOf(e)<0)&&u.default.remove(t)}},{key:"local",get:function(){return _.__local=_.__local?_.__local:new c.default}},{key:"root",get:function(){if(_.__root)return _.__root;if("undefined"!=typeof self)return _.__root=self;if("undefined"!=typeof window)return _.__root=window;if(void 0!==t)return _.__root=t;throw new Error("unable to locate global object")}}]);e=_;function _(){if(!(this instanceof _))throw new TypeError("Cannot call a class as a function")}(p.default=e)._gc_list=["StageEvent","Shape","DisplayObjectContainer","Graphics","DisplayObject","DOMDisplay","MovieClip","DOMMovie","BoxShape"],e.__local=e.__local_cache=e.__root=e.canvas=e.context=null,e.version="",e.layer=5,e.debug=!0,e.os=i.default.OS_PC,e.ios=!1,e.android=!1,e.isBrokenAndroid=!1,e.isIE=!1,e.isFirefox=!1,e.isOpera=!1,e.isWebKit=!1,e.isChrome=!1,e.isSafari=!1,e.isQQBrowser=!1,e.aspectRatio=i.default.NONE,e.font="Helvetica,Arial",e.supportSVG=!1,e.supportTouch=!1,e.supportCanvas=!1,e.supportStorage=!1,e.supportOrientation=!1,e.supportDeviceMotion=!1,e.supportTransform=!1,e.cssPrefix="",e.htmlDebug=!1,e.breakTouch=!1,e.language,e.div,e.fontSize=8,e.useCanvas=!0,e.width=0,e.height=0,e.position="absolute",e.autoShapeSize=!0,e.canUseWebAudio=!1,e.isWeixin=!1,e.useCache=!0,e.isPC=!0,e.animationFrame=null,e.pixelRatio=1,e.crossdomain="anonymous",e.className="Global",e.setup(navigator.userAgent),e.root&&null==e.root.trace&&(e.root.trace=e.trace)}.call(this,v(77))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=o(i(0)),r=o(i(11));function o(t){return t&&t.__esModule?t:{default:t}}function l(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}n(h,null,[{key:"create",value:function(t,e){var i,n,s;return t?(i=r.default.getQualifiedClassName(t),s=void 0,(n=h._dic[i])&&n.length?(s=n.pop(),0==n.length&&delete h._dic[i],s&&e&&e instanceof Array&&s.reset&&"function"==typeof s.reset&&s.reset.apply(s,l(e))):s=new(e&&e instanceof Array?Function.prototype.bind.apply(t,[null].concat(l(e))):t),s):null}},{key:"length",value:function(t){t="string"==typeof t?t:r.default.getQualifiedClassName(t),t=h._dic[t];return t?t.length:0}},{key:"remove",value:function(e){if(null!=e){var t=void 0,i=r.default.getQualifiedClassName(e);h._dic[i]||(h._dic[i]=[]),e.hasOwnProperty("name")&&!a.default.isEmpty(e.name)&&((t=(t=e.name).split("_")).pop(),9e5<h.COUNT?h.COUNT=0:h.COUNT++,t.push("pool"+h.COUNT),t=t.join("_"));try{e.reset()}catch(t){return e.dispose(),!1}if(0<h.max&&h._dic[i].length>=h.max){try{e.dispose()}catch(t){}return e=null,!1}return-1==h._dic[i].indexOf(e)&&(a.default.isEmpty(t)||(e.name=t),h._dic[i].push(e)),!0}}},{key:"clear",value:function(t){null==t?h._dic={}:(t=r.default.getQualifiedClassName(t),delete h._dic[t])}},{key:"getInfo",value:function(){var t=void 0,e="[";for(t in h._dic)e+=t+":"+h._dic[t].length+"; ";return e+"]"}}]);i=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function")}(e.default=i).max=50,i._dic={},i.COUNT=0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(21),o=(i=i)&&i.__esModule?i:{default:i};n(l,null,[{key:"countTreeMax",value:function(t,e,i){var n,s=void 0,a=t.length,r=0<a?1:0;for(i=null==i?r:i,s=0;s<a;s++)(n=null==e?t[s]:t[s][e])&&n instanceof Array&&0<n.length&&(r=Math.max(r,i+l.countTreeMax(n,e,i)));return r}},{key:"sort",value:function(t,e){if(!(null==t||t.length<2))for(var i,n,s=void 0,a=0;a<t.length-1;a++){for(var s=!1,r=0;r<t.length-1;r++)i=t[r],n=t[r+1],(e?e(i,n):n<i)&&(n=t[r+1],t[r+1]=t[r],t[r]=n,s=!0);if(!s)return t}return t}},{key:"int",value:function(t){return"string"==typeof t?parseInt(t):.5+t<<0}},{key:"format",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:3;return isNaN(t)?0:Number(Number(t).toFixed(e))}},{key:"randomInt",value:function(t){return l.int((t=t||100)*Math.random())}},{key:"clamp",value:function(t,e,i){return t<Math.min(i,e)?e:t>Math.max(i,e)?i:t}},{key:"getDegreesFromRadians",value:function(t){return 180*t/Math.PI}},{key:"getRadiansFromDegrees",value:function(t){return t%360/180*Math.PI}},{key:"getAngle",value:function(t,e,i,n){n=Math.atan2(n-e,i-t);return n<0?n+2*Math.PI:n}},{key:"normalizeRadian",value:function(t){return t=(t+Math.PI)%(2*Math.PI),t+=0<t?-Math.PI:Math.PI}},{key:"isEquivalent",value:function(t,e){return t-1e-4<e&&e<t+1e-4}},{key:"getSizeScale",value:function(t,e,i,n,s){var a=t/e,r=i/n;return((s=null==s||s)?r<a:a<r)?l.format(i/t,3):l.format(n/e,3)}},{key:"isNumber",value:function(t){return"number"==typeof t&&!isNaN(t)}},{key:"getIQR",value:function(t){if(t&&t.length&&!(t.length<3)){for(var e,i,n=o.default.sort(t.slice(),null,!1,null),s={},a=(s.min=n[0],s.max=n[n.length-1],[.1,.25,.5,.75,.9]),r=void 0,r=0;r<a.length;r++)e=(n.length+1)*a[r],s["q"+r]=(1-(i=e%1))*n[e-i-1]+i*n[e-i];return s}}},{key:"mm2px",value:function(t,e){return l._DPI||(l._DPI=l.getDPI()),{x:parseInt(t/25.4*l._DPI[0]),y:parseInt(e/25.4*l._DPI[1])}}},{key:"px2mm",value:function(t,e){return l._DPI||(l._DPI=l.getDPI()),{x:Math.ceil(25.4*t/l._DPI[0]),y:Math.ceil(25.4*e/l._DPI[1])}}},{key:"getDPI",value:function(){var t,e=new Array;return null!=window.screen.deviceXDPI?(e[0]=window.screen.deviceXDPI,e[1]=window.screen.deviceYDPI):((t=document.createElement("div")).style.cssText="width:1in;height:1in;position:absolute;left:0px;top:0px;z-index:99;visibility:hidden",document.body.appendChild(t),e[0]=parseInt(t.offsetWidth),e[1]=parseInt(t.offsetHeight),t.parentNode.removeChild(t)),e}},{key:"sin",value:function(t){var e=Math.floor(t),i=e+1,n=l.sinInt(e);return(t-e)*l.sinInt(i)+(i-t)*n}},{key:"sinInt",value:function(t){return(t%=360)<0&&(t+=360),t<90?l._sin_map[t]:t<180?l._cos_map[t-90]:t<270?-l._sin_map[t-180]:-l._cos_map[t-270]}},{key:"cos",value:function(t){var e=Math.floor(t),i=e+1,n=l.cosInt(e);return(t-e)*l.cosInt(i)+(i-t)*n}},{key:"cosInt",value:function(t){return(t%=360)<0&&(t+=360),t<90?l._cos_map[t]:t<180?-l._sin_map[t-90]:t<270?-l._cos_map[t-180]:l._sin_map[t-270]}}]);var a=l;function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function")}(e.default=a)._DPI=null,a._sin_map={},a._cos_map={};for(var r=0;r<=90;r++)a._sin_map[r]=Math.sin(a.getRadiansFromDegrees(r)),a._cos_map[r]=Math.cos(a.getRadiansFromDegrees(r))},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(r,[{key:"clone",value:function(){return new r(this.type,this.params,this.label,this.target)}},{key:"reset",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;this.type=t,this.label=i,this.params=e,this.target=n}},{key:"dispose",value:function(){delete this.type,this.target,this.params,this.label}},{key:"toString",value:function(){return'{"type":'+this.type+',label":'+(this.label?this.label.toString():"")+',"target":'+(this.target?this.target.toString():"")+',"params":'+(this.params?this.params.toString():"")+"}"}}]);var s=r;function r(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=this,a=r;if(!(s instanceof a))throw new TypeError("Cannot call a class as a function");this.type=t,this.label=i,this.params=e,this.target=n}(e.default=s).className="Event",s.PLAY_OVER="play_over",s.COMPLETE="complete",s.RESIZE="resize",s.ERROR="error",s.CLOSE="close",s.INIT="init"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=l(i(1)),o=l(i(12)),h=l(i(14)),u=l(i(9)),c=l(i(15)),d=l(i(13)),f=l(i(24)),_=l(i(2)),p=l(i(0)),v=l(i(29));function l(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function l(){var t;if(this instanceof l)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this))).name=d.default.getName("display_object_container"),t.use_canvas=r.default.useCanvas,t.mouseChildren=!0,t.autoSize=!1,t._parentNode=null,t._children=[],t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(l,[{key:"_update_parent_alpha",value:function(){if(!(this._children.length<1))for(var t=void 0,e=void 0,t=0,i=this._children.length;t<i;t++)(e=this._children[t])._parent_alpha=this._alpha*this._parent_alpha,e instanceof l&&e._update_parent_alpha()}},{key:"_update_child_visible",value:function(){for(var t=void 0,e=void 0,t=0,i=this._children.length;t<i;t++)(e=this._children[t])instanceof l?e._update_child_visible():e instanceof o.default&&e._update_visible()}},{key:"addChild",value:function(t){if(!(null==t||!t instanceof h.default))return this.addChildAt(t,this._children.length)}},{key:"addChildAt",value:function(t,e){if(!(null==t||!t instanceof h.default))return t.parent&&t.parent.removeChild(t),this._children.splice(e,0,t),t instanceof c.default?l._num_canvas_target++:t.parentNode=this._parentNode,t.stage=this.stage,t.parent=this,t.updateMatrix=!0,t._parent_alpha=this._alpha*this._parent_alpha,this.autoSize?this._updateSize():(this.width=Math.max(this.width,t.getWidth()),this.height=Math.max(this.height,t.getHeight())),t}},{key:"_updateSize",value:function(){if(null!=this._children&&0!=this._children.length){for(var t,e=void 0,i=_.default.create(u.default),e=0,n=this._children.length;e<n;e++)t=this._children[e].getBounds(this),i=i.union(t);this._minX=Math.floor(i.x),this._minY=Math.floor(i.y),this.width=Math.ceil(i.width),this.height=Math.ceil(i.height),_.default.remove(i)}}},{key:"removeChild",value:function(t){return this.removeChildAt(this._children.indexOf(t))}},{key:"removeChildAt",value:function(t){var e;return t<0||t>this._children.length-1?null:((e=this._children[t]).stage=e.parent=null,this._children.splice(t,1),e._parent_alpha=1,0==this._children.length?this.width=this.height=0:this.autoSize&&this._updateSize(),e instanceof c.default?l._num_canvas_target--:e.parentNode=null,e)}},{key:"getChildByName",value:function(t){if(!p.default.isEmpty(t)){for(var e=void 0,i=this._children.length,e=0;e<i;e++)if(this._children[e].name==t)return this._children[e];return null}}},{key:"getChildAt",value:function(t){return t<0||t>this._children.length-1?null:this._children[t]}},{key:"removeAllChildren",value:function(t){if(!(null==this._children||this._children.length<1)){for(var e=void 0,i=void 0,e=0,n=this._children.length;e<n;e++)if((i=this._children[e]).stage=i.parent=null,i._parent_alpha=1,i instanceof c.default?l._num_canvas_target--:i.parentNode=null,t&&!r.default.gc(i))try{i.dispose()}catch(t){}this._children=[],this.width=this.height=0}}},{key:"contains",value:function(t){return-1!=this._children.indexOf(t)}},{key:"render",value:function(t){if(null!=this._children&&0!=this._children.length){this.updateMatrix&&this.getMatrix(t,!0);for(var e=void 0,i=void 0,e=0;e<this._children.length;e++){i=this._children[e];!this.visible&&i instanceof c.default||i.render.apply(i,arguments)}this.updateMatrix=!1}}},{key:"swapChildrenAt",value:function(t,e){var i,n=this._children.length;0==n||n<=t||t<0||(i=this._children[t],this._children[t]=this._children[e=e<0?0:n<=e?n-1:e],this._children[e]=i)}},{key:"setChildIndex",value:function(t,e){var i=this._children.indexOf(t);null==t||i<0||i==e||(this._children.splice(i,1),this._children.splice(e,0,t))}},{key:"getObjectUnderPoint",value:function(t,e,i,n){var s=void 0;n&&(s=[]);for(var a=this._children.length-1;0<=a;a--){var r=this._children[a];if(null!=r&&r.visible)if(r instanceof l&&r.mouseChildren&&0<r.numChildren){var o=r.getObjectUnderPoint(t,e,i,n);if(o){if(!n)return o;0<o.length&&(s=s.concat(o))}else if(r.mouseEnabled&&r.hitTestPoint(t,e,i)){if(!n)return r;s.push(r)}}else if(r.mouseEnabled&&r.hitTestPoint(t,e,i)){if(!n)return r;s.push(r)}}return n?s:null}},{key:"hitTestPoint",value:function(t,e,i){if(!(this._children.length<=0)){if(!this.mouseChildren&&this.autoSize)return 0<v.default.hitTestPoint(this,t,e,this.usePolyCollision);for(var n=this._children.length-1;0<=n;n--){var s=this._children[n];if(this.usePolyCollision&&!s.usePolyCollision&&(s.usePolyCollision=!0),s.hitTestPoint(t,e,i))return!0}}return!1}},{key:"hitTestObject",value:function(t,e){for(var i,n=void 0,s=void 0,a=void 0,n=this._children.length-1;0<=n;n--)if(s=this._children[n],t instanceof l){for(a=t._children.length-1;0<=a;a--)if(i=t._children[n],s.hitTestObject(i,e))return!0}else if(s.hitTestObject(t,e))return!0;return!1}},{key:"catchAsImage",value:function(){var t,e;this._children.length<=1||(this._updateSize(),t=f.default.containerToImage(this),this.removeAllChildren(!0),(e=new(this.use_canvas?c:o).default).setInstance(t),this.addChild(e))}},{key:"reset",value:function(){this.parentNode=null,this.removeAllChildren(!0),this.name=null,this.autoSize=!1,this.mouseChildren=!0,this.use_canvas=r.default.useCanvas,a(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"reset",this).call(this)}},{key:"dispose",value:function(){a(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"dispose",this).call(this),delete this.use_canvas,this._parentNode,this.autoSize,this._children,this.mouseChildren}},{key:"toString",value:function(){return l.name}},{key:"stage",get:function(){return this._stage},set:function(t){if(this._stage!=t&&(this._stage=t,!(null==this._children||this._children.length<1)))for(var e=void 0,e=0,i=this._children.length;e<i;e++)this._children[e].stage=t}},{key:"alpha",get:function(){return this._alpha},set:function(t){this._alpha!=t&&(this._alpha=t,this.__checkDisplayUpdate(),this._update_parent_alpha())}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible==t||(this._visible=t,this.__checkDisplayUpdate(),this._children.length<1)||this._update_child_visible()}},{key:"updateMatrix",get:function(){return this._updateMatrix},set:function(t){if(t&&this.__checkDisplayUpdate(),this._updateMatrix!=t&&((this._updateMatrix=t)&&this._bounds&&(this._bounds.width=this._bounds.heigth=0),t)&&!(this._children.length<1))for(var e=void 0,e=0,i=this._children.length;e<i;e++)this._children[e].updateMatrix=!0}},{key:"parentNode",get:function(){return this._parentNode},set:function(t){if(this._parentNode!=t&&(this._parentNode=t,!(this._children.length<1)))for(var e=void 0,i=void 0,e=0,n=this._children.length;e<n;e++)(i=this._children[e])instanceof c.default||(i.parentNode=t)}},{key:"numChildren",get:function(){return this._children.length}}]),l}(h.default);(e.default=i).className="DisplayObjectContainer",i._num_canvas_target=0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=o(i(3)),a=o(i(8)),l=o(i(2)),r=o(i(0));function o(t){return t&&t.__esModule?t:{default:t}}n(u,[{key:"rotation",value:function(t){var e;0!=t&&(t+=this.radians,e=this.length(),this.x=h.default.format(Math.cos(t)*e),this.y=h.default.format(Math.sin(t)*e))}},{key:"clone",value:function(){return l.default.create(u).set(this.x,this.y,this.z)}},{key:"add",value:function(t){this.x+=t.x,this.y+=t.y,this.z+=t.z||0}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"multiply",value:function(t){this.x*=t,this.y*=t,this.z*=t}},{key:"offset",value:function(t,e,i){this.x+=t,this.y+=e,this.z+=i}},{key:"abs",value:function(){this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z)}},{key:"length",value:function(){return h.default.format(Math.hypot(this.x,this.y,this.z))}},{key:"normalize",value:function(){var t,e=this.length();return e<Number.MIN_VALUE?0:(this.x*=t=1/e,this.y*=t,this.z*=t,h.default.format(e))}},{key:"min",value:function(t){this.x=(this.x<t.x?this:t).x,this.y=(this.y<t.y?this:t).y,this.z=(this.z<t.z?this:t).z}},{key:"max",value:function(t){this.x=(this.x>t.x?this:t).x,this.y=(this.y>t.y?this:t).y,this.z=(this.z>t.z?this:t).z}},{key:"set",value:function(t,e,i){return this.x=h.default.format(t||0),this.y=h.default.format(e||0),this.z=h.default.format(i||0),this}},{key:"equals",value:function(t){return this.x==t.x&&this.y==t.y&&this.z==t.z}},{key:"toString",value:function(){return String('{"x":'+this.x+',"y":'+this.y+',"z":'+this.z+"}")}},{key:"reset",value:function(){this.set(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0)}},{key:"data",set:function(t){null!=t&&a.default.copyAttribute(this,t,!0)},get:function(){var t=this.toString();return JSON.parse(t)}},{key:"radians",get:function(){return Math.atan2(this.y,this.x)}}],[{key:"distance",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new u;return Math.hypot(t.x-e.x,t.y-e.y,t.hasOwnProperty("z")&&e.hasOwnProperty("z")?t.z-e.z:0)}},{key:"toPoint",value:function(t){if(t&&t instanceof Array&&t.length)return l.default.create(u).set(t[0],1<t.length?t[1]:0,2<t.length?t[2]:0);if(r.default.isEmpty(t))return null;t=-1==(t=t.toLocaleLowerCase()).indexOf("x")?'{"x":'+(t=(t=r.default.replaceAll(t,["(",")","{","}"],["","","",""])).split(","))[0]+',"y":'+t[1]+(2<t.length?',"z":'+t[2]:"")+"}":r.default.replaceAll(t,["(",")","x","y","z","="],["{","}",'"x"','"y"','"z"',":"]);var e=void 0;try{e=JSON.parse(t)}catch(t){}return e?l.default.create(u).set(e.x,e.y,e.z):null}},{key:"getMiddlePoint",value:function(t,e){return new u(.5*(t.x+e.x),.5*(t.y+e.y),.5*(t.z+e.z))}},{key:"clamp",value:function(t,e,i){return 0<e&&(Math.abs(t.x)<e||Math.abs(t.y)<e)&&(Math.abs(t.x)<Math.abs(t.y)?(t.y=t.y*e/Math.abs(t.x),t.x=(0<=t.x?1:-1)*e):(t.x=t.x*e/Math.abs(t.y),t.y=(0<=t.y?1:-1)*e)),0<i&&(Math.abs(t.x)>i||Math.abs(t.y)>i)&&(Math.abs(t.x)>Math.abs(t.y)?(t.y=t.y*i/Math.abs(t.x),t.x=(0<=t.x?1:-1)*i):(t.x=t.x*i/Math.abs(t.y),t.y=(0<=t.y?1:-1)*i)),t}},{key:"rotate",value:function(t,e,i,n,s){var a,r,o;return t&&e&&i&&0!=(a=u.distance(t,e))&&(r=l.default.create(u).set(t.x-e.x,t.y-e.y),o=e.x+a*Math.cos(r.radians+i*(n?-1:1)),e=e.y+a*Math.sin(r.radians+i*(n?-1:1)),s?r.set(o,e):(l.default.remove(r),t.x=o,t.y=e),s)?r:t}},{key:"rotateLine",value:function(t,e,i,n){return u.rotate(l.default.create(u).set(e.x+t,e.y),e,i,n)}},{key:"scale",value:function(t,e,i){if(!t||1==e&&1==i)return t;for(var n,s=0,a=(t=t instanceof Array?t:[t]).length;s<a;s++)(n=t[s])&&(n.x*=e,n.y*=i)}},{key:"offset",value:function(t,e,i){if(!t||0==e&&0==i)return t;for(var n,s=0,a=(t=t instanceof Array?t:[t]).length;s<a;s++)(n=t[s])&&(n.x+=e,n.y+=i)}},{key:"matrix",value:function(t,e){if(t&&e){t=t instanceof Array?t:[t],u.scale(t,e.scaleX,e.scaleY);for(var i,n=0,s=t.length;n<s;n++)(i=t[n])&&(u.rotate(i,e.center,h.default.getRadiansFromDegrees(e.rotation)),i.x=h.default.format(i.x+e.x),i.y=h.default.format(i.y+e.y))}}},{key:"polygonPoints",value:function(t,e,i,n){if(!(n<3)){for(var s,a,r=void 0,o=[],l=(Math.sin(0),Math.cos(0),Math.PI/n*(n%2==0?2:n-1)),r=0;r<n;r++)s=Math.sin(r*l),a=Math.cos(r*l),o.push({x:h.default.format(t+s*i),y:h.default.format(e+a*i)});return o}}},{key:"verticalPoint",value:function(t,e,i){var n=e.y-t.y,s=t.x-e.x,a=e.x*t.y-t.x*e.y;return n*i.x+s*i.y==-a?i:e.y==t.y?l.default.create(u).set(i.x,t.y):(e=(t.x-e.x)/(e.y-t.y),s=(s*(t=i.y-e*i.x)- -1*a)/(i=-1*n-e*s),e=(e*a-n*t)/i,l.default.create(u).set(s,e))}},{key:"interval",value:function(t,e,i,n){var s,a;return n?(n=e.y-t.y,s=t.x-e.x,a=t.x*e.y-e.x*t.y,n*i.x+s*i.y==a):i.x>=Math.min(t.x,e.x)&&i.x<=Math.max(t.x,e.x)&&i.y>=Math.min(t.y,e.y)&&i.y<=Math.max(t.y,e.y)}},{key:"intersection",value:function(t,e,i,n){var s=e.y-t.y,a=t.x-e.x,t=e.x*t.y-t.x*e.y,e=n.y-i.y,r=i.x-n.x,i=n.x*i.y-i.x*n.y;return{x:(a*i-r*t)/(s*r-e*a),y:(e*t-s*i)/(s*r-e*a)}}},{key:"lineExpandArea",value:function(t,e){if(!t||t.length<2)return null;for(var i,n,s=void 0,a=void 0,r=void 0,o=[],l=t.length,h=[],s=0;s<l&&!(l-1<=s);s++)n=t[s],i=t[s+1],n=u._expand_point(n,i,0==s?s+1==l-1?3:1:s+1==l-1?2:0,a,r,e),h.push(n[0]),o.push(n[1]),n.length<3?(a.a=a.b,a.b=n[0],r.a=r.b,r.b=n[1]):(h.push(n[2]),o.push(n[3]),a={a:n[0],b:n[2]},r={a:n[1],b:n[3]});return h.reverse(),o=o.concat(h)}},{key:"_expand_point",value:function(t,e,i,n,s,a){var r=Math.atan2(e.y-t.y,e.x-t.x),o=(1!=i&&3!=i||(t=u.rotateLine(a,t,r+Math.PI,!1)),e=u.rotateLine(a,e,r,!1),[]),l=u.rotateLine(a,t,.5*Math.PI+r,!1),t=u.rotateLine(a,t,.5*Math.PI-r,!0),h=u.rotateLine(a,e,r+.5*Math.PI,!1),a=u.rotateLine(a,e,.5*Math.PI-r,!0),e=void 0;return n&&(e=u.intersection(n.a,n.b,l,h),n.b.x=e.x,n.b.y=e.y),s&&(e=u.intersection(s.a,s.b,t,a),s.b.x=e.x,s.b.y=e.y),1!=i&&3!=i||(o.push(l),o.push(t)),o.push(h),o.push(a),o}}]);i=u;function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=this,s=u;if(!(n instanceof s))throw new TypeError("Cannot call a class as a function");this.y=this.x=this.z=0,this.set(t,e,i)}(e.default=i).className="Point"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=w(i(5)),r=w(i(15)),o=w(i(12)),l=w(i(10)),h=w(i(0)),u=w(i(8)),c=w(i(2)),d=w(i(44)),f=w(i(63)),_=w(i(11)),p=w(i(64)),v=w(i(65)),y=w(i(66)),g=w(i(35)),m=w(i(31)),b=w(i(1));function w(t){return t&&t.__esModule?t:{default:t}}n(k,[{key:"newInstance",value:function(){if(null==this.generator)return null;var t=void 0,e=c.default.create(this.generator,this.params);if(null!=this.properties)for(t in this.properties)e[t]=this.properties[t];return e}}],[{key:"c",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(h.default.isEmpty(t))return null;var i=null==i?b.default.useCanvas:i,n=void 0;switch(t){case"se":var s=!e||!(e instanceof Array)||e.length<1,n=c.default.create(l.default,s?null:e);if(s)break;return n;case"dc":n=c.default.create(a.default);break;case"do":n=c.default.create((i?r:o).default);break;case"mc":n=c.default.create((i?d:f).default);break;case"bs":if((n=c.default.create(y.default)).use_canvas=i,e&&"array"==u.default.getType(e))return n.setup.apply(n,e),n;break;case"tf":if(null==e)return null;e.font&&g.default.has(e.font)?(n=new BitmapText).setup(e.text,e.font,e.lineWidth,e.align):n=i?new p.default(e.text,e.font,e.color,e.size):new v.default(e.isInput,e.multiline,e.tabindex,e.password);break;case"ef":return n=c.default.create(m.default),null!=e&&null!=e.length&&0!=e.length&&n.setup.apply(n,e),n}return n&&e&&u.default.copyAttribute(n,e,!0),n}}]);i=k;function k(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=this,s=k;if(!(n instanceof s))throw new TypeError("Cannot call a class as a function");this.generator="string"==typeof t?_.default.getDefinitionByName(t):t,this.properties=e,this.params=i}(e.default=i).className="Factory"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=a(i(2)),o=a(i(0));function a(t){return t&&t.__esModule?t:{default:t}}n(h,null,[{key:"getType",value:function(t){var e;return null==t?"null":("object"==(e=(e=void 0)===t?"undefined":c(t))?null==t?"null":Object.prototype.toString.call(t).slice(8,-1):e).toLowerCase()}},{key:"removeUndefinedKeys",value:function(t){for(var e in t)void 0===t[e]&&delete t[e];return t}},{key:"toString",value:function(t){return t?JSON.stringify(t):"boolean"==h.getType(t)?"false":"null"}},{key:"getAttribute",value:function(t,e){if(null==t||o.default.isEmpty(e))return null;for(var i,n=e.split("."),s=0,a=n.length;s<a;s++)if(i=n[s],!o.default.isEmpty(i)){if(!t||!t[i])return null;t=t[i]}return t}},{key:"toArray",value:function(t){if(!t)return null;var e,i=[];for(e in t)i.push({name:e,value:t[e]});return i}},{key:"getLabels",value:function(t){return null==t?null:Object.getOwnPropertyNames(t)}},{key:"clearAttribute",value:function(t,e,i){if(!(null==t||null==e||e.length<1)){var n,s=void 0;for(s in t)(n="function"==typeof t[s])&&(null==i||0<=i.indexOf(s))||!n&&(null==e||0<=e.indexOf(s))||delete t[s]}}},{key:"copyAttribute",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=4<arguments.length&&void 0!==arguments[4]&&arguments[4];if(null!=t&&null!=e){var a,r=void 0,o=void 0;for(r in e)if(a=e[r],!(i&&!(r in t)||n&&0<=n.indexOf(r))){try{o=c(t[r])}catch(t){continue}switch(o="null"==o||"undefined"==o?void 0===a?"undefined":c(a):o){case"number":t[r]=isNaN(a)?a:Number(a);break;case"boolean":t[r]=1==(null!=a&&("string"==typeof a?"true"==a:a));break;case"string":t[r]=a;break;default:t[r]=null!=a&&"string"!=typeof a&&s?h.cloneObj(a):a}}return t}}},{key:"cloneObj",value:function(t){return null==t?null:JSON.parse(JSON.stringify(t))}},{key:"getAttribute",value:function(t,e){if(!t||!e||"string"!=typeof e)return null;var e=e.split("."),i=!0,n=!1,s=void 0;try{for(var a,r=e[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;if("object"!=(void 0===t?"undefined":c(t))||!t.hasOwnProperty(o)||!t[o])return null;t=t[o]}}catch(t){n=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}return t}},{key:"equal",value:function(t,e){if(null==t||null==e)return t==e;if("object"!=(void 0===t?"undefined":c(t)))return t==e;var i,n=void 0,s=void 0,a=void 0;if(t instanceof Array&&e instanceof Array&&t.hasOwnProperty("length")&&e.hasOwnProperty("length")){if(t.length!=e.length)return!1;for(a=0,l=t.length;a<l;a++)if(!h.equal(t[a],e[a]))return!1}else{if(n=ArrayUtil.removeChild(Object.getOwnPropertyNames(t),"__ob__"),s=ArrayUtil.removeChild(Object.getOwnPropertyNames(e),"__ob__"),t instanceof Array&&(n=ArrayUtil.removeChild(n,"length")),e instanceof Array&&(s=ArrayUtil.removeChild(s,"length")),n.length!=s.length)return!1;for(a=0;a<n.length;a++)if(i=n[a],!h.equal(t[i],e[i]))return!1}return!0}},{key:"remove_attribute",value:function(t,e){if(null!=t&&e&&""!=e&&"object"==(void 0===t?"undefined":c(t)))if(t instanceof Array)for(var i=0,n=t.length;i<n;i++)h.remove_attribute(t[i],e);else for(var s in t.hasOwnProperty(e)&&delete t[e],t)h.remove_attribute(t[s],e)}},{key:"copy",value:function(t,e,i,n){if(!t||"object"!=(void 0===t?"undefined":c(t)))return t;var s=void 0,a=void 0;if(t instanceof t.constructor&&t.constructor!==Object)if(e)for(a in s=r.default.create(e),t)(n||"function"!=typeof t[a])&&s.hasOwnProperty(a)&&(s[a]=t[a]);else s=h.cloneObj(t);else for(a in s={},t)s[a]=t[a];if(i)for(a in i)s[a]=i[a];return s}},{key:"pushFormData",value:function(t){var e,i=new FormData,n=void 0,s=void 0,a=void 0;for(n in t)if(s="object"===(void 0===(a=t[n])?"undefined":c(a))&&(a instanceof Array||a instanceof FileList)){var r=!0,o=!1,l=void 0;try{for(var h,u=a[Symbol.iterator]();!(r=(h=u.next()).done);r=!0)((e=h.value)instanceof File||"File"==e.constructor.name)&&(i.append(n,e),s=!1)}catch(t){o=!0,l=t}finally{try{!r&&u.return&&u.return()}finally{if(o)throw l}}s&&i.append(n,JSON.stringify(a))}else i.append(n,a instanceof File||"File"==a.constructor.name||"object"!=(void 0===a?"undefined":c(a))?a:JSON.stringify(a));return i}},{key:"getAttribute",value:function(t,e){if(!t||!e||"string"!=typeof e)return null;var e=e.split("."),i=!0,n=!1,s=void 0;try{for(var a,r=e[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value;if("object"!=(void 0===t?"undefined":c(t))||!t.hasOwnProperty(o)||!t[o])return null;t=t[o]}}catch(t){n=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}return t}}]);i=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=o(i(6)),a=o(i(3)),r=o(i(8)),h=(o(i(2)),o(i(0)));function o(t){return t&&t.__esModule?t:{default:t}}n(l,[{key:"set",value:function(t,e,i,n){return this.x=a.default.format(t||0),this.y=a.default.format(e||0),this.width=Math.abs(a.default.format(i||0)),this.height=Math.abs(a.default.format(n||0)),this}},{key:"move",value:function(t,e){return this.x=a.default.format(null==e?t.x:t+this.x),this.y=a.default.format(null==e?t.y:e+this.y),this}},{key:"add",value:function(t){this.x=a.default.format(t.x+this.x),this.y=a.default.format(t.y+this.y),this.width=a.default.format(t.width+this.width),this.height=a.default.format(t.height+this.height)}},{key:"multiply",value:function(t,e){t=Math.abs(t),e=Math.abs(e||t),this.x=a.default.format(this.x*t),this.y=a.default.format(this.y*e),this.width=a.default.format(this.width*t),this.height=a.default.format(this.height*e)}},{key:"zoom",value:function(t,e){0==t&&0==e||(t=t<0&&Math.abs(t)>.5*this.width?.5*-this.width:t,e=e<0&&Math.abs(e)>.5*this.height?.5*-this.height:e,this.x=a.default.format(this.x-t),this.y=a.default.format(this.y-e),this.width=a.default.format(this.width+t),this.height=a.default.format(this.height+e))}},{key:"contains",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return null!=t&&(t instanceof u.default?this.x<=t.x&&this.y<=t.y&&t.x<=this.right&&t.y<=this.bottom:t instanceof l?this.x<=t.x&&this.y<=t.y&&t.right<=this.right&&t.bottom<=this.bottom:null!=e&&this.x<=t&&this.y<=e&&t<=this.right&&e<=this.bottom)}},{key:"intersects",value:function(t){return this.x<=t.x+t.width&&this.y<=t.y+t.height&&t.x<=this.x+this.width&&t.y<=this.y+this.height}},{key:"intersection",value:function(t){var e,i;return this.intersects(t)?new l(e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),Math.min(this.x+this.width,t.x+t.width)-e,Math.min(this.y+this.height,t.y+t.height)-i):new l}},{key:"getPoints",value:function(t,e){t=t?-1:1,e=e?-1:1;return[new u.default(this.x,this.y),new u.default(this.x+this.width*t,this.y),new u.default(this.x+this.width*t,this.y+this.height*e),new u.default(this.x,this.y+this.height*e)]}},{key:"rotation",value:function(t,e,i,n,s){e=e||new u.default;for(var a,r,o,l=this.getPoints(n,s),h=void 0,h=0;h<l.length;h++)l[h].subtract(e),o=l[h].length(),r=l[h].radians,a=Math.sin(r+t),r=Math.cos(r+t),l[h].x=e.x+o*r+(i?i.x:0),l[h].y=e.y+o*a+(i?i.y:0);return l}},{key:"union",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=Math.min(this.x,t.x),n=Math.min(this.y,t.y),s=Math.max(this.x+this.width,t.x+t.width)-i,t=Math.max(this.y+this.height,t.y+t.height)-n;return e?new l(i,n,s,t):(this.x=i,this.y=n,this.width=s,this.height=t,this)}},{key:"clone",value:function(){return new l(this.x,this.y,this.width,this.height)}},{key:"reset",value:function(){this.set(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,3<arguments.length&&void 0!==arguments[3]?arguments[3]:0)}},{key:"toArray",value:function(t){return[this.x,this.y,t?this.right:this.width,t?this.bottom:this.height]}},{key:"toString",value:function(){return'{"x":'+this.x+',"y":'+this.y+',"width":'+this.width+',"height":'+this.height+"}"}},{key:"data",get:function(){var t=this.toString();return JSON.parse(t)},set:function(t){null!=t&&this.set(t.x,t.y,t.width,t.height)}},{key:"topLeft",get:function(){return new u.default(this.x,this.y)}},{key:"bottomRight",get:function(){return new u.default(this.x+this.width,this.y+this.height)}},{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"toRectangle",value:function(t){if(h.default.isEmpty(t))return null;if(t=String(t).toLowerCase(),!h.default.exist(t,"x","y","w","h",":","="))return(e=(e=(t=h.default.replaceAll(t,["(",")","{","}"],["","","",""])).split(",")).length<2?t.split(" "):e).length<4?null:new l(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]));t=-1==(t=-1==(t=h.default.replaceAll(t,["(",")"],["{","}"])).indexOf("height")?h.default.replace(t,"h","height"):t).indexOf("width")?h.default.replace(t,"w","width"):t,t=h.default.exist(t,'"',"'",":")?t:h.default.replaceAll(t,["=","x","y","width","height"],[":",'"x"','"y"','"width"','"height"']);var e=void 0;try{e=JSON.parse(t)}catch(t){}return e?r.default.copyAttribute(new l,e,!0):null}},{key:"getRectanglePoint",value:function(t,e,i){return e=e||.5,i=i||.5,t?new u.default(a.default.format(t.x+t.width*e),a.default.format(t.y+t.height*i)):null}},{key:"setRectangleCenter",value:function(t,e,i,n){null!=t&&null!=e&&(n=n||.5,t.x=a.default.format(e.x-t.width*(i=i||.5)),t.y=a.default.format(e.y-t.height*n))}},{key:"innerPoint",value:function(t,e){if(null!=t&&null!=e)return e.x=a.default.clamp(e.x,t.x,t.right),e.y=a.default.clamp(e.y,t.y,t.bottom),e}},{key:"createRectangle",value:function(t,e,i,n){i=i||t,n=n||e;var s=Math.min(t.x,e.x,i.x,n.x),a=Math.max(t.x,e.x,i.x,n.x),r=Math.min(t.y,e.y,i.y,n.y);return{x:s,y:r,width:a-s,height:Math.max(t.y,e.y,i.y,n.y)-r}}},{key:"rectangleByRadians",value:function(t,e,i,n,s,a){t=t.rotation(e,i,n,s,a);return r.default.copyAttribute(t,l.createRectangle(t[0],t[1],t[2],t[3])),t}},{key:"getPointsBounds",value:function(t){if(!t||!t.length)return null;for(var e,i=0,n=0,s=0,a=0,r=t[0]instanceof Array,o=0,l=t.length;o<l;o++)e=t[o],!h.default.isEmpty(e)&&(r?e.length:e.hasOwnProperty("x"))&&(0==o?(i=s=r?parseFloat(e[0]):e.x,n=a=r?parseFloat(e[1]):e.y):(i=Math.min(i,r?parseFloat(e[0]):e.x),n=Math.min(n,r?parseFloat(e[1]):e.y),s=Math.max(s,r?parseFloat(e[0]):e.x),a=Math.max(a,r?parseFloat(e[1]):e.y)));return{x:i,y:n,width:s-i,height:a-n}}},{key:"isContainedIn",value:function(t,e){return t.contains(e)}}]);i=l;function l(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=this,a=l;if(!(s instanceof a))throw new TypeError("Cannot call a class as a function");this.x=this.y=this.width=this.height=0,this.set(t,e,i,n)}(e.default=i).className="Rectangle"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=l(i(4)),o=l(i(7));function l(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function s(t,e,i,n){if(this instanceof s)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,t,e,i,n))).length=t.delta=t.mouseY=t.mouseX=0,t.touchs=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(s,[{key:"setup",value:function(t,e,i,n,s,a,r,o,l){return this.type=t,this.label=i,this.params=e,this.target=n,this.length=o,this.touchs=l,this.delta=null==r?0:r,this.mouseY=null==a?0:a,this.mouseX=null==s?0:s,this}},{key:"reset",value:function(){for(var t,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];(t=a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"reset",this)).call.apply(t,[this].concat(i)),this.length=this.delta=this.mouseY=this.mouseX=0,this.touchs=null}},{key:"clone",value:function(){return o.default.c("se").setup(this.type,this.params,this.label,this.target,mouseX,mouseY,delta,length,touchs)}},{key:"dispose",value:function(){a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"dispose",this).call(this),delete this.delta,this.mouseY,this.mouseX,this.length,this.touchs}},{key:"toString",value:function(){return"[StageEvent length="+this.length+", type="+this.type+", mouseX="+this.mouseX+", mouseY="+this.mouseY+", delta="+this.delta+"]"}}]),s}(r.default);(e.default=i).className="StageEvent",i.MESSAGE="win_message",i.ENTER_FRAME="enterframe",i.MOUSE_WHEEL="mousewheel",i.MOUSE_CLICK="mouseclick",i.MOUSE_DOWN="mousedown",i.MOUSE_MOVE="mousemove",i.MOUSE_OVER="mouseover",i.MOUSE_TAP="mousetap",i.MOUSE_OUT="mouseout",i.MOUSE_UP="mouseup",i.RESIZE="resize",i.DRAG_MOVE="drag_move",i.KEY_DOWN="keydown",i.KEY_UP="keyup",i.UPDATE="update"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=o(i(1)),r=o(i(0));function o(t){return t&&t.__esModule?t:{default:t}}n(l,null,[{key:"getQualifiedClassName",value:function(t){if(!t)return null;if(t.className)return t.className;if(t.constructor&&t.constructor.name)return("Function"==t.constructor.name?t:t.constructor).name;var e,i=void 0;try{i=t.prototype||Object.getPrototypeOf(t)}catch(t){return void trace("[ERROR] ClassUtil.getQualifiedClassName",t)}return i.hasOwnProperty("__class__")?i.__class__:(e=(t=i.constructor.toString()).indexOf("("),t=t.substring(9,e),Object.defineProperty(i,"__class__",{value:t,enumerable:!1,writable:!0}),t)}},{key:"getQualifiedSuperclassName",value:function(t){var e=t.prototype||Object.getPrototypeOf(t);if(e.hasOwnProperty("__superclass__"))return e.__superclass__;for(var i=void 0,n=l.getQualifiedClassName(t),s=Object.getPrototypeOf(e);s&&s.constructor;)(i=l.getQualifiedClassName(s.constructor))&&""!=i.trim()&&"Object"!=i.trim()&&(n=i.trim()+"."+n),s=s.constructor.prototype?Object.getPrototypeOf(s.constructor.prototype):null;return Object.defineProperty(e,"__superclass__",{value:n,enumerable:!1,writable:!0}),n}},{key:"getDefinitionByName",value:function(t){if(r.default.isEmpty(t))return null;var e=l.__getDefinitionByName__cache[t];if(!e){var i=t.split("."),n=i.length;e=a.default.root;for(var s=0;s<n;s++)if(!(e=e[i[s]]))return null;l.__getDefinitionByName__cache[t]=e}return e}}]);i=l;function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function")}(e.default=i).__getDefinitionByName__cache={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=k(i(29)),o=k(i(13)),h=k(i(0)),l=k(i(11)),u=k(i(24)),c=k(i(8)),d=k(i(2)),f=k(i(15)),_=(k(i(43)),k(i(3))),p=k(i(20)),v=k(i(14)),y=k(i(4)),g=k(i(1)),m=k(i(16)),b=k(i(32)),w=k(i(6));function k(t){return t&&t.__esModule?t:{default:t}}var x=Symbol("element"),i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._blendMode=t.instance=t._rect=t._mask=t._parent_node=t[x]=null,t.name=o.default.getName("dom_display"),t.hide_over=t._global_visible=!0,t._layer=t._depth=0,t.use_canvas=!1,t.filters=[],t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"render",value:function(t){null!=this[x]&&(this._depth=this._layer||++i._depth_count,this._transform(t))}},{key:"_render",value:function(){}},{key:"setInstance",value:function(t){if(null==t||this.instance==t)return this.instance!=t&&(this.element=this.instance=null),t;if(this._rect=null,t instanceof HTMLImageElement)t.style.display="none",this.element=t;else if(t instanceof HTMLCanvasElement)this.element=u.default.toImage(t);else if(t instanceof f.default)this.setInstance(t.canvas||t.instance),this.param=t.param;else if(t instanceof m.default)this.register_point=d.default.create(w.default).set(t.regX,t.regY),this._rect=t,null==this[x]?this.element=p.default.createDOM("div",{id:this.name,style:{width:t.width+"px",height:t.height+"px",backgroundImage:"url("+t.image.src+")",backgroundRepeat:"no-repeat"}}):this.instance.image!=t.image&&(this[x].style.backgroundImage="url("+t.image.src+")");else if(t instanceof b.default)this.setInstance(t.canvas);else{if(!(t instanceof HTMLDivElement||t instanceof SVGSVGElement))return trace("DOMDisplay:: set instance with a invalid value.",l.default.getQualifiedClassName(t),"-",c.default.getType(t)),null;this.element=t}return this.instance=t,this[x]&&this._stage&&this._display(!0),t instanceof m.default&&this._transform(),this.updateMatrix=!0,this.__checkDisplayUpdate(),this.dispatchEvent(new y.default(v.default.RESET_INSTANCE)),this.instance}},{key:"_transform",value:function(t){var e=this._visible&&this._global_visible;if(this[x].style.display=e?"":"none",e){var i,e=this.updateMatrix||this._refresh,t=this.getMatrix(t,!0),n=g.default.cssPrefix,s=h.default.isEmpty(n),a=s?"transformOrigin":n+"TransformOrigin",s=s?"transform":n+"Transform";if(this[x].style.position=g.default.position,this[x].style.opacity=this._alpha*this._parent_alpha,this[x].style.overflow=this.hide_over?"hidden":"visible",this[x].style.zIndex=g.default.layer+this._depth,this._rect&&(this.width=this._rect.width,this.height=this._rect.height,this[x].style.backgroundPosition=-this._rect.x+"px "+-this._rect.y+"px"),null!=this._blendMode&&(this[x].style.mixBlendMode=this._blendMode),e&&(i="width"==(e=0<this.width?"width":"height")?"height":"width",this[x].style[e]=0<this[e]?this[e]+"px":"100%",this[i]<=0&&(this[i]=this[x]["offset"+i.substring(0,1).toUpperCase()+i.substring(1)]),this[x].style[i]=0<this[i]?this[i]+"px":"100%",g.default.supportTransform?(this[x].style[a]="0% 0%",this[x].style.top=this[x].style.left="0px",this[x].style[s]=this._get_transform_css(t)):(this[x].style.top=t.ty+"px",this[x].style.left=t.tx+"px"),this._refresh=!1),this._mask?(e="string"==typeof this._mask||this._mask instanceof ShapeVO,i=this._mask instanceof m.default,e?this[x].style[n+"ClipPath"]=this[x].style.clipPath="url(#"+("string"==typeof this._mask?this._mask:this._mask.id+ShapeVO.CILP)+")":(this[x].style[n+"MaskImage"]="url("+(i?this._mask.image:this._mask).src+")",this[x].style[n+"MaskRepeat"]="no-repeat",this[x].style[n+"MaskPosition"]=t.tx+"px "+t.ty+"px")):this[x].style[n+"ClipPath"]=this[x].style.clipPath=this[x].style[n+"MaskImage"]=this[x].style[n+"MaskPosition"]="",this.filters&&0<this.filters.length)for(var r=void 0,o=0,l=this.filters.length;o<l;o++)null!=(r=this.filters[o])&&r.show(this[x]);else this[x].style[g.default.cssPrefix+"BoxShadow"]=this[x].style.textShadow="";this[x].style.cursor=null==this._cursor?"":this._cursor,this[x].style.pointerEvents=this.mouseEnabled?"auto":"none"}}},{key:"_get_transform_css",value:function(t){return t.toCSS()}},{key:"_update_visible",value:function(){if(null!=this.parent){for(var t=!0,e=(e=this).parent;null!=e&&(t=t&&e.visible);e=e.parent);this._global_visible=t}}},{key:"hitTestPoint",value:function(t,e,i){return 0<r.default.hitTestPoint(this,t,e,this.usePolyCollision)}},{key:"hitTestObject",value:function(t,e){return 0<r.default.hitTestObject(this,t,this.usePolyCollision)}},{key:"_display",value:function(t){if(t)try{this[x]&&null==this[x].parentNode&&(this._parent_node||this.stage.div||this.stage.canvas.parentNode).appendChild(this[x])}catch(t){trace("[ERROR]DOMDisplay _display()",this.name,t.message)}else this[x]&&(this[x].parentNode&&this[x].parentNode.removeChild(this[x]),this[x].style.display="none")}},{key:"reset",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this),this._parent&&this.removeFromParent(!1),this[x]&&this[x].parentNode&&this[x].parentNode.removeChild(this[x]),this.instance&&this.instance instanceof m.default&&this.instance.isClone&&d.default.remove(this.instance),this._mask&&this._mask instanceof ShapeVO&&d.default.remove(this._mask),this._blendMode=this.instance=this._rect=this._mask=this._parent_node=this[x]=null,this.hide_over=this._global_visible=!0,this._layer=this._depth=0,this.use_canvas=!1,this.filters=[]}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._blendMode,this.hide_over,this._global_visible,this.filters,this._layer,this.instance,this._rect,this._depth,this[x],this._parent_node,this._mask}},{key:"toString",value:function(){return i.name}},{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode!=t&&(this._blendMode=t||"normal",this.__checkDisplayUpdate())}},{key:"layer",get:function(){return this._layer||this._depth},set:function(t){this._layer!=t&&(this._layer=t)}},{key:"visible",get:function(){return this._visible},set:function(t){this._visible!=t&&(this._visible=t,this[x])&&(this[x].style.display=this._visible&&this._global_visible?"":"none")}},{key:"stage",get:function(){return this._stage},set:function(t){null==t&&(this._global_visible=!0),this._stage!=t&&((this._stage=t)&&(this._update_visible(),this.updateMatrix=!0),this._display(null!=t))}},{key:"element",get:function(){return this[x]},set:function(t){var e;this[x]!=t&&(e=void 0,this[x]&&this[x].parentNode?(e=this[x].parentNode).removeChild(this[x]):this._stage&&(e=this._parent_node||this._stage.div),t&&t.parentNode&&t.parentNode.removeChild(t),null==(this[x]=t)?this.width=this.height=0:(h.default.isEmpty(this[x].id)&&(this[x].id=this.name),this.width=null==this[x].width||"number"!=typeof this[x].width?h.default.isEmpty(this[x].style.width)?this.width:_.default.int(this[x].style.width):this[x].width,this.height=null==this[x].height||"number"!=typeof this[x].height?h.default.isEmpty(this[x].style.height)?this.height:_.default.int(this[x].style.height):this[x].height,e&&e.appendChild(this[x])))}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&this._mask instanceof ShapeVO&&this._mask!=t&&d.default.remove(this._mask),this._mask=t,this.__checkDisplayUpdate()}},{key:"parentNode",get:function(){return this._parent_node},set:function(t){this._parent_node!=t&&(this._parent_node=t,null!=this[x])&&this[x].parentNode!=this._parent_node&&this[x]&&this._stage&&(this[x].parentNode&&this[x].parentNode.removeChild(this[x]),this._display(!0))}}]),i}(v.default);(e.default=i)._depth_count=0,i.className="DOMDisplay"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"getName",value:function(t){return a.dic.hasOwnProperty(t)&&Number.isFinite(a.dic[t])?a.dic[t]++:a.dic[t]=0,t+a.dic[t]}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}(e.default=s).dic={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=f(i(19)),o=f(i(2)),y=f(i(8)),l=f(i(3)),h=f(i(1)),u=f(i(4)),c=f(i(55)),d=f(i(6));f(i(9)),f(i(5));function f(t){return t&&t.__esModule?t:{default:t}}var _=Symbol("draggable"),p=Symbol("x"),v=Symbol("y"),g=Symbol("skewX"),m=Symbol("skewY"),b=Symbol("width"),w=Symbol("height"),k=Symbol("scaleX"),x=Symbol("scaleY"),O=Symbol("rotation"),i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._cursor=t.name=t.register_point=t._parent=t._temp_matrix=t._matrix=t.polyArea=t._stage=t._bounds=null,t[w]=t[b]=t[v]=t[p]=t[O]=t[g]=t[m]=t._minX=t._minY=0,t[x]=t[k]=t._alpha=t._parent_alpha=1,t._refresh=t._resize=t.mouseEnabled=!1,t.usePolyCollision=!1,t._updateMatrix=!0,t.breakTouch=!1,t[_]=!1,t._visible=!0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"__checkDisplayUpdate",value:function(){this._stage&&!this._stage.auto_fresh&&(this._stage.auto_fresh=!0)}},{key:"setSize",value:function(t,e){null==t||Number.isNaN(t)||null==e||Number.isNaN(e)||this[b]==t&&this[w]==e||(this.height=e,this.width=t)}},{key:"getMatrix",value:function(t,e){var i,n;return this._matrix&&!this.updateMatrix&&!t&&e?this._matrix:(this._temp_matrix?this._temp_matrix.reset():this._temp_matrix=o.default.create(c.default),!this._matrix||this.updateMatrix||t||e?t!=this&&(n=this.origin?this.origin.x:0,i=this.origin?this.origin.y:0,this._temp_matrix.concatTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,n,i,this.skewX,this.skewY),this.parent&&t!=this.parent&&(this._temp_matrix.concat(this.parent.matrix),t)&&t.matrix&&(n=t.matrix.clone().invert(),this._temp_matrix.concat(n),o.default.remove(n)),this.updateMatrix)&&!t&&e&&(this._matrix?this._matrix.setup(this._temp_matrix.a,this._temp_matrix.b,this._temp_matrix.c,this._temp_matrix.d,this._temp_matrix.tx,this._temp_matrix.ty):this._matrix=this._temp_matrix.clone(),this.updateMatrix=!1):this._temp_matrix.setup(this._matrix.a,this._matrix.b,this._matrix.c,this._matrix.d,this._matrix.tx,this._matrix.ty),this._temp_matrix)}},{key:"localToGlobal",value:function(t,e){null==e&&t instanceof d.default&&(e=t.y,t=t.x);var i=this.getMatrix(),n=o.default.create(c.default),t=(n.setup(1,0,0,1,t,e),n.concat(i),o.default.create(d.default).set(n.tx,n.ty));return o.default.remove(n),t}},{key:"globalToLocal",value:function(t,e){null==e&&t instanceof d.default&&(e=t.y,t=t.x);var i=this.getMatrix(),n=(i.invert(),o.default.create(c.default)),t=(n.setup(1,0,0,1,t,e),n.concat(i),o.default.create(d.default).set(n.tx,n.ty));return o.default.remove(n),t}},{key:"localToTarget",value:function(t,e,i){return null==i?this.localToGlobal(t,e):i.globalToLocal(this.localToGlobal(t,e))}},{key:"getWidth",value:function(){return Math.ceil(Math.abs(this.width*this.scaleX))}},{key:"getHeight",value:function(){return Math.ceil(Math.abs(this.height*this.scaleY))}},{key:"getBounds",value:function(t){var e=this.getWidth()/Math.abs(this.scaleX),i=this.getHeight()/Math.abs(this.scaleY),n=this._minX,s=this._minY,a=void 0,r=void 0,o=null==t&&this._bounds;if(this.polyArea){if(null==this._bounds)this._bounds=y.default.cloneObj(this.polyArea);else for(a=0;a<this.polyArea.length;a++)this._bounds[a].x=this.polyArea[a].x,this._bounds[a].y=this.polyArea[a].y;r=this._bounds}else if(o){if(0<this._bounds.width&&0<this._bounds.height)return this._bounds;this._bounds[0].x=n,this._bounds[0].y=s,this._bounds[1].x=n+e,this._bounds[1].y=s,this._bounds[2].x=n+e,this._bounds[2].y=s+i,this._bounds[3].x=n,this._bounds[3].y=s+i}var l,h=this.getMatrix(t),r=r||(o?this._bounds:[{x:n,y:s},{x:n+e,y:s},{x:n+e,y:s+i},{x:n,y:s+i}]),u=o?this._bounds:[],c=r.length,d=void 0,f=void 0,_=void 0,p=void 0,d=f=(l=h.transformPoint(r[0],!0,!1)).x,_=p=l.y;u[0]=l;for(var v=1;v<c;v++)d>(l=h.transformPoint(r[v],!0,!1)).x?d=l.x:f<l.x&&(f=l.x),_>l.y?_=l.y:p<l.y&&(p=l.y),u[v]=l;return u.x=d,u.y=_,u.width=f-d,u.height=p-_,null==t&&null==this._bounds&&(this._bounds=u),u}},{key:"getIndex",value:function(){return null!=this.parent&&this.parent.contains(this)?this.parent._children.indexOf(this):-1}},{key:"toTop",value:function(){null!=this.parent&&this.parent.contains(this)&&this.parent.setChildIndex(this,this.parent.numChildren-1)}},{key:"toBottom",value:function(){null!=this.parent&&this.parent.contains(this)&&this.parent.setChildIndex(this,0)}},{key:"moveTo",value:function(t,e){null==e&&t instanceof d.default&&(e=t.y,t=t.x),this[p]==t&&this[v]==e||Number.isNaN(t)||Number.isNaN(e)||(this[p]=t,this[v]=e,this.updateMatrix=!0)}},{key:"removeFromParent",value:function(t){null!=this.parent&&this.parent.contains(this)&&this.parent.removeChild(this),t&&!h.default.gc(this)&&this.dispose()}},{key:"reset",value:function(){this._parent&&this.removeFromParent(!1),this._matrix&&o.default.remove(this._matrix),this._temp_matrix&&o.default.remove(this._temp_matrix),this.register_point&&o.default.remove(this.register_point),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this),this.stage=null,this._visible=this._updateMatrix=!0,this[x]=this[k]=this._alpha=this._parent_alpha=1,this._minX=this._minY=this[g]=this[m]=this[w]=this[b]=this[v]=this[p]=this[O]=0,this._refresh=this._resize=this.mouseEnabled=this.usePolyCollision=this.breakTouch=this[_]=!1,this._cursor=this._bounds=this._matrix=this._temp_matrix=this.register_point=this.parent=this.polyArea=this.name=null}},{key:"dispose",value:function(){this.reset(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._refresh,this._cursor,this._bounds,this._minX,this._minY,this._temp_matrix,this.breakTouch,this._resize,this[g],this[m],this._stage,this._updateMatrix,this.polyArea,this[_],this.usePolyCollision,this._matrix,this.register_point,this[w],this[b],this[v],this[p],this[O],this[x],this[k],this._alpha,this.mouseEnabled,this._visible,this.name,this._parent,this._parent_alpha}},{key:"render",value:function(){}},{key:"buttonMode",set:function(t){this.mouseEnabled=!0,this._cursor=t?"pointer":""},get:function(){return"pointer"==this._cursor}},{key:"resize",set:function(t){this._resize=t,this._resize&&(this.dispatchEvent(new u.default(i.RESIZE)),this.__checkDisplayUpdate())},get:function(){return this._resize}},{key:"stage",get:function(){return this._stage},set:function(t){this._stage!=t&&(this._stage=t)}},{key:"visible",set:function(t){t=Boolean(t),this._visible!=t&&(this._visible=t,this.__checkDisplayUpdate())},get:function(){return this._visible}},{key:"parent",set:function(t){this._parent!=t&&(this._parent=t)},get:function(){return this._parent}},{key:"alpha",set:function(t){this._alpha==t||Number.isNaN(t)||(this._alpha=l.default.clamp(t,0,1),this.__checkDisplayUpdate(),this.updateMatrix=!0)},get:function(){return this._alpha}},{key:"updateMatrix",get:function(){return this._updateMatrix},set:function(t){t&&this.__checkDisplayUpdate(),this._updateMatrix!=t&&(this._updateMatrix=t)&&this._bounds&&(this._bounds.width=this._bounds.heigth=0)}},{key:"skewX",get:function(){return this[g]},set:function(t){this[g]==t||Number.isNaN(t)||(this[g]=l.default.format(t),this.updateMatrix=!0)}},{key:"skewY",get:function(){return this[m]},set:function(t){this[m]==t||Number.isNaN(t)||(this[m]=l.default.format(t),this.updateMatrix=!0)}},{key:"x",get:function(){return this[p]},set:function(t){this[p]==t||Number.isNaN(t)||(this[p]=l.default.format(t),this.updateMatrix=!0)}},{key:"y",get:function(){return this[v]},set:function(t){this[v]==t||Number.isNaN(t)||(this[v]=l.default.format(t),this.updateMatrix=!0)}},{key:"width",get:function(){return this[b]},set:function(t){this[b]==t||Number.isNaN(t)||(this[b]=l.default.format(Math.max(0,t)),this.updateMatrix=!0,this.resize=!0)}},{key:"height",get:function(){return this[w]},set:function(t){this[w]==t||Number.isNaN(t)||(this[w]=l.default.format(Math.max(0,t)),this.updateMatrix=!0,this.resize=!0)}},{key:"scaleX",get:function(){return this[k]},set:function(t){this[k]==t||Number.isNaN(t)||(this[k]=l.default.format(t),this.updateMatrix=!0)}},{key:"scaleY",get:function(){return this[x]},set:function(t){this[x]==t||Number.isNaN(t)||(this[x]=l.default.format(t),this.updateMatrix=!0)}},{key:"rotation",get:function(){return this[O]},set:function(t){this[O]==t||Number.isNaN(t)||(this[O]=l.default.format(t),this.updateMatrix=!0)}},{key:"param",get:function(){var t=i.toString(this);return JSON.parse(t)},set:function(t){null!=t&&(t.hasOwnProperty("matrix")&&delete t.matrix,t.hasOwnProperty("name")&&delete t.name,y.default.copyAttribute(this,t,!0),this.updateMatrix=!0,this.resize=!0)}},{key:"origin",get:function(){return this.register_point||(this.register_point=o.default.create(d.default)),this.register_point},set:function(t){null!=t&&(null==this.register_point&&(t instanceof d.default?(this.register_point=t,this.updateMatrix=!0):this.register_point=o.default.create(d.default)),this.register_point.x!=t.x||this.register_point.y!=t.y)&&(this.register_point.x=l.default.format(t.x),this.register_point.y=l.default.format(t.y),t instanceof d.default&&o.default.remove(t),this.updateMatrix=!0)}},{key:"matrix",get:function(){return this.updateMatrix&&(this.getMatrix(null,!0),this._refresh=!0),this._matrix||this.getMatrix()},set:function(t){var e,i;null!=t&&t instanceof c.default&&(e=this.getMatrix().clone(),i=this.getMatrix(this),e.invert(),e.concat(i),t.concat(e),o.default.remove(e),t.applyDisplay(this))}},{key:"scale",get:function(){return this[k]==this[x]?this[k]:NaN},set:function(t){null==t||Number.isNaN(t)||(this[k]=this[x]=l.default.format(t),this.updateMatrix=!0)}},{key:"cursor",get:function(){return this._cursor},set:function(t){t!=this._cursor&&(this._cursor=t)}},{key:"draggable",get:function(){return this[_]},set:function(t){null!=t&&this[_]!=t&&(this[_]=t,this.breakTouch=this.mouseEnabled=t)}}],[{key:"toString",value:function(t){var e;return t?(e="{",e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+='"x":'+t.x+",")+'"y":'+t.y+",")+'"width":'+t.width+",")+'"height":'+t.height+",")+'"rotation":'+t.rotation+",")+'"scaleX":'+t.scaleX+",")+'"scaleY":'+t.scaleY+",")+'"skewX":'+t.skewX+",")+'"skewY":'+t.skewY+",")+'"_minX":'+t._minX+",")+'"_minY":'+t._minY+",")+'"origin":'+(t.origin?t.origin.toString():"null")+",")+'"mouseEnabled":'+t.mouseEnabled+",")+'"visible":'+t.visible+",")+'"name":"'+t.name+'",')+'"breakTouch":"'+t.breakTouch+'",')+'"alpha":'+t.alpha+",")+'"draggable":'+t.draggable+",")+'"_cursor":"'+(t._cursor||"")+'",',this.polyArea&&(e+='"polyArea":'+t.polyArea.toString()+","),(e=(e+='"usePolyCollision":'+t.usePolyCollision+",")+('"matrix":'+(t._matrix?t._matrix.toString():'""')))+"}"):""}}]),i}(r.default);(e.default=i).className="DisplayBase",i.RESIZE="display_base_resize",i.RESET_INSTANCE="display_reset_instance"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=g(i(23)),o=g(i(14)),l=g(i(13)),h=g(i(29)),u=g(i(2)),c=g(i(41)),d=g(i(0)),f=g(i(28)),_=g(i(11)),p=g(i(56)),v=(g(i(43)),g(i(4))),y=g(i(16));g(i(6));function g(t){return t&&t.__esModule?t:{default:t}}var m=Symbol("graphics"),i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).strict=!1,t.use_canvas=!0,t._repeat=!1,t._mask=null,t.name=l.default.getName("display_object"),t.colorTransform=null,t[m]=null,t._blendMode=null,t._context=null,t.polyArea=null,t._cache=null,t.canvas=null,t.filters=[],t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"repeat",value:function(t,e,i){null==this.instance||"no-repeat"==i||t<=this.instance.width&&e<=this.instance.height?this._repeat=!1:(i=i||"repeat",this.width=t,this.height=e,this._repeat=!0,this.graphics.reset(),this.graphics.beginBitmapFill(this.instance.image,i),this.graphics.drawRect(0,0,this.width,this.height),this.graphics.endFill())}},{key:"_transform",value:function(t,e){e=(null==e?this.stage:e).context,t=this.getMatrix(t,!0);e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),e.globalAlpha*=this.alpha*this._parent_alpha}},{key:"setInstance",value:function(t){var e;return t&&t instanceof y.default&&!t.image&&(t=null),this.instance!=t&&(this.instance&&this.instance instanceof y.default&&this.instance.isClone&&u.default.remove(this.instance),this.instance=null,this.width=this.height=0),null==t||this.instance==t?t:((t instanceof Image||"HTMLImageElement"==_.default.getQualifiedClassName(t))&&(e=t,(t=u.default.create(y.default)).image=e,t.isClone=!0,t.width=e.width,t.height=e.height),this.instance&&this.instance instanceof y.default&&this.instance.isClone&&u.default.remove(this.instance),this.instance=t,d.default.isEmpty(t.name)||(this.name=t.name),this.width=this.instance.width,this.height=this.instance.height,this.origin={x:t.regX,y:t.regY},this.updateMatrix=!0,this.__checkDisplayUpdate(),this.dispatchEvent(new v.default(o.default.RESET_INSTANCE)),this.instance)}},{key:"do_actions",value:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(e&&e.context&&t){var n,s=i?e:e.context;if(!t.strict)for(var a in t.value)s[a]!=t.value[a]&&(s[a]=t.value[a]);var r=!0,i=!1,e=void 0;try{for(var o,l=t.actions[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)if(1===(n=o.value).type)try{s[n.method].apply(s,n.data)}catch(t){trace("[ERROR]",t)}else 0===n.type&&(s[n.method]=n.data[0])}catch(t){i=!0,e=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw e}}}}},{key:"_render",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(this.visible&&!(this.alpha<=0)&&(t||this.stage)){if(null==t&&this.stage.context.save(),e||this._transform(i,t),this._mask&&((t||this.stage.graphics).drawShape(this._mask),(t||this.stage).context.clip()),null!=this._blendMode&&((t||this.stage).context.globalCompositeOperation=this._blendMode),this.filters&&0<this.filters.length){var n=void 0,s=!0,e=!1,i=void 0;try{for(var a,r=this.filters[Symbol.iterator]();!(s=(a=r.next()).done);s=!0)null!=(n=a.value)&&n.show((null!=t?t:this.stage).context)}catch(t){e=!0,i=t}finally{try{!s&&r.return&&r.return()}finally{if(e)throw i}}}this.canvas?(null!=t?t:this.stage).context.drawImage(this.canvas,0,0):this[m]?this.do_actions(t||this.stage.graphics,this.graphics,!0):this.instance?(null!=t?t:this.stage).context.drawImage(this.instance.image,this.instance.x,this.instance.y,this.instance.width,this.instance.height,0,0,this.instance.width/this.instance.scale,this.instance.height/this.instance.scale):this.context&&this.do_actions(t||this.stage,this.context),null==t&&this.stage.context.restore()}}},{key:"render",value:function(){this._render.apply(this,arguments)}},{key:"hitTestPoint",value:function(t,e){return 0<h.default.hitTestPoint(this,t,e,this.usePolyCollision)}},{key:"hitTestObject",value:function(t){return null!=t&&t instanceof o.default&&(t==this||h.default.hitTestObject(this,t,this.usePolyCollision))}},{key:"reset",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this),this._parent&&this.removeFromParent(!1),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.instance&&this.instance instanceof y.default&&this.instance.isClone&&u.default.remove(this.instance),this._mask&&this._mask instanceof r.default&&u.default.remove(this._mask),this[m]&&u.default.remove(this[m]),this.context&&u.default.remove(this.context),this._cache&&u.default.remove(this._cache),this.mask=this.instance=this._cache=this[m]=this.colorTransform=this._context=this.canvas=this._blendMode=null,this.use_canvas=!0,this._repeat=!1,this.strict=!1,this.filters=[]}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this.strict,this._repeat,this._cache,this.filters,this._mask,this.instance,this.colorTransform,this._blendMode,this._context,this.canvas}},{key:"toString",value:function(){return i.name}},{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode!=t&&(this._blendMode=t,this.__checkDisplayUpdate())}},{key:"cache",set:function(t){if(t||this._cache)if(this.canvas=null,t){if(t&&t instanceof p.default)this._cache&&u.default.remove(this._cache),this._cache=t;else{if(this._cache)this._cache.clear();else if(this._cache=p.default.instance,!this._cache)return;this._cache.setSize(this.width,this.height),this._render(this._cache,!0)}this.canvas=this._cache.canvas}else u.default.remove(this._cache),this._cache=null}},{key:"mask",get:function(){return this._mask},set:function(t){t&&t instanceof r.default&&this.instance?(this._mask=t,this.__checkDisplayUpdate()):this._mask=null}},{key:"graphics",get:function(){return this[m]=this[m]||u.default.create(c.default),this[m]},set:function(t){this[m]=!t||t instanceof c.default?t:null}},{key:"context",get:function(){return this._context||(this._context=u.default.create(f.default),this._context.strict=this.strict),this._context},set:function(t){this._context=t}}]),i}(o.default);(e.default=i).className="DisplayObject"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=u(i(0)),r=u(i(24)),o=u(i(2)),l=u(i(3)),h=u(i(1));function u(t){return t&&t.__esModule?t:{default:t}}n(c,[{key:"setup",value:function(t,e){var i,n,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t&&(i=!(!s||e.sourceSize.w==e.spriteSourceSize.w&&e.sourceSize.h==e.spriteSourceSize.h),n=String(s&&0<=e.name.indexOf(".")?a.default.replaceAll(e.name,[".png",".jpg",".gif"],["","",""]):e.name).split("|"),this.animation=1<n.length?n[0]:"",this.name=1<n.length?n[1]:n[0],n=a.default.getNumber(this.name),this.label=0<n.length?n[0]:"",this.index=1<n.length?l.default.int(n[1]):0,this.x=l.default.format((s?e.frame:e).x),this.y=l.default.format((s?e.frame:e).y),this.width=l.default.format(s?e.frame.w:e.width),this.height=l.default.format(s?e.frame.h:e.height),this.frame_width=s?i?e.sourceSize.w:0:e.hasOwnProperty("frameWidth")?l.default.format(e.frameWidth):0,this.frame_height=s?i?e.sourceSize.h:0:e.hasOwnProperty("frameHeight")?l.default.format(e.frameHeight):0,this.regX=l.default.format(s?e.hasOwnProperty("pivot")?Number(e.pivot)*(0<this.frame_width?this.frame_width:this.width):e.spriteSourceSize?e.spriteSourceSize.x*c.defaultOffset:0:e.frameX||0),this.regY=l.default.format(s?e.hasOwnProperty("pivot")?Number(e.pivot)*(0<this.frame_height?this.frame_height:this.height):e.spriteSourceSize?e.spriteSourceSize.y*c.defaultOffset:0:e.frameY||0),this.url=t.src,h.default.useCanvas&&h.default.useCache&&(this.width!=t.width||this.height!=t.height)&&(n=r.default.splitFrames(t,this.x,this.y,this.width,this.height))?(this.image=r.default.toImage(n),this.x=this.y=0):this.image=t,this.isClone=!1)}},{key:"clone",value:function(){var t=o.default.create(c);return t.animation=this.animation,t.name=this.name,t.label=this.label,t.index=this.index,t.regX=this.regX,t.regY=this.regY,t.x=this.x,t.y=this.y,t.scale=this.scale,t.image=this.image,t.width=this.width,t.height=this.height,t.frame_width=this.frame_width,t.frame_height=this.frame_height,t.url=this.url,t.isClone=!0,t}},{key:"reset",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.x=this.y=this.regX=this.regY=this.index=this.width=this.height=this.frame_width=this.frame_height=0,this.image=this.name=this.animation=this.label=this.url=null,this.isClone=!1,this.scale=1,t&&e&&this.setup(t,e)}},{key:"dispose",value:function(){this.reset(),delete this.x,this.y,this.scale,this.name,this.animation,this.label,this.url,this.regX,this.regY,this.frame_width,this.frame_height,this.image,this.index,this.width,this.height,this.isClone}},{key:"toString",value:function(){var t="{";return(t+='"name":'+this.name+",")+('"regX":'+this.regX+",")+('"regY":'+this.regY+",")+('"label":'+this.label+",")+('"index":'+this.index+",")+('"width":'+this.width+",")+('"height":'+this.height+",")+('"animation":'+this.animation+",")+('"frame_width":'+this.frame_width+",")+('"frame_height":'+this.frame_height+",")+('"x":'+this.x+",")+('"y":'+this.y+",")+('"url":'+this.url+",")+('"scale":'+this.scale)+"}"}}]);i=c;function c(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=this,s=c;if(!(n instanceof s))throw new TypeError("Cannot call a class as a function");this.x=this.y=this.regX=this.regY=this.index=this.width=this.height=this.frame_width=this.frame_height=0,this.image=this.name=this.animation=this.label=this.url=null,this.isClone=!1,this.scale=1,t&&e&&this.setup(t,e,i)}(e.default=i).defaultOffset=-1,i.className="Source"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=l(i(0)),r=l(i(3)),o=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}n(h,null,[{key:"getRed",value:function(t){return t>>16&255}},{key:"getGreen",value:function(t){return t>>8&255}},{key:"getBlue",value:function(t){return 255&t}},{key:"getAlpha",value:function(t){return t>>24&255}},{key:"getColor",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,t=null==t?r.default.randomInt(255):r.default.int(t),i=null==i?r.default.randomInt(255):r.default.int(i),e=null==e?r.default.randomInt(255):r.default.int(e);return h.toHex(h.toInt(t,e,i))}},{key:"darkenColor",value:function(t,e){var i=Math.min(255,h.getRed(t)*e),n=Math.min(255,h.getGreen(t)*e),t=Math.min(255,h.getBlue(t)*e);return h.toInt(i,n,t)}},{key:"RGB2Color",value:function(t){if(a.default.isEmpty(t))return t;for(var t=a.default.replaceAll(t,["rgb","(",")"],["","",""]).split(","),e=[Number(a.default.trim(t[0])).toString(16),Number(a.default.trim(t[1])).toString(16),Number(a.default.trim(t[2])).toString(16)],i=0;i<3;i++)1==e[i].length&&(e[i]="0"+e[i]);return"#"+e.join("")}},{key:"colorToRGBA",value:function(t,e){var t=h.toColor(t),i=h.getGreen(t),n=h.getBlue(t),t=h.getRed(t);return null==e?"rgb("+t+","+i+","+n+")":"rgba("+t+","+i+","+n+","+r.default.clamp(e,0,1)+")"}},{key:"toInt",value:function(t,e,i){return t<<16|e<<8|i}},{key:"toInt32",value:function(t,e,i,n){return n<<24|t<<16|e<<8|i}},{key:"toHex",value:function(t){for(var e=h.getGreen(t),i=h.getBlue(t),n=[h.getRed(t).toString(16),e.toString(16),i.toString(16)],s=0;s<3;s++)1==n[s].length&&(n[s]="0"+n[s]);return"#"+n.join("")}},{key:"toColor",value:function(t){if(t=String(t),!a.default.isEmpty(t))return t=a.default.replaceAll(t,["0x","0X","#"],["","",""]),Number("0x"+t)}},{key:"formatColor",value:function(t){return isNaN(Number(t))?t:h.toHex(Number(t))}},{key:"getLinearGradient",value:function(t,e,i){for(var n,s=t.createLinearGradient.apply(t,e),a=void 0,r=i.length,a=0;a<r;a++)null==(n=i[a])||n.length<2||s.addColorStop(n[0],h.formatColor(n[1]));return s}},{key:"getRadialGradient",value:function(t,e,i){for(var n,s=t.createRadialGradient.apply(t,e),a=void 0,r=i.length,a=0;a<r;a++)null==(n=i[a])||n.length<2||s.addColorStop(n[0],h.formatColor(n[1]));return s}},{key:"getGradientColor",value:function(t){if(null==t||null==o.default.context)return t;for(var e=0==t.type?"getLinearGradient":"getRadialGradient",i=0==t.type?[t.xStart,t.yStart,t.xEnd,t.yEnd]:[t.xStart,t.yStart,t.radiusStart,t.xEnd,t.yEnd,t.radiusEnd],n=[],s=void 0,a=t.offsetlist.length,s=0;s<a;s++)n.push([t.offsetlist[s],t.colorList[s]]);return h[e](o.default.context,i,n)}},{key:"interpolateColor",value:function(t,e,i){var n;return null==t||null==e||null==i?0:(n=1-(i=1<i?.01*i:i),((t=h.toColor(t))>>24&255)*n+((e=h.toColor(e))>>24&255)*i<<24|(t>>16&255)*n+(e>>16&255)*i<<16|(t>>8&255)*n+(e>>8&255)*i<<8|(255&t)*n+(255&e)*i)}}]);i=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=h(i(67)),r=h(i(68)),o=h(i(22)),l=h(i(10));function h(t){return t&&t.__esModule?t:{default:t}}n(u,null,[{key:"init",value:function(){u._inited=!0,u.register("easenone",a.default.easeNone),u.register("linear",a.default.easeNone),u.register("easeinquad",a.default.easeInQuad),u.register("easeoutquad",a.default.easeOutQuad),u.register("easeinoutquad",a.default.easeInOutQuad),u.register("easeoutinquad",a.default.easeOutInQuad),u.register("easeincubic",a.default.easeInCubic),u.register("easeoutcubic",a.default.easeOutCubic),u.register("easeinoutcubic",a.default.easeInOutCubic),u.register("easeoutincubic",a.default.easeOutInCubic),u.register("easeinquart",a.default.easeInQuart),u.register("easeoutquart",a.default.easeOutQuart),u.register("easeinoutquart",a.default.easeInOutQuart),u.register("easeoutinquart",a.default.easeOutInQuart),u.register("easeinquint",a.default.easeInQuint),u.register("easeoutquint",a.default.easeOutQuint),u.register("easeinoutquint",a.default.easeInOutQuint),u.register("easeoutinquint",a.default.easeOutInQuint),u.register("easeinsine",a.default.easeInSine),u.register("easeoutsine",a.default.easeOutSine),u.register("easeinoutsine",a.default.easeInOutSine),u.register("easeoutinsine",a.default.easeOutInSine),u.register("easeincirc",a.default.easeInCirc),u.register("easeoutcirc",a.default.easeOutCirc),u.register("easeinoutcirc",a.default.easeInOutCirc),u.register("easeoutincirc",a.default.easeOutInCirc),u.register("easeinexpo",a.default.easeInExpo),u.register("easeoutexpo",a.default.easeOutExpo),u.register("easeinoutexpo",a.default.easeInOutExpo),u.register("easeoutinexpo",a.default.easeOutInExpo),u.register("easeinelastic",a.default.easeInElastic),u.register("easeoutelastic",a.default.easeOutElastic),u.register("easeinoutelastic",a.default.easeInOutElastic),u.register("easeoutinelastic",a.default.easeOutInElastic),u.register("easeinback",a.default.easeInBack),u.register("easeoutback",a.default.easeOutBack),u.register("easeinoutback",a.default.easeInOutBack),u.register("easeoutinback",a.default.easeOutInBack),u.register("easeinbounce",a.default.easeInBounce),u.register("easeoutbounce",a.default.easeOutBounce),u.register("easeinoutbounce",a.default.easeInOutBounce),u.register("easeoutinbounce",a.default.easeOutInBounce),u.register("easeinstrong",a.default.easeInStrong),u.register("easeoutstrong",a.default.easeOutStrong),u.register("easeinoutstrong",a.default.easeInOutStrong)}},{key:"register",value:function(t,e){u._transitionList[t]=e}},{key:"count",value:function(t,e,i,n,s,a,r){u._inited||u.init();t=u.getEaseName(t,e);return u._tween(t,s,n,n-i,a,r)}},{key:"getEaseName",value:function(t,e){return t==u.LINEAR?u.LINEAR:"ease"+(t==u.NONE?u.NONE:e+t)}},{key:"_tween",value:function(t,e,i,n,s,a){return u._inited||u.init(),u._transitionList.hasOwnProperty(t)?u._transitionList[t](n,e,i,s,a):i}},{key:"run",value:function(e,i,n){return new Promise(function(t){if(null==e||i<=0||null==n)return t();n.onComplete=t,u.to(e,i,n)})}},{key:"to",value:function(t,e,i){if(!(null==t||e<=0||null==i)){0==u._tweens.length&&(!u._locked&&o.default.current?o.default.current.addEventListener(l.default.ENTER_FRAME,u._enterFrame):((u._timer=null==u._timer?new r.default:u._timer).addEventListener(r.default.TIME,u._enterFrame),u._timer.start()));var n={target:t,duration:e,vars:i},s=(n.max=Math.ceil(e*r.default.fps),n.min=0,n.vars.hasOwnProperty("delay")&&n.vars.delay?(n.delay=Math.ceil(Number(n.vars.delay)*r.default.fps),delete n.vars.delay):n.delay=0,n.vars.hasOwnProperty("ease")&&n.vars.ease?(n.ease=n.vars.ease,delete n.vars.ease):n.ease="easeoutquad",n.vars.hasOwnProperty("easeParams")&&n.vars.easeParams&&(n.easeParams=n.vars.easeParams,delete n.vars.easeParams),n.vars.hasOwnProperty("onStart")&&n.vars.onStart&&(n.onStart=n.vars.onStart,delete n.vars.onStart),n.vars.hasOwnProperty("onStartParams")&&n.vars.onStartParams&&(n.onStartParams=n.vars.onStartParams,delete n.vars.onStartParams),n.vars.hasOwnProperty("onUpdate")&&n.vars.onUpdate&&(n.onUpdate=n.vars.onUpdate,delete n.vars.onUpdate),n.vars.hasOwnProperty("onUpdateParams")&&n.vars.onUpdateParams&&(n.onUpdateParams=n.vars.onUpdateParams,delete n.vars.onUpdateParams),n.vars.hasOwnProperty("onComplete")&&n.vars.onComplete&&(n.onComplete=n.vars.onComplete,delete n.vars.onComplete),n.vars.hasOwnProperty("onCompleteParams")&&n.vars.onCompleteParams&&(n.onCompleteParams=n.vars.onCompleteParams,delete n.vars.onCompleteParams),void 0);for(s in n.vars)null==n.first&&(n.first={}),n.first[s]=null==t[s]?0:t[s],n.vars[s]-=n.first[s];u._tweens.push(n)}}},{key:"pause",value:function(){u._timer&&u._timer.isStart()?(u._timer.stop(),u._timer.removeEventListener(r.default.TIME,u._enterFrame)):o.default.current&&o.default.current.removeEventListener(l.default.ENTER_FRAME,u._enterFrame)}},{key:"resume",value:function(){u._timer&&0<u._tweens.length&&!u._timer.isStart()?(u._timer.addEventListener(r.default.TIME,u._enterFrame),u._timer.start()):o.default.current&&o.default.current.addEventListener(l.default.ENTER_FRAME,u._enterFrame)}},{key:"remove",value:function(t){if(null!=t&&0!=u._tweens.length){for(var e=void 0,i=u._tweens.length,e=0;e<i;e++)u._tweens[e].target==t&&(u._tweens.splice(e,1),i--,e--);0==u._tweens.length&&u.pause()}}},{key:"_enterFrame",value:function(t){if(0!=u._tweens.length)for(var e,i=void 0,n=u._tweens.length,i=0;i<n;i++)e=u._tweens[i],u._setAttribute(e)}},{key:"_setAttribute",value:function(t){if(null!=t){var e,i=void 0,n=t.target;if(t.delay<=1&&0==t.min&&t.hasOwnProperty("onStart")&&t.onStart&&(t.onStart.apply(null,t.hasOwnProperty("onStartParams")?t.onStartParams:null),delete t.onStartParams,delete t.onStart),0<t.delay)t.delay--;else{for(i in t.min++,t.vars)n[i]=t.min>=t.max?t.vars[i]+t.first[i]:u._tween(t.ease,t.first[i],t.vars[i],t.min,t.max,t.easeParams);t.min>=t.max?(e=u._tweens.indexOf(t),u._tweens.splice(e,1),0==u._tweens.length&&u.pause(),t.hasOwnProperty("onComplete")&&t.onComplete&&t.onComplete.apply(null,t.hasOwnProperty("onCompleteParams")?t.onCompleteParams:null)):t.hasOwnProperty("onUpdate")&&t.onUpdate&&t.onUpdate.apply(null,t.hasOwnProperty("onUpdateParams")?t.onUpdateParams:null)}}}}]);i=u;function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function")}(e.default=i).NONE="none",i.LINEAR="linear",i.QUAD="quad",i.CUBIC="cubic",i.QUART="quart",i.QUINT="quint",i.SINE="sine",i.CIRC="circ",i.EXPO="expo",i.ELASTIC="elastic",i.BACK="back",i.BOUNCE="bounce",i.STRONG="strong",i.IN="in",i.OUT="out",i.IN_OUT="inout",i.OUT_IN="outin",i._timer,i._tweens=[],i._inited=!1,i._locked=!1,i._transitionList={},i.className="TweenLite"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=r(i(0)),o=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}n(l,[{key:"reset",value:function(){this.caches=null,this.listeners={}}},{key:"hasEventListener",value:function(t,e){return!a.default.isEmpty(e)&&this.caches?null!=this.caches[t+"#"+e]:this.listeners&&null!=this.listeners[t]}},{key:"addEventListener",value:function(t,e,i){"string"!=typeof t||"function"!=typeof e||!a.default.isEmpty(i)&&this.hasEventListener(t,i)||(null==this.listeners[t]&&(this.listeners[t]=[]),-1==this.listeners[t].indexOf(e)&&this.listeners[t].push(e),i&&(this.caches=this.caches||{},this.caches[t+"#"+i]=e))}},{key:"removeEventListener",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(null!=this.listeners&&null!=this.listeners[t]){if(null==e){if(a.default.isEmpty(i)||null==this.caches)return void this._remove_listeners(t);e=this.caches[t+"#"+i],delete this.caches[t+"#"+i]}if("function"==typeof e){for(var n=this.listeners[t].length,s=0;s<n;s++)if(this.listeners[t][s]==e){this.listeners[t].splice(s,1),n--,s--;break}0==this.listeners[t].length&&this._remove_listeners(t)}}}},{key:"_remove_listeners",value:function(t){if(delete this.listeners[t],null!=this.caches)for(var e in this.caches)0==e.indexOf(t)&&delete this.caches[e]}},{key:"dispatchEvent",value:function(t){var e=this.listeners;if(null==t||!t.hasOwnProperty("type")||!t.type||null==e||null==e[t.type]){if(t&&!o.default.gc(t))try{t.dispose()}catch(t){}return!1}var e=e[t.type].slice(),i=(null==t.target&&(t.target=this),!0),n=!1,s=void 0;try{for(var a,r=e[Symbol.iterator]();!(i=(a=r.next()).done);i=!0)a.value.call(this,t)}catch(t){n=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}return t&&!o.default.gc(t)&&t.dispose(),!0}},{key:"dispose",value:function(){if((this.caches=null)!=this.listeners){for(var t in this.listeners)delete this.listeners[t];delete this.listeners,this.caches}}},{key:"toString",value:function(){return'{"listeners":'+ObjectUtil.toString(this.listeners)+"}"}}],[{key:"instance",value:function(){return l._current_instance=l._current_instance||new l}}]);i=l;function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.caches=null,this.listeners={}}(e.default=i).className="EventDispatcher",i._current_instance=null},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(0),a=(i=i)&&i.__esModule?i:{default:i};n(o,null,[{key:"getDOM",value:function(t){return document.getElementById(t)}},{key:"createDOM",value:function(t,e){t=document.createElement(t);return null==e?t:o.setAttributes(t,e)}},{key:"setAttributes",value:function(t,e){if(null!=t&&null!=e){for(var i in e){var n=e[i];if("style"==i)for(var s in t.style||(t.style={}),n)t.style[s]=n[s];else n&&(t[i]=n)}return t}}},{key:"createDOMDrawable",value:function(t,e){var i=t.tagName||"div",n=e.image,s=t.width||n&&n.width,a=t.height||n&&n.height,r=o.createDOM(i);return t.id&&(r.id=t.id),r.style.position="absolute",r.style.left=(t.left||0)+"px",r.style.top=(t.top||0)+"px",r.style.width=s+"px",r.style.height=a+"px","canvas"==i?(r.width=s,r.height=a,n&&(i=r.getContext("2d"),e=e.rect||[0,0,s,a],i.drawImage(n,e[0],e[1],e[2],e[3],t.x||0,t.y||0,t.width||e[2],t.height||e[3]))):(r.style.opacity=null!=t.alpha?t.alpha:1,r.style.overflow="hidden",n&&n.src&&(r.style.backgroundImage="url("+n.src+")",s=t.rectX||0,a=t.rectY||0,r.style.backgroundPosition=-s+"px "+-a+"px")),r}},{key:"getElementOffset",value:function(t){for(var e=t.offsetLeft,i=t.offsetTop;(t=t.offsetParent)&&t!=document;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}}},{key:"contains",value:function(t,e){var i,n;return!(!t||!e)&&(t===e||("compareDocumentPosition"in document||"contains"in document?(i=9===t.nodeType?t.documentElement:t,t===(n=e&&e.parentNode)||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))):o._contains_manual(t,e)))}},{key:"_contains_manual",value:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1}},{key:"each",value:function(t,e){var i;if(!a.default.isEmpty(t)&&e&&"function"==typeof e)return(i=document.createElement("div")).innerHTML=t,o._each_do(i,e),i.innerHTML}},{key:"_each_do",value:function(t,e){for(var i,n=t.childElementCount,s=0;s<n;s++)null!=t&&null!=t.children[s]&&(0<(i=t.children[s]).childElementCount&&o._each_do(i,e),e)&&e(i)}},{key:"dispatchEvent",value:function(t,e,i){t=document.createEvent(t);t.initEvent(e,!0,!1),(i||document).dispatchEvent(t)}},{key:"addMeta",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",i=document.createElement("meta");i.content=t,i.name=e,document.getElementsByTagName("head")[0].appendChild(i)}}]);i=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var i=e,n=[],s=!0,e=!1,a=void 0;try{for(var r,o=t[Symbol.iterator]();!(s=(r=o.next()).done)&&(n.push(r.value),!i||n.length!==i);s=!0);}catch(t){e=!0,a=t}finally{try{!s&&o.return&&o.return()}finally{if(e)throw a}}return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=h(i(0)),o=h(i(8)),l=h(i(3));function h(t){return t&&t.__esModule?t:{default:t}}function d(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}n(f,null,[{key:"indexByProperty",value:function(t,n,s){return null==t||t.length<1||r.default.isEmpty(n)?-1:t.findIndex(function(t,e,i){return"object"==(void 0===t?"undefined":a(t))&&o.default.getAttribute(t,n)==s})}},{key:"sort",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,s=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return null==t||t.length<2?t:l.default.sort(t,function(t,e){var t=r.default.isEmpty(n)?t:t[n],e=r.default.isEmpty(n)?e:e[n],i=!isNaN(parseFloat(t)),t=i?parseFloat(t):r.default.trim(t),e=i?parseFloat(e):r.default.trim(e);return i||(t=0<t.length?t.toLowerCase():"",e=0<e.length?e.toLowerCase():"",t=a&&t.length>a?t.substr(0,a):t,e=a&&e.length>a?e.substr(0,a):e),s?t<e:e<t})}},{key:"createUniqueCopy",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;if(!e)return[].concat(d(new Set(t)));var a,r=n||[],o=!0,n=!1,l=void 0;try{for(var h,u=t[Symbol.iterator]();!(o=(h=u.next()).done);o=!0)a=h.value,0<=(r.length?i?f.indexByProperty(r,e,a[e]):r.indexOf(a[e]):-1)||(r.push(i?a:a[e]),s&&a[s]&&a[s].length&&f.createUniqueCopy(a[s],e,i,r,s))}catch(t){n=!0,l=t}finally{try{!o&&u.return&&u.return()}finally{if(n)throw l}}return r}},{key:"buildNumberArray",value:function(t,e){if(null==t||isNaN(Number(t)))return null;t=l.default.int(t);for(var i=[],n=e?t-1:0;e?0<n:n<t;)i.push(n),n=e?n-1:n+1;return i}},{key:"mixArray",value:function(t){if(null!=t){for(var e,i=void 0,n=t.length,s=l.default.randomInt(n),i=0;i<n;i++)s!=i&&(e=t[s],t[s]=t[i],t[i]=e),s=l.default.randomInt(n);return t}}},{key:"equal",value:function(t,e,i){if(null==t||null==e)return null;if(1==i)return t.join(",")==e.join(",");if(t.length!=e.length)return!1;for(var n in t)if(e.indexOf(t[n])<0)return!1;return!0}},{key:"subtract",value:function(t,e){if(e){t=f.copyArray(t);var i=!0,n=!1,s=void 0;try{for(var a,r=e[Symbol.iterator]();!(i=(a=r.next()).done);i=!0){var o=a.value,l=t.indexOf(o);0<=l&&t.splice(l,1)}}catch(t){n=!0,s=t}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}}return t}},{key:"add",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return t=e&&(t=f.createUniqueCopy(t.concat(e)),i)&&t.length>i?t.slice(0,i):t}},{key:"copyArray",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return e.push.apply(e,d(t)),e}},{key:"each",value:function(t,e,i){if(t&&t.length){var n=!0,s=!1,a=void 0;try{for(var r,o=t.entries()[Symbol.iterator]();!(n=(r=o.next()).done);n=!0){var l=c(r.value,2),h=l[0],u=l[1];e.apply(i,[u,h,t])}}catch(t){s=!0,a=t}finally{try{!n&&o.return&&o.return()}finally{if(s)throw a}}}return t}},{key:"format",value:function(t){if(!t||!t.length)return[];for(var e,i=0,n=t.length,i=0;i<n;i++)e=t[i],r.default.isEmpty(e)&&(t.splice(i,1),n--,i--);return t}},{key:"slice",value:function(t,e){if(t.length<=e)return[t];for(var i=Math.ceil(t.length/e),n=[],s=0;s<i;s++)n.push(t.slice(s*e,Math.min((s+1)*e,t.length)));return n}}]);i=f;function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=c(i(5)),d=c(i(10)),f=c(i(2)),o=c(i(13)),l=c(i(9)),_=c(i(20)),p=c(i(7)),h=c(i(12)),v=c(i(1)),u=c(i(32)),y=c(i(6)),g=c(i(4));function c(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function c(){var t;if(this instanceof c)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))).usePixelTrace=!1,t.traceMouseTarget=!0,t.cover=null,t.timer=t.dragTarget=t.mouseTarget=t._mouseDownTarget=null,t.stageX=t.stageY=0,t.mouseX=t.mouseY=0,t.isFullScreen=!1,t.auto_clear=!0,t.last_fresh=!0,t.auto_fresh=!0,t.block_ratio=.05,t._dragMouseX=t._dragMouseY=0,t.stageWidth=t.stageHeight=0,t.name=o.default.getName("stage"),t.startPoint={x:0,y:0,n:0},t._parent_node=null,t._activate=!1,t._isTap=!1,t._graphics=null,t._block=null,t._area=null,t._layer=-1,t.interactive=!0,t._enable=!1,(t.stage=t).context,t.canvas,t.div,c.current=t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(c,[{key:"initCanvas",value:function(t,e,i,n){var s=!1;if(null==(this.canvas=i)){try{this.canvas=document.createElement("canvas")}catch(t){s=!0,this.canvas={style:{},context:{}},trace("[WARN] Stage initCanvas()",t)}this.canvas.width=t,this.canvas.height=e,n&&(this.canvas.contenteditable=this.canvas.draggable=this.canvas.dropzone=!0),this.canvas.tabindex=0,this.canvas.style.left=this.canvas.style.top="0px",this.canvas.style.position=v.default.position,this.canvas.style.zIndex=v.default.layer,this.canvas.style.padding=0,this.canvas.style.margin=0,null==this.div&&(this.div=_.default.createDOM("div",{id:"container_"+this.name,style:{overflow:"hidden",position:v.default.position,height:e+"px",width:t+"px",padding:"0",margin:"0",cursor:""}}),document.body.appendChild(this.div),this._parentNode=this.div),s||this.div.appendChild(this.canvas)}this.stageWidth=t,this.stageHeight=e,this.context=s?this.canvas.context:this.canvas.getContext("2d"),this.updatePosition(),c.current==this&&(v.default.context=this.context,v.default.canvas=this.canvas,v.default.div=this.div,v.default.height=e,v.default.width=t),s||(this._graphics=new u.default(this.context)),this.enable(!0)}},{key:"size",value:function(t,e){null!=t&&null!=e&&null!=this.div&&(t=Math.floor(t),e=Math.floor(e),this.div&&(this.div.style.height=e+"px",this.div.style.width=t+"px"),this.canvas&&(this.canvas.width=t,this.canvas.height=e),this.stageWidth=t,this.stageHeight=e,v.default.autoShapeSize)&&this.dispatchEvent(new g.default(d.default.UPDATE))}},{key:"enable",value:function(t){var e;this.__enter_frame=this.__enter_frame||v.default.delegate(this._enterFrame,this),(this._enable=t)?v.default.animationFrame?this._enterFrame():(this.timer=this.timer||new Timer,this.timer.addEventListener(Timer.TIME,this.__enter_frame,!1),this.timer.start()):this.timer&&(this.timer.removeEventListener(Timer.TIME,this.__enter_frame),this.timer.stop()),this.interactive&&(this.__message_handler=this.__message_handler||v.default.delegate(this._message_handler,this),this.__touch_handler=this.__touch_handler||v.default.delegate(this._touchHandler,this),this.__mouse_handler=this.__mouse_handler||v.default.delegate(this._mouseHandler,this),this.__key_handler=this.__key_handler||v.default.delegate(this._keyHandler,this),e=this.div||document,v.default.supportTouch?t?(e.addEventListener("touchstart",this.__touch_handler,{passive:!1}),e.addEventListener("touchmove",this.__touch_handler,{passive:!1}),document.addEventListener("touchend",this.__touch_handler,{passive:!1})):(e.removeEventListener("touchstart",this.__touch_handler),e.removeEventListener("touchmove",this.__touch_handler),document.removeEventListener("touchend",this.__touch_handler)):(t?(e.addEventListener(v.default.isFirefox?"DOMMouseScroll":"mousewheel",this.__mouse_handler),e.addEventListener("mousedown",this.__mouse_handler),e.addEventListener("mousemove",this.__mouse_handler),e.addEventListener("mouseenter",this.__mouse_handler),e.addEventListener("mouseleave",this.__mouse_handler),document.addEventListener("mouseup",this.__mouse_handler)):(e.removeEventListener(v.default.isFirefox?"DOMMouseScroll":"mousewheel",this.__mouse_handler),e.removeEventListener("mousedown",this.__mouse_handler),e.removeEventListener("mousemove",this.__mouse_handler),e.removeEventListener("mouseenter",this.__mouse_handler),e.removeEventListener("mouseleave",this.__mouse_handler),document.removeEventListener("mouseup",this.__mouse_handler)),t?(v.default.root.addEventListener("message",this.__message_handler),document.addEventListener("keydown",this.__key_handler),document.addEventListener("keyup",this.__key_handler)):(v.default.root.removeEventListener("message",this.__message_handler),document.removeEventListener("keydown",this.__key_handler),document.removeEventListener("keyup",this.__key_handler))))}},{key:"_message_handler",value:function(t){this.dispatchEvent(new g.default(d.default.MESSAGE,t&&t.data?t.data:t))}},{key:"resize",value:function(t,e){this.dispatchEvent(new g.default(d.default.RESIZE,{width:t,height:e}))}},{key:"_enterFrame",value:function(t){var e;this.dispatchEvent(new g.default(d.default.ENTER_FRAME)),this.auto_clear&&(0<r.default._num_canvas_target||this.last_fresh)&&(this.auto_fresh&&this.clear(),0<!r.default._num_canvas_target)&&this.last_fresh&&(this.last_fresh=!1,this.canvas)&&(e=this._parent_node,this._parent_node=this.canvas.parentNode,this._parent_node?this._parent_node.removeChild(this.canvas):this._parent_node=e||this.div),this._enable&&v.default.animationFrame&&v.default.animationFrame(this.__enter_frame),this.numChildren<=0||this.render()}},{key:"render",value:function(){!this.last_fresh&&0<r.default._num_canvas_target&&(this.last_fresh=!0,this.canvas)&&this._parent_node&&this._parent_node.appendChild(this.canvas),h.default._depth_count=0,this.auto_fresh&&(this.auto_fresh=!1,a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"render",this).call(this))}},{key:"_dragHandler",value:function(){var t=this._dragMouseX,e=this._dragMouseY,i=this.dragTarget.origin,n=this.dragTarget.localToGlobal(i?i.x:0,i?i.y:0),i=this.dragTarget.localToGlobal(t,e),t=Math.round(this.mouseX-(i.x-n.x)),e=Math.round(this.mouseY-(i.y-n.y)),s=void 0;this._block&&!this._block.contains(t,e)&&(t=(s=this.dragTarget.localToGlobal(0,0)).x+(t-s.x)*this.block_ratio,e=s.y+(e-s.y)*this.block_ratio,f.default.remove(s)),this._area&&(s=f.default.create(y.default).set(t,e),t=(s=l.default.innerPoint(this._area,s)).x,e=s.y,f.default.remove(s)),i&&f.default.remove(i),i=this.dragTarget.parent.globalToLocal(t,e),this.dragTarget.x=i.x,this.dragTarget.y=i.y,this._isTap||this.dragTarget.dispatchEvent(new g.default(d.default.DRAG_MOVE)),n&&f.default.remove(n),i&&f.default.remove(i)}},{key:"clear",value:function(){this.context&&this.canvas&&this.canvas.parentNode&&(this.cover?(this.context.globalAlpha=this.cover.alpha,this.context.fillStyle=this.cover.color,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.context.globalAlpha=1):this.context.clearRect(0,0,this.canvas.width,this.canvas.height))}},{key:"_touchHandler",value:function(t){for(var e,i,n=t.touches&&0<t.touches.length?t.touches[0]:t.changedTouches&&0<t.changedTouches.length?t.changedTouches[0]:null,s=(n.pageX||n.clientX)-this.stageX,a=(n.pageY||n.clientY)-this.stageY,r=s==this.mouseX&&a==this.mouseY,o=(this.mouseX=s,this.mouseY=a,this.traceMouseTarget&&this._getMouseTarget(t),(n={id:n?n.identifier:0,target:this.mouseTarget||this,mouseX:this.mouseX,mouseY:this.mouseY,button:0}).type=c.translationType(t.type),(n=p.default.c("se",n)).touchs=[],r&&n.type==d.default.MOUSE_MOVE&&(n.type=d.default.MOUSE_OVER),n.type==d.default.MOUSE_DOWN?(this.startPoint.x=s,this.startPoint.y=a,this.startPoint.n=t.touches.length):!r&&t.touches.length==this.startPoint.n&&Math.hypot(this.startPoint.x-s,this.startPoint.y-a)<c.maxTap&&(r=!0),this.mouseTarget&&this.mouseTarget.onMouseEvent&&(this.mouseTarget.onMouseEvent(n),n.type==d.default.MOUSE_UP)&&(h=p.default.c("se",{type:d.default.MOUSE_OUT}),this.mouseTarget.onMouseEvent(h),f.default.remove(h)),void 0),l=t.touches.length,o=0;o<l;o++)null==(e=t.touches[o]).target||(i=c.translationType(e.type))!=d.default.MOUSE_UP&&!_.default.contains(this.div,e.target)||(s=(e.pageX||e.clientX)-this.stageX,a=(e.pageY||e.clientY)-this.stageY,n.touchs.push({mouseX:s,mouseY:a,type:i,id:e.identifier}));n.length=n.touchs?n.touchs.length:0,n.type==d.default.MOUSE_MOVE&&this.dragTarget&&this._dragHandler();var h=n.target.breakTouch,u=n.target!=this?p.default.c("se",n):null,r=this._checkMouseClick(n,r);n.target.dispatchEvent(n),u&&this.dispatchEvent(u),(v.default.breakTouch||h||r||this.breakTouch)&&n.type!=d.default.MOUSE_UP&&(t.preventDefault(),t.stopPropagation())}},{key:"_mouseHandler",value:function(t){var e,i,n,s;null==t.target||"mouseleave"==t.type||!_.default.contains(this.div,t.target)&&"mouseup"!=t.type?(this._activate=!1,this.dispatchEvent(p.default.c("se",[d.default.MOUSE_OUT,this._activate]))):(i=t.pageX-this.stageX,n=t.pageY-this.stageY,e=p.default.c("se",{type:t.type}),s=i==this.mouseX&&n==this.mouseY,"mouseenter"==t.type?(this._activate=!0,e.type=d.default.MOUSE_OVER,this.dispatchEvent(p.default.c("se",[d.default.MOUSE_OVER,this._activate]))):!this.isFullScreen&&this._activate&&(i<0||n<0||i>this.stageWidth||n>this.stageHeight)?(this._activate=!1,this.dispatchEvent(p.default.c("se",[d.default.MOUSE_OUT,this._activate]))):this._activate||"mouseup"==t.type||(this._activate=!0,this.dispatchEvent(p.default.c("se",[d.default.MOUSE_OVER,this._activate]))),s&&t.type==d.default.MOUSE_MOVE&&(e.type=d.default.MOUSE_OVER),"DOMMouseScroll"==t.type&&(e.type=d.default.MOUSE_WHEEL),this.mouseX=i,this.mouseY=n,this.traceMouseTarget&&this._getMouseTarget(t),e.type==d.default.MOUSE_DOWN?(this.startPoint.x=i,this.startPoint.y=n):!s&&Math.hypot(this.startPoint.x-i,this.startPoint.y-n)<c.maxTap&&(s=!0),e.target=this.mouseTarget||this,e.mouseX=this.mouseX,e.mouseY=this.mouseY,e.delta=t.wheelDelta?t.wheelDelta/120:-t.detail/3,this.mouseTarget&&this.mouseTarget.onMouseEvent&&this.mouseTarget.onMouseEvent(e),e.type==d.default.MOUSE_MOVE&&this.dragTarget&&this._dragHandler(),this.setCursor(this.mouseTarget),i=e.target.breakTouch,n=e.target!=this?p.default.c("se",e):null,s=this._checkMouseClick(e,s),e.target.dispatchEvent(e),n&&this.dispatchEvent(n),(v.default.breakTouch||i||s||this.breakTouch)&&e.type!=d.default.MOUSE_UP&&(t.preventDefault(),t.stopPropagation()))}},{key:"_checkMouseClick",value:function(t,e){var i;return t.type==d.default.MOUSE_DOWN&&this.mouseTarget&&(this._mouseDownTarget=this.mouseTarget,this._isTap=!0),t.type==d.default.MOUSE_UP&&(null!=this._mouseDownTarget&&t.target!=this&&t.target==this._mouseDownTarget&&(t.target.dispatchEvent(this.__copyStageEvent(t,this._mouseDownTarget,d.default.MOUSE_CLICK)),this._isTap)&&(i=this.__copyStageEvent(t,this._mouseDownTarget,d.default.MOUSE_TAP),this.__transmitEvent(i),t.target.dispatchEvent(i)),this._mouseDownTarget=null,this._isTap=!1),t.type!=d.default.MOUSE_MOVE||e?t.target!=this&&this.__transmitEvent(t):this._isTap=!1}},{key:"__transmitEvent",value:function(t){if(null!=t&&null!=t.target)for(var e,i=(i=t.target).parent;null!=i&&i!=this;i=i.parent){if(i.breakTouch)return!0;i.mouseEnabled&&(t.type!=d.default.MOUSE_OVER&&t.type!=d.default.MOUSE_OUT||(e=i.hitTestPoint(this.mouseX,this.mouseY),t.type==d.default.MOUSE_OVER&&e)||t.type==d.default.MOUSE_OUT&&!e)&&i.dispatchEvent(this.__copyStageEvent(t,i))}return!1}},{key:"__copyStageEvent",value:function(t,e,i){t=p.default.c("se",t);return t.target=e,t.type=i||t.type,t}},{key:"_getMouseTarget",value:function(t){var e=void 0,i=this.getObjectUnderPoint(this.mouseX,this.mouseY,this.usePixelTrace,!1),n=this.mouseTarget;this.mouseTarget=i,n&&n!=i&&((e=p.default.c("se",[d.default.MOUSE_OUT])).target=n,e.mouseX=this.mouseX,e.mouseY=this.mouseY,this.__transmitEvent(e),n.onMouseEvent&&n.onMouseEvent(e),n.dispatchEvent&&n.dispatchEvent(e),this._mouseDownTarget==n)&&(this._mouseDownTarget=null),i&&n!=i&&((e=p.default.c("se",[d.default.MOUSE_OVER])).target=i,e.mouseX=this.mouseX,e.mouseY=this.mouseY,this.__transmitEvent(e),i.onMouseEvent&&i.onMouseEvent(e),i.dispatchEvent)&&i.dispatchEvent(e)}},{key:"startDrag",value:function(t,e,i,n){null!=t&&null!=t.parent&&(this.dragTarget&&this.stopDrag(),this.dragTarget=t,i?(this._layer=t.getIndex(),this.dragTarget.toTop()):this._layer=-1,this._area=e&&e instanceof l.default?e:null,this._block=n&&n instanceof l.default?n:null,i=this.dragTarget.globalToLocal(this.mouseX,this.mouseY),this._dragMouseX=i.x,this._dragMouseY=i.y)}},{key:"stopDrag",value:function(){null!=this.dragTarget&&null!=this.dragTarget&&(0<=this._layer&&this.dragTarget&&this.dragTarget.parent&&this.dragTarget.parent.addChildAt(this.dragTarget,this._layer),this._dragMouseX=this._dragMouseY=0,this.dragTarget=null,this._block=null,this._area=null,this._layer=-1)}},{key:"_keyHandler",value:function(t){this.dispatchEvent(new g.default(t.type,(t||v.default.root.event).keyCode,t,this.mouseTarget))}},{key:"setCursor",value:function(t){this.div.style.cursor=null==this.cursor||""==this.cursor?!t||null==t.cursor?"":t.cursor:this.cursor}},{key:"updatePosition",value:function(){var t;(null!=this.div&&_.default.contains(document,this.div)||null!=this.canvas&&_.default.contains(document,this.canvas))&&(t=_.default.getElementOffset(this.div||this.canvas),this.stageX=t.left,this.stageY=t.top)}},{key:"toString",value:function(){return c.name}},{key:"dispose",value:function(){this.enable(!1),this.timer&&this.timer.dispose(),this._graphics&&this._graphics.dispose(),c.current==this&&(c.current=null),this.cover=this.stage=this.context=this.canvas=this.div=null,a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"dispose",this).call(this),delete this._graphics,this.traceMouseTarget,this._parent_node,this.dragTarget,this.mouseTarget,this._mouseDownTarget,this.timer,delete this.startPoint,this.isFullScreen,this.stageX,this.stageY,this.mouseX,this.mouseY,this._dragMouseX,this._dragMouseY,delete this.__message_handler,this.__touch_handler,this.__mouse_handler,this.__key_handler,this.__enter_frame,delete this._enable,this.interactive,this._activate,this.block_ratio,this._block,this.context,this.canvas,this.div,this.auto_clear,this.last_fresh,this.auto_fresh}},{key:"graphics",get:function(){return this._graphics}}],[{key:"translationType",value:function(t){switch(t){case"touchstart":return d.default.MOUSE_DOWN;case"touchmove":return d.default.MOUSE_MOVE;case"touchend":return d.default.MOUSE_UP}return""}}]),c}(r.default);(e.default=i).maxTap=8,i.current=null,i.className="Stage"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=d(i(2)),o=d(i(8)),l=d(i(13)),h=d(i(0)),u=d(i(42)),c=d(i(9));function d(t){return t&&t.__esModule?t:{default:t}}n(f,[{key:"setup",value:function(t,e){return this.type=t.toLowerCase(),this.properties=e,this.rect=r.default.create(c.default),this.rect.data=u.default.getShapeBounds(this),this}},{key:"reset",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.id=l.default.getName("shape_vo"),this.rect&&this.rect instanceof c.default&&r.default.remove(this.rect),this.rect=this.type=this.properties=null,t&&e&&this.setup(t,e)}},{key:"clone",value:function(){var t;return(t=r.default.create(f)).type=this.type,this.rect&&(t.rect=this.rect.clone()),t.properties=o.default.copyAttribute({},this.properties,!1),t}},{key:"dispose",value:function(){this.rect&&r.default.remove(this.rect),delete this.id,this.rect,this.type,this.properties}},{key:"toString",value:function(){return'{"id":"'+this.id+'","type":"'+this.type+'","rect":'+(this.rect?this.rect.toString():"")+'","properties":'+JSON.stringify(this.properties)+"}"}}],[{key:"create",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=void 0,s=void 0,e=e?1==e?{x:0,y:0}:e:null;if("string"==typeof t){if(h.default.isEmpty(t))return null;if(n=r.default.create(f),!(s=h.default.html2object(t)))return null;s.children&&delete s.children,s.transform&&delete s.transform}else{if("object"!=(void 0===t?"undefined":a(t)))return null;n=r.default.create(f),s=t}return n.type=s.tagName,delete s.tagName,n.properties=s,n.rect=r.default.create(c.default),n.rect.data=i||u.default.getShapeBounds(n),e?u.default.replace(n,e):n}},{key:"string",value:function(t){if(!t)return"";var e,i="<"+t.type+" ";for(e in t.properties)i+=e+'="'+("style"==e?h.default.buildParams(t.properties[e],!0):t.properties[e])+'" ';return i+="/>"}}]);i=f;function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=this,n=f;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");this.id=l.default.getName("shape_vo"),this.type=this.rect=this.properties=null,t&&e&&this.setup(t,e)}(e.default=i).CILP="_clip",i.className="ShapeVO"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=c(i(5)),o=c(i(32)),l=c(i(0)),h=c(i(2)),u=c(i(11)),a=c(i(3));function c(t){return t&&t.__esModule?t:{default:t}}n(d,null,[{key:"create",value:function(t){t=t||{};return t.canvas||(t.canvas=document.createElement("canvas"),t.context=t.canvas.getContext("2d")),t}},{key:"getCache",value:function(t,e){var i=d.create();return i.canvas.width=t.width,i.canvas.height=t.height,i.context.drawImage(t,0,0,t.width,t.height),i.canvas.toDataURL(e||"image/png")}},{key:"splitFrames",value:function(t,e,i,n,s){var a,r;return t&&n&&s?(r=(a=document.createElement("canvas")).getContext("2d"),a.height=s,a.width=n,r.drawImage(t,e,i,n,s,0,0,n,s),a):null}},{key:"toImage",value:function(t,e){if(null!=t){var i=new Image;try{i.src=t.toDataURL(e||"image/png")}catch(t){return trace("[ERROR]",t),null}return i.height=a.default.int(t.height),i.width=a.default.int(t.width),i}}},{key:"cutImage",value:function(t,e,i,n){var s;return null==t||t.width==e&&t.height==i?t:(n=a.default.getSizeScale(t.width,t.height,e,i,n),(s=d.create()).canvas.width=e,s.canvas.height=i,s.context.scale(n,n),s.context.translate(.5*(e-t.width*n),.5*(i-t.height*n)),s.context.drawImage(t,0,0,t.width,t.height,0,0,t.width,t.height),d.toImage(s.canvas))}},{key:"toCanvas",value:function(t,e,i){if(null!=t)return i=null==i||1==i,e=e||d.create(),i&&e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.canvas.height=t.height,e.canvas.width=t.width,e.context.drawImage(t,0,0),e.canvas}},{key:"getPixelAphla",value:function(t,e,i){return null==t||e>t.width||i>t.height?255:t.getImageData(e,i,1,1).data[3]}},{key:"clearContext",value:function(t){t&&t.clear(0,0,t.width,t.height)}},{key:"containerToImage",value:function(t,e,i,n,s){if(null!=t){i||n||t._updateSize();var a=h.default.create(o.default),i=(a.canvas.width=Math.ceil(i||t.width),a.canvas.height=Math.ceil(n||t.height),l.default.isEmpty(s)||(a.beginFill(s),a.drawRect(0,0,a.canvas.width,a.canvas.height),a.endFill()),d._renderContainer(a,t,t),void 0);if(e)try{i=a.canvas.toDataURL(e||"image/png")}catch(t){return trace("[ERROR]",t),null}else i=d.toImage(a.canvas,l.default.isEmpty(s)?null:"image/jpg");return h.default.remove(a),i}}},{key:"_renderContainer",value:function(t,e,i){for(var n=void 0,s=void 0,n=0,a=e._children.length;n<a;n++)if((s=e._children[n])instanceof r.default)try{0<=u.default.getQualifiedSuperclassName(s).split(".").indexOf("Sprite")||s.name&&0==(""+s.name).indexOf("sprite")?s.render(t,i):d._renderContainer(t,s,i)}catch(t){trace("[ERROR]",t)}else t.context.save(),s._render(t,!1,i),t.context.restore()}},{key:"colorTransform",value:function(t,e,i,n,s){for(var a=e.x>>0,r=e.y>>0,o=e.width>>0,e=e.height>>0,l=n&&s?n.getImageData(s.x,s.y,s.width,s.height).data:null,n=t.getImageData(a,r,o,e),h=n.data,u=0,c=h.length;u<c;u+=4){var d=u,f=u+1,_=u+2,p=u+3;l&&l[p]<1||h[p]<1||(h[d]=h[d]*i.redMultiplier+i.redOffset,h[f]=h[f]*i.greenMultiplier+i.greenOffset,h[_]=h[_]*i.blueMultiplier+i.blueOffset,h[p]=h[p]*i.alphaMultiplier+i.alphaOffset)}t.putImageData(n,a,r,0,0,o,e)}}]);i=d;function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=l(i(1)),h=l(i(4)),u=l(i(20)),o=l(i(59)),c=l(i(13)),d=l(i(0));function l(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=l;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function l(){var t;if(this instanceof l)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this))).__over_handler=t.__update_handler=t.__load_handler=t.__error_handler=null,t.loadFail=t.once=t.auto_play=t.is_init=t.loading=t.loaded=t.playing=!1,t.list=t._type=t.element=null,t.auto_next=!0,t.seed_time=0,t.length=0,t.current=0,t.volume=1,t.delay_id=0,t.delay_max=20,t.delay_count=0,t.delay_time=400,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(l,[{key:"init",value:function(){this.is_init||(this.is_init=!0,this.name=c.default.getName(this._type),this.element=document.createElement(this._type),this.element.id=this.name,this.element.controls="",this.element.preload="auto",this.list=[],l.Container.add(this),this.canvas=this.element,this.__delay_handler=r.default.delegate(this._delay,this),this.__over_handler=r.default.delegate(this._play_over,this),this.__load_handler=r.default.delegate(this._load_handler,this),this.__update_handler=r.default.delegate(this._time_update,this),this.__error_handler=r.default.delegate(this._error_handler,this),this.element.addEventListener("error",this.__error_handler,!1))}},{key:"_delay",value:function(){0<this.element.readyState||this.delay_count<=0?this._load_complete():(this.delay_count--,this.delay_id=setTimeout(this.__delay_handler,this.delay_time))}},{key:"_load_handler",value:function(t){this.length=null==this.element.duration||isNaN(this.element.duration)?0:Math.max(0,this.element.duration),0!=t.type.indexOf("canplay")||this.loaded||this._load_complete()}},{key:"_load_complete",value:function(){this.dispatchEvent(new h.default(l.MEDIA_LOAD_COMPLETE)),this.delay_id&&clearTimeout(this.delay_id),this.delay_id=0,this.loaded=!0,this.loading=!1,this.auto_play&&!this.playing&&(this.once&&(this.auto_play=this.once=!1),this.play())}},{key:"_error_handler",value:function(t){this.loading=!1,this.loadFail=!0,trace("[ERROR] Media",t),this.dispatchEvent(new h.default(l.MEDIA_ERROR)),this.auto_next&&1<this.list.length?(this.current=this.current>=this.list.length?0:this.current+1,this._start_load()):this.close()}},{key:"_play_over",value:function(t){this.dispatchEvent(new h.default(l.MEDIA_PLAY_COMPLETE)),this.auto_next&&1<this.list.length?(this.current=this.current>=this.list.length?0:this.current+1,this._start_load()):this.close()}},{key:"_time_update",value:function(t){this.length=null==this.element.duration?0:Math.max(0,this.element.duration),this.seed_time=this.element.currentTime}},{key:"setVolume",value:function(t){this.volume!=t&&(this.volume=t,this.playing)&&(this.element.volume=this.volume,0<this.volume)&&(this.element.muted=!1)}},{key:"getVolume",value:function(){return this.volume}},{key:"setCurrentTime",value:function(t){if(this.element&&null!=t&&0<=t&&t<this.length)try{this.element.currentTime=t}catch(t){}}},{key:"getCurrentTime",value:function(){return this.element?this.element.currentTime:0}},{key:"load",value:function(i){var t;if(this.is_init||this.init(),"number"==typeof i)this.loading||(t=this.current,this.current=i,this._start_load())||(this.current=t);else{(i="string"==typeof i&&0<i.indexOf(",")?i.split(","):i)instanceof Array?ArrayUtil.each(i,function(t,e){"string"==typeof t&&(i[e]={url:t})}):i=[i="string"==typeof i?{url:i}:i];for(var e,n,s,a,r=0,o=i.length;r<o;r++)if(e=i[r],!d.default.isEmpty(e.url)){if(n=this._type+"/"+this._fit_name(d.default.getPathExt(e.url))+("codecs"in e?';codecs="'+e.codecs+'"':""),s=this.element.canPlayType(n),"rtmp"==(a=e.url.slice(0,4).toLowerCase())&&(s=!0,n="rtmp/flv"),s)s=u.default.createDOM("source",{type:n,src:e.url}),this.element.appendChild(s);else if("blob"!=a)continue;this.list.push(e)}!this.loading&&0<this.list.length?this._start_load():0<i.length&&0==this.list.length&&this.dispatchEvent(new h.default(l.MEDIA_ERROR))}}},{key:"_fit_name",value:function(t){switch(t){case"mov":return"quicktime";case"3gp":return"3gpp";case"mid":return"midi";case"ogv":return"ogg";case"m4a":return"acc";default:return t}}},{key:"_start_load",value:function(){return!(!this.element||this.current<0||0==this.list.length||this.current>=this.list.length||(this.close(),this.loading=!0,this.element.addEventListener("loadedmetadata",this.__load_handler,!1),this.element.addEventListener("canplaythrough",this.__load_handler,!1),this.element.addEventListener("loadeddata",this.__load_handler,!1),this.element.addEventListener("canplay",this.__load_handler,!1),this.element.src=this.list[this.current].url,this.element.load(),r.default.ios&&(this.delay_count=this.delay_max,this.delay_id=setTimeout(this.__delay_handler,this.delay_time)),0))}},{key:"close",value:function(){this.element&&(this.element.removeEventListener("loadedmetadata",this.__load_handler),this.element.removeEventListener("canplaythrough",this.__load_handler),this.element.removeEventListener("loadeddata",this.__load_handler),this.element.removeEventListener("canplay",this.__load_handler),this.delay_id&&clearTimeout(this.delay_id),this.delay_id=0,this.playing&&this.stop(),this.loadFail=this.loaded=this.loading=this.playing=!1,this.seed_time=0)}},{key:"play",value:function(t){if(this.element)if(this.loaded){if(this.playing&&this.stop(),t&&(this.seed_time=0),0<this.seed_time)try{this.element.currentTime=this.seed_time}catch(t){}this.element.addEventListener("timeupdate",this.__update_handler,!1),this.element.addEventListener("ended",this.__over_handler,!1),0<this.volume?this.element.volume=this.volume:this.element.muted=!0,this.playing=!0,this.element.play()}else!this.loading&&0<this.list.length&&(this.auto_play||(this.once=this.auto_play=!0),this._start_load())}},{key:"stop",value:function(){this.element&&(this.seed_time=this.element.currentTime,this.element.removeEventListener("timeupdate",this.__update_handler),this.element.removeEventListener("ended",this.__over_handler),this.playing=!1,this.element.pause())}},{key:"dispose",value:function(){this.close(),a(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"dispose",this).call(this),this.list=this.canvas=null,l.Container.remove(this),delete this.delay_id,this.delay_max,this.delay_count,this.delay_time,this.loadFail,this.once,this.loaded,this.list,this.loading,this.playing,this.element,this.seed_time,this.length,this.current,this.volume,this.auto_play,this._type,this.auto_next,this.__over_handler,this.__update_handler,this.__load_handler,this.__error_handler}}]),l}(l(i(15)).default);(e.default=i).MEDIA_ERROR="mediaError",i.MEDIA_LOAD_COMPLETE="mediaLoadComplete",i.MEDIA_PLAY_COMPLETE="mediaPlayComplete",i.Container=new o.default,i.className="Media"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(h,[{key:"setup",value:function(t,e,i,n,s,a,r,o,l){this.type=t,this.xStart=e,this.yStart=i,this.xEnd=n,this.yEnd=s,this.offsetlist=a,this.colorList=r,this.radiusStart=o,this.radiusEnd=l}},{key:"dispose",value:function(){delete this.type,this.xStart,this.yStart,this.xEnd,this.yEnd,this.offsetlist,this.colorList,this.radiusStart,this.radiusEnd}},{key:"clone",value:function(){return new h(this.type,this.xStart,this.yStart,this.xEnd,this.yEnd,this.offsetlist,this.colorList,this.radiusStart,this.radiusEnd)}}]);var s=h;function h(t,e,i,n,s,a,r,o,l){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.setup(t,e,i,n,s,a,r,o,l)}(e.default=s).className="GColor"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=u(i(20)),r=u(i(3)),o=u(i(2)),l=u(i(9)),h=u(i(12));function u(t){return t&&t.__esModule?t:{default:t}}n(c,null,[{key:"getRect",value:function(t){if(null==t)return null;if("string"==typeof t){var e=a.default.createDOM("div");try{e.innerHTML=t,t=e.children[0]}catch(t){return null}}var i,n,s,e=t.documentElement||t;return e.viewBox&&"string"==typeof e.viewBox?l.default.toRectangle(e.viewBox):(t=e.width,i=e.height,n=t instanceof SVGAnimatedLength,s=i instanceof SVGAnimatedLength,new l.default(n?e.x.animVal.value:r.default.int(e.x||0),s?e.y.animVal.value:r.default.int(e.y||0),n?t.animVal.value:r.default.int(t),s?i.animVal.value:r.default.int(i)))}},{key:"getElement",value:function(e){if(null==e)return null;var t=o.default.create(h.default),i=c.getRect(e),i=a.default.createDOM("div",{style:{width:i.width+"px",height:i.height+"px"}});try{i.innerHTML=(new XMLSerializer).serializeToString(e)}catch(t){i.innerHTML=e}return t.element=i,t}},{key:"create",value:function(t,e){var i;if(null!=t)return i=document.createElementNS(c.ns,t),null==e&&(e={}),"svg"!=t.toLowerCase()||e.hasOwnProperty("xmlns")||(e.xmlns=c.ns),c.setAttributes(i,e),i}},{key:"setAttributes",value:function(t,e){if(null!=t&&null!=e)for(var i in e){var n=e[i];if(null!=n)if("style"==i)for(var s in n)t.style[s]=n[s];else"innerHTML"==i||"outerHTML"==i?t.innerHTML=n:t.setAttribute(i,n)}}},{key:"getElementsById",value:function(t,e,i){var n=t.getElementsByTagName(e);if(!n.length)return null;for(var s,a=0,r=n.length;a<r;a++)if((s=n[a]).id==i)return s}},{key:"supported",get:function(){return null!=document.createElementNS&&null!=document.createElementNS(c.ns,"svg").createSVGRect}}]);i=c;function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function")}(e.default=i).ns="http://www.w3.org/2000/svg",i.xlink="http://www.w3.org/1999/xlink",i.xmlns="http://www.w3.org/2000/xmlns/"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(h,[{key:"reset",value:function(){this.value={direction:"ltr",fillStyle:"#000000",filter:"none",font:"10px sans-serif",globalAlpha:1,globalCompositeOperation:"source-over",imageSmoothingEnabled:!0,imageSmoothingQuality:"low",lineCap:"butt",lineDashOffset:0,lineJoin:"miter",lineWidth:1,miterLimit:10,shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0)",shadowOffsetX:0,shadowOffsetY:0,strokeStyle:"#000000",textAlign:"start",textBaseline:"alphabetic"},this.strict=!1,this.type_id=0,this.actions=[]}}],[{key:"INIT_CLASS",value:function(){if(!h.IS_INIT){var t=void 0,e=h.IS_INIT=!0,i=!1,n=void 0;try{for(var s,a=h.LIST[Symbol.iterator]();!(e=(s=a.next()).done);e=!0)t=s.value,h.prototype[t]=h.create_func(1,t)}catch(t){i=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}var r=!0,i=!1,n=void 0;try{for(var o,l=h.ATTR[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)t=o.value,Object.defineProperty(h.prototype,t,{get:h.get_attr_func(t),set:h.create_func(0,t),enumerable:!0,configurable:!0})}catch(t){i=!0,n=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw n}}}}},{key:"create_func",value:function(t,e){return function(){0===t&&(this.value[e]=arguments[0],!this.strict)||this.actions.push({type:t,method:e,data:arguments})}}},{key:"get_attr_func",value:function(t){return function(){return this.value[t]}}}]);var s=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.reset()}(e.default=s).LIST=["save","restore","scale","rotate","translate","transform","setTransform","getTransform","resetTransform","createLinearGradient","createRadialGradient","createPattern","clearRect","fillRect","strokeRect","beginPath","fill","stroke","drawFocusIfNeeded","clip","isPointInPath","isPointInStroke","fillText","strokeText","measureText","drawImage","getImageData","putImageData","createImageData","setLineDash","getLineDash","closePath","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","rect","arc","ellipse","drawSvg"],s.ATTR=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineJoin","lineDashOffset","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","filter","direction","imageSmoothingEnabled","imageSmoothingQuality"],s.IS_INIT=!1,s.className="ContextVO"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"hitTestPoint",value:function(t,e,i,n){var s=t.getBounds?t.getBounds(t.stage):t,a=s.length,t=e>=s.x&&e<=s.x+s.width&&i>=s.y&&i<=s.y+s.height;if(t&&n&&a){for(var r=0,o=!1,l=void 0,h=void 0,u=void 0,c=void 0,d=0;d<a;d++){var f=s[d],_=s[(d+1)%a];f.y==_.y&&i==f.y&&(h=(f.x>_.x?(l=_.x,f):(l=f.x,_)).x,l<=e)&&e<=h?o=!0:(c=(f.y>_.y?(u=_.y,f):(u=f.y,_)).y,i<u||c<i||(e<(_=(i-f.y)*(_.x-f.x)/(_.y-f.y)+f.x)?r++:_==e&&(o=!0)))}return o?0:r%2==1?1:-1}return t?1:-1}},{key:"hitTestObject",value:function(t,e,i){var t=t.getBounds(t.stage),e=e.getBounds(e.stage),n=t.x<=e.x+e.width&&e.x<=t.x+t.width&&t.y<=e.y+e.height&&e.y<=t.y+t.height;return n&&i?!1!==(n=a.polygonCollision(t,e)):n}},{key:"polygonCollision",value:function(t,e){var i=a._doSATCheck(t,e,{overlap:-1/0,normal:{x:0,y:0}});return!!i&&a._doSATCheck(e,t,i)}},{key:"_doSATCheck",value:function(t,e,i){for(var n,s,a=t.length,r=e.length,o=void 0,l=void 0,h=void 0,u=void 0,c=void 0,d=void 0,f={x:0,y:0},_=0;_<a;_++){n=t[_],s=t[_<a-1?_+1:0],f.x=n.y-s.y,f.y=s.x-n.x,s=Math.sqrt(f.x*f.x+f.y*f.y),f.x/=s,f.y/=s;for(var o=l=t[0].x*f.x+t[0].y*f.y,p=1;p<a;p++)l<(c=t[p].x*f.x+t[p].y*f.y)?l=c:c<o&&(o=c);for(h=u=e[0].x*f.x+e[0].y*f.y,j=1;j<r;j++)u<(c=e[j].x*f.x+e[j].y*f.y)?u=c:c<h&&(h=c);if(o<h?(d=h-l,f.x=-f.x,f.y=-f.y):d=o-u,0<=d)return!1;d>i.overlap&&(i.overlap=d,i.normal.x=f.x,i.normal.y=f.y)}return i}},{key:"isInPolygon",value:function(t,e){for(var i,n,s=0,a=void 0,r=void 0,o=e.length,r=e[0],a=1;a<=o;a++)n=e[a%o],t.x>Math.min(r.x,n.x)&&t.x<=Math.max(r.x,n.x)&&t.y<=Math.max(r.y,n.y)&&r.x!=n.x&&(i=(t.x-r.x)*(n.y-r.y)/(n.x-r.x)+r.y,r.y==n.y||t.y<=i)&&s++,r=n;return s%2!=0}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=d(i(2)),o=d(i(34)),l=d(i(57)),h=d(i(62)),u=d(i(35)),r=d(i(16)),c=d(i(1));function d(t){return t&&t.__esModule?t:{default:t}}n(f,null,[{key:"addFiles",value:function(t){if(null!=t){var e,i,n,s,a=void 0,r=void 0;for(a in t)e=t[a],n=a.split("@")[0],null!=e&&(e instanceof Image?!t.hasOwnProperty(n+"@xml")&&!t.hasOwnProperty(n+"@json")||(s=t.hasOwnProperty(n+"@xml"),null==(i=t[n+(s?"@xml":"@json")]))||null==(r=l.default.parseSheet(e,i,s))||r.length<=0?f._cache[a]=e:(s?f._cache.hasOwnProperty(n+"@xml")&&delete f._cache[n+"@xml"]:f._cache.hasOwnProperty(n+"@json")&&delete f._cache[n+"@json"],(0<r[0].width?h.default:f).addSources(r)):"fnt"==String(a.split("@")[1]).toLowerCase()?null!=(r=l.default.parseFont(e))&&u.default.add(r):e instanceof o.default?f._cache[a]=e.content:f._cache[a]=e)}}},{key:"addSources",value:function(t){if(!(null==t||t.length<1)){for(var e,i=void 0,n=[],i=0,s=t.length;i<s;i++)null!=(e=t[i])&&e instanceof r.default&&(0<e.width?n.push(e):f._cache[e.name]=e);0<n.length&&h.default.addSources(n)}}},{key:"getSource",value:function(t,e){var i=f._cache[t];return i?(!e&&c.default.useCanvas||!i||(i instanceof Image?i=f.__clone_image(i):i instanceof r.default&&((i=i.clone()).image=f.__clone_image(i.image))),i):(i=h.default.findData(t))&&1==i.length?i[0]:i}},{key:"__clone_image",value:function(t){var e=new Image;return e.src=t.src,e.width=t.width,e.height=t.height,t.crossOrigin&&(e.crossOrigin=t.crossOrigin),e}},{key:"removeSource",value:function(t){f._cache.hasOwnProperty(t)&&("function"==typeof f._cache[t].dispose&&f._cache[t].dispose(),delete f._cache[t])}},{key:"clear",value:function(){f._cache={}}},{key:"fromImage",value:function(t){var e=a.default.create(r.default),i={x:0,y:0,width:t.width,height:t.height,frameWidth:t.width,frameHeight:t.height,name:t.name||t.src};return e.setup(t,i),e}}]);i=f;function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function")}(e.default=i)._cache={},i.className="AssetManager"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var h=r(i(5)),u=r(i(48)),c=r(i(18)),a=r(i(2)),d=r(i(17)),f=r(i(11)),_=r(i(3)),p=r(i(6));function r(t){return t&&t.__esModule?t:{default:t}}n(v,[{key:"setup",value:function(t,e,i,n,s){this.type=t,this.time=i||0,this.value=e,this.align=n||0,this.tween=s}},{key:"clone",value:function(){var t=a.default.create(v);return t.value=this.value,t.align=this.align,t.tween=this.tween,t.type=this.type,t.time=this.time,t}},{key:"reset",value:function(){this.setup(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,4<arguments.length&&void 0!==arguments[4]?arguments[4]:null)}},{key:"dispose",value:function(){delete this.type,this.value,this.time,this.align,this.tween}}],[{key:"run",value:function(t,e){if(null!=t&&null!=e)if(c.default.remove(t),e instanceof v)v._execute(t,e);else if(e instanceof Array)for(var i=void 0,i=0,n=e.length;i<n;i++)v._execute(t,e[i])}},{key:"_execute",value:function(l,t){if(null!=l&&null!=t){t.align==v.CENTER&&(l.origin={x:.5*l.width,y:.5*l.height});var e,i=void 0,n=void 0,s=t.type==v.SHADOW;if(t.type!=v.MOVE&&t.type!=v.OFFSET||(n=p.default.toPoint(t.value),t.type==v.OFFSET&&n.offset(l.x,l.y),s=!0),(null!=l[t.type]||s)&&(t.time<=0&&(s?l.moveTo(n.x,n.y):l[t.type]=t.value),l.parent&&l.parent.autoSize&&l._parent._updateSize(),!(t.time<=0)))if(t.type==v.COLOR)e=l.color,l.__temp_num=0,c.default.to(l,t.time,{ease:t.tween,__temp_num:1,onUpdate:function(){l.__checkDisplayUpdate(),l.color=d.default.formatColor(d.default.interpolateColor(e,t.value,l.__temp_num))},onComplete:function(){l.__checkDisplayUpdate(),l.color=t.value}});else{if(t.type==v.SHADOW){if(null==l.filters){if(!(l instanceof h.default&&1==l.numChildren&&l.getChildAt(0).filters))return;l=l.getChildAt(0)}if(n="string"==typeof t.value?JSON.parse(t.value):t.value,0==l.filters.length)i=new u.default(0,0,0),l.filters.push(i);else for(var a,r=0,o=l.filters.length;r<o;r++)(a=l.filters[r])&&"DropShadowFilter"==f.default.getQualifiedClassName(a)&&(i=a);return null==i||null==n||null==n.length||n.length<1?void 0:1==n.length&&n[0]==i.distance||2==n.length&&n[0]==i.distance&&n[1]==i.angle||3==n.length&&n[0]==i.distance&&n[1]==i.angle&&n[2]==i.shadowBlur||4==n.length&&n[0]==i.distance&&n[1]==i.angle&&n[2]==i.shadowBlur&&n[3]==i.shadowColor||5==n.length&&n[0]==i.distance&&n[1]==i.angle&&n[2]==i.shadowBlur&&n[3]==i.shadowColor&&n[4]==i.alpha||6==n.length&&n[0]==i.distance&&n[1]==i.angle&&n[2]==i.shadowBlur&&n[3]==i.shadowColor&&n[4]==i.alpha&&n[5]==i.radius?void 0:(l.__temp_num=0,void c.default.to(l,t.time,{ease:t.tween,__temp_num:1,onUpdateParams:[i,n,i.distance,i.angle,i.shadowColor,i.shadowBlur,i.alpha,i.radius],onUpdate:function(t,e,i,n,s,a,r,o){t.distance=_.default.format(i+(e[0]-i)*l.__temp_num),1<e.length&&(t.angle=_.default.format(n+(e[1]-n)*l.__temp_num)),2<e.length&&(t.shadowBlur=_.default.format(a+(e[2]-a)*l.__temp_num)),3<e.length&&(t.shadowColor=d.default.formatColor(d.default.interpolateColor(s,e[3],l.__temp_num))),4<e.length&&(t.alpha=_.default.format(r+(e[4]-r)*l.__temp_num)),5<e.length&&(t.radius=_.default.format(o+(e[5]-o)*l.__temp_num)),1<e.length&&t.setShadowOffset(),l.__checkDisplayUpdate()},onCompleteParams:[i,n],onComplete:function(t,e){t.distance=e[0],1<e.length&&(t.angle=e[1]),2<e.length&&(t.shadowBlur=e[2]),3<e.length&&(t.shadowColor=e[3]),4<e.length&&(t.alpha=e[4]),5<e.length&&(t.radius=e[5]),1<e.length&&t.setShadowOffset(),l.__checkDisplayUpdate()}}))}i={ease:t.tween},!s&&t.type!=v.SCALE||(i.onUpdate=function(){l.parent&&l.parent.autoSize&&l._parent._updateSize()}),s?(i.x=n.x,i.y=n.y):i[t.type]=t.value,c.default.to(l,t.time,i)}}}}]);i=v;function v(t,e,i,n,s){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.type=this.value=this.time=this.align=this.tween=null,this.setup(t,e,i,n,s)}(e.default=i).className="Effect",i.MOVE="move",i.COLOR="color",i.SCALE="scale",i.ALPHA="alpha",i.OFFSET="offset",i.SHADOW="shadow",i.CENTER=1},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=d(i(0)),a=d(i(13)),r=d(i(24)),v=d(i(2)),y=d(i(21)),o=d(i(42)),l=d(i(9)),h=d(i(33)),u=d(i(23)),c=d(i(1)),g=d(i(6));function d(t){return t&&t.__esModule?t:{default:t}}n(f,[{key:"lineStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#000000",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"butt",s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"miter",a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:10;this.line_cap=n,this.stroke_style=e,this.line_join=s,this.line_alpha=i,this.line_width=t,this.miter_limit=a,this.line_width=this.line_width<=0?.1:this.line_width,this.stroke_style=this.stroke_style+"",this.context.lineCap=this.line_cap,this.context.lineJoin=this.line_join,this.context.lineWidth=this.line_width,this.context.miterLimit=this.miter_limit,this.context.strokeStyle=this.stroke_style}},{key:"clear",value:function(){this.context&&(this.rectangle=this.rectangle||v.default.create(l.default).set(0,0,this.context.canvas.width,this.context.canvas.height),this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.context.restore())}},{key:"beginFill",value:function(t,e){return this.fill_alpha=null==e?1:e,this.fill_style=t||"#FFFFFF",this.context.fillStyle=this.fill_style,this}},{key:"endFill",value:function(){var t=this.context.globalAlpha;0<arguments.length&&void 0!==arguments[0]&&!arguments[0]||!this.fill_style||(this.context.fillStyle=this.fill_style,this.context.globalAlpha=t*this.fill_alpha,this.context.fill()),this.stroke_style&&(this.context.strokeStyle=this.stroke_style,this.context.globalAlpha=t*this.line_alpha,this.context.stroke()),this.context.globalAlpha=t}},{key:"beginBitmapFill",value:function(t,e,i){this.fill_style=this.context.createPattern(t,e||"no-repeat"),this.fill_alpha=null==i?1:i,this.context.fillStyle=this.fill_style}},{key:"linearGradientFill",value:function(t,e,i,n,s,a){for(var r=this.context.createLinearGradient(t,e,i,n),o=Math.min(s.length,a.length),l=0;l<o;l++)r.addColorStop(s[l],a[l]+"");return this.fill_style=r}},{key:"radialGradientFill",value:function(t,e,i,n,s,a,r,o){for(var l=this.context.createRadialGradient(t,e,i,n,s,a),h=Math.min(r.length,o.length),u=0;u<h;u++)l.addColorStop(r[u],o[u]+"");return this.fill_style=l}},{key:"drawRect",value:function(t,e,i,n){this.beginPath(),this.context.rect(t,e,i,n),this.closePath()}},{key:"drawRoundRect",value:function(t,e,i,n,s,a){this.beginPath(),a&&a!=s?(this.moveTo(t+i,e+n-a),this.curveTo(t+i,e+n,t+i-s,e+n),this.lineTo(t+s,e+n),this.curveTo(t,e+n,t,e+n-a),this.lineTo(t,e+a),this.curveTo(t,e,t+s,e),this.lineTo(t+i-s,e),this.curveTo(t+i,e,t+i,e+a),this.lineTo(t+i,e+n-a)):(this.moveTo(t+s,e),this.lineTo(t+i-s,e),this.arc(t+i-s,e+s,s,-Math.PI/2,0,!1),this.lineTo(t+i,e+n-s),this.arc(t+i-s,e+n-s,s,0,Math.PI/2,!1),this.lineTo(t+s,e+n),this.arc(t+s,e+n-s,s,Math.PI/2,Math.PI,!1),this.lineTo(t,e+s),this.arc(t+s,e+s,s,Math.PI,3*Math.PI/2,!1)),this.closePath()}},{key:"drawPath",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!(null==t||t.length<2)){this.beginPath();var i=t[0]instanceof Array;this.moveTo(i?t[0][0]:t[0].x,i?t[0][1]:t[0].y);for(var n=1;n<t.length;n++)this.lineTo(i?t[n][0]:t[n].x,i?t[n][1]:t[n].y);e&&this.closePath()}}},{key:"drawCircle",value:function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,0),this.closePath()}},{key:"drawEllipse",value:function(t,e,i,n){if(i==n)return this.drawCircle(t,e,i/2);var s=.5522847498307933*(i/=2),a=.5522847498307933*(n/=2);t+=i,e+=n,this.beginPath(),this.moveTo(t+i,e),this.bezierCurveTo(t+i,e-a,t+s,e-n,t,e-n),this.bezierCurveTo(t-s,e-n,t-i,e-a,t-i,e),this.bezierCurveTo(t-i,e+a,t-s,e+n,t,e+n),this.bezierCurveTo(t+s,e+n,t+i,e+a,t+i,e),this.closePath()}},{key:"createPolygon",value:function(t,e,i,n){n<3||this.drawPath(g.default.polygonPoints(t,e,i,n))}},{key:"drawSVGPath",value:function(t,e){var i=void 0,n=void 0,s=v.default.create(g.default),a=0,r=t.split(/(?=[a-zA-Z])/);this.beginPath();for(var o,l,h=0,u=r.length;h<u;h++)switch(i=(o=p.default.trim(r[h]))[0].toUpperCase(),l=y.default.format(o.substring(1).split(/,| |-/)),p.default.isEmpty(i)?i=n:n=i,i){case"M":s.set(e?e[a].x:l[0],e?e[a].y:l[1]),this.moveTo(s.x,s.y),a++;break;case"L":for(var c=0,d=Math.floor(.5*l.length);c<d;c++)e?(this.lineTo(e[a].x,e[a].y),a++):this.lineTo(l[2*c],l[2*c+1]);c--,s.set(e?e[a-1].x:l[2*c],e?e[a-1].y:l[2*c+1]);break;case"Q":c=0;for(var f=Math.floor(l.length/4);c<f;c++)e?(this.curveTo(e[a].x,e[a].y,e[a+1].x,e[a+1].y),a+=2):this.curveTo(l[4*c],l[4*c+1],l[4*c+2],l[4*c+3]);c--,s.set(e?e[a-1].x:l[4*c+2],e?e[a-1].y:l[4*c+3]);break;case"C":c=0;for(var _=Math.floor(l.length/6);c<_;c++)e?(this.bezierCurveTo(e[a].x,e[a].y,e[a+1].x,e[a+1].y,e[a+2].x,e[a+2].y),a+=3):this.bezierCurveTo(l[6*c],l[6*c+1],l[6*c+2],l[6*c+3],l[6*c+4],l[6*c+5]);c--,s.set(e?e[a-1].x:l[6*c+4],e?e[a-1].y:l[6*c+5]);break;case"H":case"V":s.set("H"==i?parseFloat(l[0]):s.x,"H"==i?s.y:parseFloat(l[0])),this.lineTo(s.x,s.y);break;case"Z":this.closePath();break;default:trace("[Graphics]drawSVGPath() miss",o)}return v.default.remove(s),this}},{key:"drawShape",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(t&&t instanceof u.default){i&&t.properties.style&&((r=t.properties.style).fill&&(0==r.fill.indexOf("#")?this.beginFill(r.fill,r.fillOpacity||r.opacity):AssetManager.getSource(r.fill)&&this.beginBitmapFill(AssetManager.getSource(r.fill).image)),r.stroke)&&0==r.stroke.indexOf("#")&&this.lineStyle(r.strokeWidth,r.stroke,r.strokeOpacity||r.opacity);var n,s=void 0,a=void 0,r=void 0;switch(t.type){case h.default.LINE:a=[[t.properties.x1,t.properties.y1],[t.properties.x2,t.properties.y2]],e?s=o.default.pointsToPath(a):this.drawPath(a,!1);break;case h.default.POLYLINE:case h.default.POLYGON:a=y.default.each(t.properties.points.split(/ /),function(t,e,i){i[e]=t.split(/,/)}),e?s=o.default.pointsToPath(a,t.type==h.default.POLYGON):this.drawPath(a,t.type==h.default.POLYGON);break;case h.default.RECT:e?s=o.default.rectToPath(t.properties):this.drawRoundRect(t.properties.x||0,t.properties.y||0,t.properties.width,t.properties.height,t.properties.rx||0,t.properties.ry||0);break;case h.default.CIRCLE:e?s=o.default.ellipseToPath(t.properties):this.drawCircle(t.properties.cx||0,t.properties.cy||0,t.properties.r);break;case h.default.ELLIPSE:e?s=o.default.ellipseToPath(t.properties):this.drawEllipse((t.properties.cx||0)-t.properties.rx,(t.properties.cy||0)-t.properties.ry,2*t.properties.rx,2*t.properties.ry);break;case h.default.PATH:e?s=t.properties.d:this.drawSVGPath(t.properties.d);break;default:return}p.default.isEmpty(s)||(n=v.default.create(u.default).setup(h.default.PATH,{d:s}),r=o.default.getShapeBounds(n,!0),g.default.matrix(r,e),this.drawSVGPath(s,r),v.default.remove(n)),i&&t.properties.style&&this.endFill()}}},{key:"reset",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.rectangle&&v.default.remove(this.rectangle),this.fill_style=this.rectangle=null,this.fill_alpha=1,t&&(this.context=t,this.canvas=t.canvas,this.canvas.width!=c.default.width&&(this.canvas.width=c.default.width),this.canvas.height!=c.default.height)&&(this.canvas.height=c.default.height),this.clear(),this.line_alpha=1,this.line_width=1,this.miter_limit=10,this.line_cap="butt",this.line_join="miter",this.stroke_style="#000000"}},{key:"dispose",value:function(){this.reset(),delete this.name,this.rectangle,this.line_cap,this.line_join,this.line_alpha,this.stroke_style,this.line_width,this.miter_limit,this.fill_alpha,this.fill_style,this.context,this.canvas}},{key:"toString",value:function(){return"Graphics"}}]);i=f;function f(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this,i=f;if(!(e instanceof i))throw new TypeError("Cannot call a class as a function");t?(this.context=t,this.canvas=t.canvas):(r.default.create(this),this.canvas.width=c.default.width,this.canvas.height=c.default.height),this.name=a.default.getName("Graphics"),c.default.proxy(this,this.context,"arc"),c.default.proxy(this,this.context,"moveTo"),c.default.proxy(this,this.context,"lineTo"),c.default.proxy(this,this.context,"beginPath"),c.default.proxy(this,this.context,"closePath"),c.default.proxy(this,this.context,"bezierCurveTo"),c.default.proxy(this,this.context,"quadraticCurveTo","curveTo")}(e.default=i).className="Graphics"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function")}(e.default=n).LINE="line",n.POLYLINE="polyline",n.RECT="rect",n.CIRCLE="circle",n.ELLIPSE="ellipse",n.POLYGON="polygon",n.PATH="path"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=u(i(19)),r=u(i(0)),o=u(i(4)),l=u(i(1)),h=u(i(45));function u(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function s(){var t;if(this instanceof s)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this))).content=null,t.type=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(s,[{key:"load",value:function(t){var e=void 0,i=this,n=r.default.getPathExt(t);"txt"==n?e=s.TYPE_TEXT:"json"==n?e=s.TYPE_JSON:"js"==n?e=s.TYPE_JS:"prop"==n?e=s.TYPE_PROP:"css"==n?e=s.TYPE_CSS:retrun,(this.type=e)==s.TYPE_TEXT||e==s.TYPE_JSON||e==s.TYPE_PROP?(new h.default).get(t).then(function(t){i.content=t,i.dispatchEvent(new o.default(o.default.COMPLETE)),i.removeEventListener(o.default.COMPLETE),i.removeEventListener(o.default.ERROR)}).catch(function(t){console.log("[ERROR]",t),i.content=null,i.dispatchEvent(new o.default(o.default.ERROR)),i.removeEventListener(o.default.COMPLETE),i.removeEventListener(o.default.ERROR)}):e==s.TYPE_JS?(i.content=document.createElement("script"),i.content.onload=function(){i.dispatchEvent(new o.default(o.default.COMPLETE)),i.removeEventListener(o.default.COMPLETE),i.removeEventListener(o.default.ERROR)},i.content.onerror=function(){i.dispatchEvent(new o.default(o.default.ERROR)),i.removeEventListener(o.default.COMPLETE),i.removeEventListener(o.default.ERROR)},i.content.src=t,i.content.type="text/javascript",document.querySelector("head").appendChild(i.content)):e==s.TYPE_CSS&&(i.content=document.createElement("link"),i.content.rel="stylesheet",i.content.type="text/css",i.content.onload=function(){i.dispatchEvent(new o.default(o.default.COMPLETE)),i.removeEventListener(o.default.COMPLETE),i.removeEventListener(o.default.ERROR)},i.content.onerror=function(){i.dispatchEvent(new o.default(o.default.ERROR)),i.removeEventListener(o.default.COMPLETE),i.removeEventListener(o.default.ERROR)},i.content.href=t,document.querySelector("head").appendChild(i.content))}}],[{key:"parseXML",value:function(t,e){var i=null;if(l.default.root.DOMParser)try{i=(new DOMParser).parseFromString(t,e)}catch(t){}else if(l.default.root.ActiveXObject){for(var n=["MSXML.2.DOMDocument.6.0","MSXML.2.DOMDocument.3.0","Microsoft.XMLDOM"],s=0;s<n.length;s++)try{i=new ActiveXObject(n[s]);break}catch(t){}i&&(i.async=!1,i.loadXML(t))}return i}}]),s}(a.default);(e.default=i).TYPE_TEXT="text",i.TYPE_JSON="json",i.TYPE_PROP="prop",i.TYPE_CSS="css",i.TYPE_JS="js",i.className="URLLoader"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(0),a=(i=i)&&i.__esModule?i:{default:i};n(r,null,[{key:"add",value:function(t){null!=t&&(r.remove(t.name),r._cache[t.name]=t)}},{key:"remove",value:function(t){r._cache.hasOwnProperty(t)&&(r._cache[t].dispose(),delete r._cache[t])}},{key:"has",value:function(t){return!a.default.isEmpty(t)&&null!=r._cache[t]}},{key:"get",value:function(t,e){if(a.default.isEmpty(t))for(t in r._cache)break;return a.default.isEmpty(t)?null:null==e||e<0?r._cache[t]:r._cache[t].chars[e]}},{key:"clear",value:function(){var t=void 0;for(t in r._cache)r._cache[t].dispose(),delete r._cache[t]}}]);i=r;function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}(e.default=i).className="FontManager",i._cache={}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=m(i(5)),o=m(i(29)),l=m(i(13)),u=m(i(9)),h=m(i(20)),c=m(i(23)),d=m(i(2)),f=m(i(3)),_=m(i(12)),p=m(i(1)),v=m(i(33)),y=m(i(69)),g=m(i(6));function m(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function s(){var t;if(this instanceof s)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this))).name=l.default.getName("sprite"),t._blendMode=t._defs=t._rect=t._mask=t.div=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(s,[{key:"addChildAt",value:function(t,e){t=a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"addChildAt",this).call(this,t,e);return this.use_canvas||(null==this.div&&(this.div=h.default.createDOM("div",{id:"sprite_"+this.name})),t&&(t.parentNode=this.div)),t}},{key:"render",value:function(t,e){if(null!=this._children&&0!=this._children.length)if(this.visible){for(var i,n,s,a,r=this.updateMatrix||this._refresh,o=this.getMatrix(t,!0),l=(this._mask&&this.use_canvas&&(a=void 0,(i=(e?this.getMatrix(e):o).applyDisplay()).center=d.default.create(g.default),this._mask instanceof u.default&&((s=this._mask.clone()).multiply(i.scaleX,i.scaleY),n=f.default.getRadiansFromDegrees(i.rotation),a=s.rotation(n,i.center,i,i.scaleX<0,i.scaleY<0),d.default.remove(s)),(t||this.stage).context.save(),this._mask instanceof u.default?(t||this.stage.graphics).drawPath(a,!0):this._mask instanceof c.default&&(t||this.stage.graphics).drawShape(this._mask,i),(t||this.stage).context.clip(),d.default.remove(i.center),i.center=null),this.use_canvas||(_.default._depth_count++,this.div&&(""!=this.div.style.display&&(this.div.style.display=""),this.div.style.zIndex=p.default.layer+_.default._depth_count,null!=this._blendMode&&(this.div.style.mixBlendMode=this._blendMode||"normal"),r)&&(this._refresh=!1,s=""===(n=p.default.cssPrefix)?"transform":n+"Transform",a=""===n?"transformOrigin":n+"TransformOrigin",this.div.style[n+"ClipPath"]=this.div.style.clipPath=this._mask&&this._mask instanceof c.default?"url(#"+this._mask.id+c.default.CILP+")":"",p.default.supportTransform?(this.div.style[a]="0% 0%",this.div.style.top=this.div.style.left="0px",this.div.style[s]=o.toCSS()):(this.div.style.top=o.ty+"px",this.div.style.left=o.tx+"px"))),void 0),h=this._children.length,l=0;l<h;l++)this._children[l].render.apply(this._children[l],this.use_canvas?[t,!1,e]:[this]);this._mask&&this.use_canvas&&(t||this.stage).context.restore()}else this.div&&(this.div.style.display="none")}},{key:"getObjectUnderPoint",value:function(t,e,i,n){return this.maskRect&&this._checkTouch(t,e,i)?null:a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"getObjectUnderPoint",this).call(this,t,e,i,n)}},{key:"hitTestPoint",value:function(t,e,i){return(!this.maskRect||!this._checkTouch(t,e,i))&&a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"hitTestPoint",this).call(this,t,e,i)}},{key:"_checkTouch",value:function(t,e,i){var n=this.maskRect.clone(),s=this.getMatrix().applyDisplay(),a=(n.multiply(s.scaleX,s.scaleY),void 0),r=f.default.getRadiansFromDegrees(s.rotation);return i?(a=u.default.rectangleByRadians(n,r,null,s,s.scaleX<0,s.scaleY<0),d.default.remove(n)):0==r?(n.x=s.x,n.y=s.y,a=n):(r=n.rotation(r,null,s,s.scaleX<0,s.scaleY<0),a=u.default.createRectangle(r[0],r[1],r[2],r[3]),d.default.remove(n)),o.default.hitTestPoint(a,t,e,i)<0}},{key:"reset",value:function(){this._mask&&this._mask instanceof c.default&&d.default.remove(this._mask),this.div&&this.div.parentNode&&this.div.parentNode.removeChild(this.div),this._rect&&d.default.remove(this._rect),a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"reset",this).call(this),this._blendMode=this._defs=this._rect=this._mask=this.div=null}},{key:"dispose",value:function(){a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"dispose",this).call(this),delete this._blendMode,this._defs,this._mask,this.div,this.svg,this._rect}},{key:"blendMode",get:function(){return this._blendMode},set:function(t){this._blendMode!=t&&(this._blendMode=t,this.__checkDisplayUpdate())}},{key:"maskRect",get:function(){return this._mask?this._mask instanceof u.default?this._mask:this._rect:null},set:function(t){t?(this._rect=new u.default(t.x,t.y,t.width,t.height),this.setSize(this._rect.width,this._rect.height)):this._rect=t}},{key:"defs",get:function(){return this._defs||this.use_canvas||(this._defs=d.default.create(y.default).init(),this.addChild(this._defs)),this._defs}},{key:"parentNode",get:function(){return this._parentNode},set:function(t){this._parentNode!=t&&(this._parentNode=t,this._parentNode)&&this.div&&(this.div.parentNode&&this.div.parentNode.removeChild(this.div),this._parentNode.appendChild(this.div))}},{key:"parent",get:function(){return this._parent},set:function(t){this._parent==t||(this._parent=t,this.use_canvas)||(null==this._parent?this.div&&this.div.parentNode&&this.div.parentNode.removeChild(this.div):(null==this.div&&(this.div=h.default.createDOM("div",{id:"sprite_"+this.name})),this.div.style.position=p.default.position,(t=this._parentNode||this._parent.parentNode||this._parent.div||(this.stage?this.stage.div:null))&&t.appendChild(this.div),this._mask&&this._mask instanceof u.default&&this.div&&(this.width=Math.ceil(this._mask.width),this.height=Math.ceil(this._mask.height),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.div.style.overflow="hidden")))}},{key:"mask",get:function(){return this._mask},set:function(t){t&&t instanceof c.default&&(t=[v.default.RECT,v.default.CIRCLE,v.default.ELLIPSE,v.default.POLYGON,v.default.PATH].indexOf(t.type)<0?null:t),this._mask&&this._mask!=t&&this._mask instanceof u.default&&this.div&&(this.div.style.overflow="auto",d.default.remove(this._mask)),this._mask&&this._mask instanceof c.default&&this._mask!=t&&(this.use_canvas||this.defs.removeClipPath(this._mask),d.default.remove(this._mask));var e=null!=this._mask&&null!=this._mask&&""!=this._mask;this._mask=t,this.maskRect=this._mask&&this._mask instanceof c.default&&this._mask.rect?this._mask.rect:null,this._mask&&this._mask instanceof c.default&&!this.use_canvas&&this.defs.addClipPath(this._mask),this.updateMatrix=!0,this._mask&&this._mask instanceof u.default?(this.autoSize=!1,this.width=Math.ceil(this._mask.width),this.height=Math.ceil(this._mask.height),this.use_canvas||(this._mask.x=this._mask.y=0,null!=this.div&&(this.div.style.overflow="hidden",this.div.style.width=this.width+"px",this.div.style.height=this.height+"px"))):!this._mask&&e&&(this.use_canvas||(this.x+=1e-5),this.__checkDisplayUpdate())}},{key:"stage",get:function(){return this._stage},set:function(t){if(this._stage!=t){this._stage=t;var e=this._parentNode||(this._parent&&this._parent.parentNode?this._parent.parentNode:this._parent&&this._parent.div?this._parent.div:this.stage?this.stage.div:null);if(this.div&&(this.div.parentNode&&(!t||e&&this.div.parentNode!=e)&&this.div.parentNode.removeChild(this.div),e)&&!this.div.parentNode&&t&&this._parent&&e.appendChild(this.div),!(null==this._children||this._children.length<1))for(var i=void 0,i=0,n=this._children.length;i<n;i++)this._children[i].stage=t}}}]),s}(r.default);(e.default=i).className="Sprite"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=_(i(5)),o=_(i(14)),l=_(i(0)),h=_(i(2)),u=_(i(7)),c=_(i(31)),d=_(i(16)),f=_(i(4));function _(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=s;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function s(){var t;if(this instanceof s)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this))).autoSize=!0,t.name="button_"+t.name,t.state="",t._register_instance=null,t.mouseChildren=!1,t.mouseEnabled=!0,t.buttonMode=!0,t._enable=!0,t.disabled_color,t.down_color,t.over_color,t.out_color,t.tf=null,t.frames={},t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(s,[{key:"setup",value:function(t,e,i,n){t&&this.setupState(t,s.state.UP),e&&this.setupState(e,s.state.OVER),i&&this.setupState(i,s.state.DOWN),n&&this.setupState(n,s.state.DISABLED),this.setState(s.state.UP)}},{key:"setLabel",value:function(t,e,i,n){this.tf&&this.tf.removeFromParent(!0),t&&(this.tf=t instanceof o.default?t:u.default.c("tf",t),this.tf.mouseEnabled=!1,this.addChild(this.tf),this.out_color=t.color,this.over_color=e,this.down_color=n,this.disabled_color=i)}},{key:"getLabel",value:function(){return this.tf?this.tf.text:""}},{key:"setupState",value:function(t,e){if(null!=this.frames&&null!=t&&!l.default.isEmpty(e)&&(t instanceof d.default||t instanceof Image||t instanceof o.default||t instanceof c.default||t instanceof Array)){var i,n=this.frames[e];if(n)if(n instanceof o.default){if(t instanceof d.default)return void n.setInstance(t);n.removeFromParent(!0)}else if(n instanceof c.default)h.default.remove(n);else if(n instanceof Array)for(j=0;j<n.length;j++)h.default.remove(n[j]);(t instanceof d.default||t instanceof Image)&&((i=u.default.c("do")).setInstance(t),t=i),this.frames[e]=t}}},{key:"setState",value:function(t,e){if(this.state==t&&(null==e||!e))return!1;if(this.state=t,this.tf&&(e=this.state==s.state.DISABLED?this.disabled_color:this.state==s.state.DOWN?this.down_color||this.over_color:this.state==s.state.OVER&&this.over_color||this.out_color,l.default.isEmpty(e)||(this.tf.color=e),this.tf.dispatchEvent(new f.default(s.STATE_CHANGE,this.state))),this.frames.hasOwnProperty(this.state)&&this.frames[t])if(this.frames[t]instanceof o.default)this.instance=this.frames[t];else{if(null==this.instance)return;(this.frames[t]instanceof c.default||this.frames[t]instanceof Array)&&c.default.run(this.instance,this.frames[t])}else if(!this.tf)return!1;return this.__checkDisplayUpdate(),!0}},{key:"onMouseEvent",value:function(t){if(t&&this._enable)switch(t.type){case"mousemove":this.setState(s.state.OVER);break;case"mouseout":this.setState(s.state.UP);break;case"mousedown":this.setState(s.state.DOWN)||this.setState(s.state.OVER);break;case"mouseup":this.state!=s.state.OVER&&this.setState(s.state.UP)}}},{key:"reset",value:function(){if(this._register_instance.removeFromParent(!0),this._register_instance=null,this.frames){var t=void 0,e=void 0,i=void 0;for(t in this.frames){if(i=this.frames[t])if(i instanceof o.default)i.removeFromParent(!0);else if(i instanceof c.default)h.default.remove(i);else if(i instanceof Array)for(e=0;e<i.length;e++)h.default.remove(i[e]);delete this.frames[t]}}this.state=this._register_instance=this.disabled_color=this.down_color=this.over_color=this.out_color=this.tf=null,this._enable=this.autoSize=this.mouseEnabled=this.buttonMode=!0,this.mouseChildren=!1,this.frames={},a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"reset",this).call(this)}},{key:"dispose",value:function(){a(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"dispose",this).call(this),delete this._register_instance,this.frames,this.tf,this.is_reversal,this.state,this.disabled_color,this.down_color,this.over_color,this.out_color}},{key:"toString",value:function(){return s.name}},{key:"instance",get:function(){return this._register_instance},set:function(t){var e=null;null!=this._register_instance&&(this._register_instance.parent&&(e=this._register_instance.getIndex(),e=Math.max(0,e),this._register_instance.removeFromParent(!1)),this._register_instance=null),null!=t&&(t instanceof o.default?this._register_instance=t:(this._register_instance=u.default.c("do"),this._register_instance.setInstance(t)),null==e||isNaN(""+e)?this.addChild(this._register_instance):this.addChildAt(this._register_instance,e),this._updateSize())}},{key:"enable",get:function(){return this._enable},set:function(t){null!=t&&t!=this._enable&&(this._enable=t,this.mouseEnabled=this.buttonMode=t,this._enable?this.setState(s.state.UP):this.setState(s.state.DISABLED)||this.setState(s.state.DOWN)||this.setState(s.state.OVER))}}]),s}(r.default);(e.default=i).className="Button",i.STATE_CHANGE="stateChange",i.state={UP:"up",OVER:"over",DOWN:"down",DISABLED:"disabled"}},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function v(){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(v,null,[{key:"tile",value:function(t,e,i,n,s,a,r){null==t||t.length<1||null==e||e<1||(1==i?v._row(t,e,n,s,a,r):v._tier(t,e,n,s,a,r))}},{key:"_row",value:function(t,e,i,n,s,a){s=null==s?{x:0,y:0}:s;for(var r,o,l=void 0,h=void 0,u=t.length,c=i&&i.x||0,d=i&&i.y||0,f=n&&n.x||0,_=n&&n.y||0,p=null!=a&&a?v._countSize(t,i,e-1,_):0,l=0;l<u;l++)h=t[l],r=null==i||0==i.width?h?h.getWidth():0:i.width,o=null==i||0==i.height?h?h.getHeight():0:i.height,0==r&&0==o||(null!=h&&("x"in h&&"y"in h)&&(h.x=Math.round(c+r*s.x),h.y=Math.round(0==p?d:d+p)),d+=0==p?Math.round(o+_):Math.round(-1*(o+_)),(l+1)%e==0&&(d=null==i?0:i.y,c+=Math.round(r+f)))}},{key:"_tier",value:function(t,e,i,n,s,a){s=null==s?{x:0,y:0}:s;for(var r,o,l=void 0,h=void 0,u=t.length,c=i&&i.x||0,d=i&&i.y||0,f=n&&n.x||0,_=n&&n.y||0,p=null!=a&&a?v._countSize(t,i,e-1,f,!0):0,l=0;l<u;l++)h=t[l],r=null==i||0==i.width?h?h.getWidth():0:i.width,o=null==i||0==i.height?h?h.getHeight():0:i.height,0==r&&0==o||(null!=h&&("x"in h&&"y"in h)&&(h.x=Math.round(0==p?c:c+p),h.y=Math.round(d+o*s.y)),c+=0==p?Math.round(r+f):Math.round(-1*(r+f)),(l+1)%e==0&&(c=null==i?0:i.x,d+=Math.round(o+_)))}},{key:"_countSize",value:function(t,e,i,n,s){if(i<1)return 0;if(s&&e&&0!=e.width)return Math.round((e&&e.x||0)+Math.abs(e.width*i+(i-1)*n));if(!s&&e&&0!=e.height)return Math.round((e&&e.y||0)+Math.abs(e.height*i+(i-1)*n));for(var a=void 0,r=e&&(s?e.x:e.y)||0,a=0;a<i;a++)r+=s?Math.round(t[a].width):Math.round(t[a].height),a<i-1&&(r+=n);return r}}]),e.default=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=v(i(5)),o=v(i(49)),l=v(i(14)),h=v(i(18)),u=v(i(10)),c=v(i(9)),d=v(i(3)),f=v(i(4)),_=v(i(1)),p=v(i(6));function v(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).back_time=.16,t.out_percent=.5,t.time_ratio=.0014,t.inertia_ratio=1.2,t.min_migration_length=1,t.max_migration_length=10,t.back_ease="easeoutquad",t._orientation=0,t._overflow=!1,t._press_point=null,t._drag_area=null,t._inertia=!1,t._drag_time=0,t._initial_width=t._initial_height=t._mask_width=t._mask_height=0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setDimension",value:function(t,e,i,n,s){this._initial_width=this._mask_width=t,this._initial_height=this._mask_height=e,this._inertia=s,this._overflow=n,this.max_migration_length=Math.floor(1.2*Math.max(t,e)),null!=i&&(this._orientation=i),null!=this._register_instance&&this._control_orientation()}},{key:"initialize",value:function(){this._register_instance&&this._register_instance instanceof r.default&&this._register_instance._updateSize(),null!=this._register_instance&&0<this._mask_width&&0<this._mask_height&&this._control_orientation()}},{key:"_control_orientation",value:function(){var t;0<this._mask_width&&0<this._mask_height&&((t=this._mask||new c.default).height=this._mask_height,t.width=this._mask_width,this.mask=t),0!=this._orientation&&(this._register_instance.addEventListener(l.default.RESIZE,_.default.delegate(this._reset_hold_control,this),this.name),this._reset_hold_control(null))}},{key:"_reset_hold_control",value:function(t){var e=(this._orientation==o.default.isX||this._orientation==o.default.isXY)&&this._register_instance.width>this._mask_width||(this._orientation==o.default.isY||this._orientation==o.default.isXY)&&this._register_instance.height>this._mask_height;(this.mouseEnabled=this._register_instance.mouseEnabled=e)?this._register_instance.hasEventListener(u.default.MOUSE_DOWN)||this._register_instance.addEventListener(u.default.MOUSE_DOWN,_.default.delegate(this._mouse_drag_handler,this),this.name):(this._register_instance.removeEventListener(u.default.DRAG_MOVE,null,this.name),this._register_instance.removeEventListener(u.default.MOUSE_DOWN,null,this.name))}},{key:"_mouse_drag_handler",value:function(t){var e=this.localToGlobal(0,0),i=this._register_instance.localToGlobal(0,0),n=this._orientation==o.default.isY?0:Math.max(0,this._register_instance.getWidth()-this._mask_width),s=this._orientation==o.default.isX?0:Math.max(0,this._register_instance.getHeight()-this._mask_height),a=void 0,e=(this._overflow&&(a=new c.default(0<n?e.x-n:i.x,0<s?e.y-s:i.y,n,s)),n=0<n?n+(this._overflow?this._mask_width*this.out_percent:0):0,s=0<s?s+(this._overflow?this._mask_height*this.out_percent:0):0,new c.default(0<n?e.x-n:i.x,0<s?e.y-s:i.y,0<n?n+(this._overflow?this._mask_width*this.out_percent:0):0,0<s?s+(this._overflow?this._mask_height*this.out_percent:0):0));this._inertia&&(this._drag_area=a||e,this._drag_time=(new Date).getTime(),this._press_point=new p.default(t.mouseX,t.mouseY)),h.default.remove(this._register_instance),this._register_instance.addEventListener(u.default.DRAG_MOVE,_.default.delegate(this._drag_move_handler,this),this.name),(this.stage||Stage.current).startDrag(this._register_instance,e,!1,a),(this.stage||Stage.current).addEventListener(u.default.MOUSE_UP,_.default.delegate(this._mouse_up_handler,this),this.name)}},{key:"_drag_move_handler",value:function(t){this.dispatchEvent(new f.default(i.DRAG_MOVE))}},{key:"_mouse_up_handler",value:function(t){var e,i,n;t?(i=!0,e=n=void 0,this._overflow&&(n=0<=this._register_instance.x?0:this._register_instance.x<this._mask_width-this._register_instance.getWidth()?this._mask_width-this._register_instance.getWidth():this._register_instance.x,e=0<=this._register_instance.y?0:this._register_instance.y<this._mask_height-this._register_instance.getHeight()?this._mask_height-this._register_instance.getHeight():this._register_instance.y,n==this._register_instance.x&&e==this._register_instance.y||(i=!1,h.default.to(this._register_instance,this.back_time,{ease:this.back_ease,x:n,y:e}))),this._inertia&&i&&(n=t.mouseX-this._press_point.x,e=t.mouseY-this._press_point.y,i=d.default.format(Math.sqrt(n*n+e*e)),t=(new Date).getTime()-this._drag_time,8<i)&&(n=this._count_speed(n,e,i/t),h.default.to(this._register_instance,n.time,{ease:this.back_ease,x:n.x,y:n.y}))):this._overflow&&h.default.remove(this._register_instance),this._drag_time=0,this._drag_area=null,this._press_point=null,(this.stage||Stage.current).stopDrag(),(this.stage||Stage.current).mouseTarget=null,(this.stage||Stage.current).removeEventListener(u.default.MOUSE_UP,null,this.name),this._register_instance.removeEventListener(u.default.DRAG_MOVE,null,this.name)}},{key:"_count_speed",value:function(t,e,i){var n={},e=(i=d.default.clamp(i,.3,4.5),n.x=t*i*this.inertia_ratio,n.y=e*i*this.inertia_ratio,p.default.clamp(n,this.min_migration_length,this.max_migration_length),n.x=d.default.format(this._register_instance.x+n.x),n.y=d.default.format(this._register_instance.y+n.y),this._drag_area&&(t=this.globalToLocal(c.default.innerPoint(this._drag_area,this.localToGlobal(n.x,n.y))),n.x=d.default.format(t.x),n.y=d.default.format(t.y)),Math.sqrt((n.x-this._register_instance.x)*(n.x-this._register_instance.x)+(n.y-this._register_instance.y)*(n.y-this._register_instance.y)));return n.time=Math.min(1,d.default.format(e/i*this.time_ratio)),n}},{key:"moveTo",value:function(t,e){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"moveTo",this).call(this,t,e),this._register_instance&&this._register_instance.dispatchEvent(new f.default(f.default.RESIZE,{w:this._mask_width,h:this._mask_height},{x:this.x,y:this.y}))}},{key:"resizeMask",value:function(t,e){this._initial_width=this._mask_width=t,this._initial_height=this._mask_height=e,this.max_migration_length=Math.floor(1.2*Math.max(t,e)),this._register_instance&&(this._control_orientation(),this._register_instance.dispatchEvent(new f.default(f.default.RESIZE,{w:this._mask_width,h:this._mask_height},{x:this.x,y:this.y})))}},{key:"render",value:function(){(1!=this.scaleX&&0!=this.scaleX||1!=this.scaleY&&0!=this.scaleY)&&this._recovery_scale(!0),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"render",this).apply(this,arguments)}},{key:"_recovery_pos",value:function(){this._register_instance.x<0&&this._register_instance.getWidth()+this._register_instance.x<this._mask_width?this._register_instance.x=this._mask_width-this._register_instance.getWidth():0<this._register_instance.x&&this._register_instance.getWidth()+this._register_instance.x>this._mask_width&&(this._register_instance.x=0),this._register_instance.y<0&&this._register_instance.getHeight()+this._register_instance.y<this._mask_height?this._register_instance.y=this._mask_height-this._register_instance.getHeight():0<this._register_instance.y&&this._register_instance.getHeight()+this._register_instance.y>this._mask_height&&(this._register_instance.y=0)}},{key:"_recovery_scale",value:function(t){this._mask_width=d.default.format(this._initial_width*this.scaleX),this._mask_height=d.default.format(this._initial_height*this.scaleY),t&&(this.scaleX=this.scaleY=1),this._recovery_pos(),this._mask&&(this._mask.width=this._mask_width,this._mask.height=this._mask_height,this.mask=this._mask),null!=this._register_instance&&(this._reset_hold_control(null),this._register_instance.resize=!0,this._register_instance.dispatchEvent(new f.default(f.default.RESIZE,{w:this._mask_width,h:this._mask_height},{x:this.x,y:this.y,r:this.rotation})))}},{key:"updateSizeInArea",value:function(t,e){this._initial_height=this.instance.getHeight(),this._initial_width=this.instance.getWidth();var i=0;this._initial_width>t&&(this.scaleX=t/this._initial_width,i+=1),this._initial_height>e&&(this.scaleY=e/this._initial_height,i+=2),i<3&&1!=i&&(this._mask_width=this._initial_width),i<3&&2!=i&&(this._mask_height=this._initial_height),0==i&&this._recovery_scale()}},{key:"reset",value:function(){this._register_instance&&(this._register_instance.hasEventListener(u.default.MOUSE_DOWN)&&(this._mouse_up_handler(null),this._register_instance.removeEventListener(u.default.MOUSE_DOWN,null,this.name)),this._register_instance.hasEventListener(l.default.RESIZE))&&this._register_instance.removeEventListener(l.default.RESIZE,null,this.name),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this),this.back_time=.16,this.out_percent=.5,this.time_ratio=.0014,this.inertia_ratio=1.2,this.min_migration_length=1,this.max_migration_length=10,this.back_ease="easeoutquad",this._overflow=this._inertia=!1,this._press_point=this._drag_area=null,this._orientation=this._drag_time=this._initial_width=this._initial_height=this._mask_width=this._mask_height=0}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._initial_width,this._initial_height,this.time_ratio,this.min_migration_length,this.max_migration_length,this.inertia_ratio,this._drag_area,this._press_point,this._inertia,this._drag_time,this.back_ease,this.out_percent,this.back_time,this._orientation,this._overflow,this._mask_width,this._mask_height}}]),i}(v(i(70)).default);(e.default=i).DRAG_MOVE="drag_container",i.className="UIContainer"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function")}(e.default=n).OS_PC="pc",n.OS_IPHONE="iphone",n.OS_IPOD="ipod",n.OS_IPAD="ipad",n.OS_ANDROID="android",n.OS_BLACK_BERRY="blackberry",n.OS_WINDOWS_PHONE="windows phone",n.LANDSCAPE="landscape",n.PORTRAIT="portrait",n.NONE="none"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(28),h=(i=i)&&i.__esModule?i:{default:i};n(u,[{key:"reset",value:function(){this.value={line_alpha:1,line_width:1,miter_limit:10,line_cap:"butt",line_join:"miter",fill_style:"#FFFFFF",stroke_style:"#000000"},this.strict=!1,this.type_id=0,this.actions=[]}}],[{key:"INIT_CLASS",value:function(){if(!u.IS_INIT){var t=void 0,e=u.IS_INIT=!0,i=!1,n=void 0;try{for(var s,a=u.ATTR[Symbol.iterator]();!(e=(s=a.next()).done);e=!0)t=s.value,Object.defineProperty(u.prototype,t,{get:h.default.get_attr_func(t),set:h.default.create_func(0,t),enumerable:!0,configurable:!0})}catch(t){i=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw n}}var r=!0,i=!1,n=void 0;try{for(var o,l=u.LIST[Symbol.iterator]();!(r=(o=l.next()).done);r=!0)t=o.value,u.prototype[t]=h.default.create_func(1,t)}catch(t){i=!0,n=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw n}}}}}]);i=u;function u(){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.reset()}(e.default=i).LIST=["arc","moveTo","lineTo","beginPath","closePath","bezierCurveTo","curveTo","lineStyle","clear","beginFill","endFill","beginBitmapFill","linearGradientFill","radialGradientFill","drawRect","drawRoundRect","drawPath","drawCircle","drawEllipse","createPolygon","drawSVGPath","drawShape","dispose"],i.ATTR=["line_cap","line_join","line_alpha","stroke_style","line_width","miter_limit","fill_alpha","fill_style"],i.IS_INIT=!1,i.className="GraphicsVO"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=a(i(3)),c=a(i(6)),f=a(i(21)),_=a(i(2)),p=a(i(0)),v=a(i(33)),r=a(i(23)),y=a(i(9));function a(t){return t&&t.__esModule?t:{default:t}}n(g,null,[{key:"pointsToPath",value:function(t,e,i){if(!t||t.length<2)return"";for(var n=void 0,s="",a=0,r=t.length;a<r;a++)s+=(0==a?"M ":1==a?" L ":", ")+((n=t[a])instanceof Array?n[0]:n.x)+" "+(n instanceof Array?n[1]:n.y);return n=t[0],s+=e?" Z":"",i?'<path d="'+s+'" />':s}},{key:"rectToPath",value:function(t,e){var i=Number(t.x||0),n=Number(t.y||0),s=Number(t.width),a=Number(t.height),r=Number(t.rx||0),t=Number(t.ry||r||0),o=void 0,l=s-2*(r=.5*s<r?.5*s:r),h=a-2*(t=.5*a<t?.5*a:t),u=.5522847498307933,c=u*r,u=u*t,o=0==r||0==t?"M"+i+" "+n+" L"+(i+s)+" "+n+" L"+(i+s)+" "+(n+a)+" L"+i+" "+(n+a)+" Z":"M"+(i+s)+" "+(n+t)+" C"+(i+s)+" "+(n+t-u)+" "+(i+l+r+c)+" "+n+" "+(i+l+r)+" "+n+" L"+(i+r)+" "+n+" C"+(i+r-c)+" "+n+" "+i+" "+(n+t-u)+" "+i+" "+(n+t)+" L"+i+" "+(n+h+t)+" C"+i+" "+(n+h+t+u)+" "+(i+r-c)+" "+(n+a)+" "+(i+r)+" "+(n+a)+" L"+(i+r+l)+" "+(n+a)+" C"+(i+l+r+c)+" "+(n+a)+" "+(i+s)+" "+(n+h+t+u)+" "+(i+s)+" "+(n+h+t)+" Z";return e?'<path d="'+o+'" />':o}},{key:"ellipseToPath",value:function(t,e){var i=Number(t.cx||0),n=Number(t.cy||0),s=Number(t.r||0),a=Number(t.rx||0),t=Number(t.ry||0),a=0==s?a:s,t=0==s?t:s,s=.5522848*a,r=.5522848*t,s="M"+d.default.format(i-a)+" "+n+" C"+d.default.format(i-a)+" "+d.default.format(n-r)+" "+d.default.format(i-s)+" "+d.default.format(n-t)+" "+i+" "+d.default.format(n-t)+" C"+d.default.format(i+s)+" "+d.default.format(n-t)+" "+d.default.format(i+a)+" "+d.default.format(n-r)+" "+d.default.format(i+a)+" "+n+" C"+d.default.format(i+a)+" "+d.default.format(n+r)+" "+d.default.format(i+s)+" "+d.default.format(n+t)+" "+i+" "+d.default.format(n+t)+" C"+d.default.format(i-s)+" "+d.default.format(n+t)+" "+d.default.format(i-a)+" "+d.default.format(n+r)+" "+d.default.format(i-a)+" "+n+" Z";return e?'<path d="'+s+'" />':s}},{key:"getShapeBounds",value:function(t,e){if(!t)return null;var i=[];switch(t.type){case v.default.LINE:i.push([t.properties.x1,t.properties.y1]),i.push([t.properties.x2,t.properties.y2]);break;case v.default.POLYLINE:case v.default.POLYGON:i=f.default.each(t.properties.points.split(/ /),function(t,e,i){i[e]=t.split(/,/)});break;case v.default.RECT:i.push([t.properties.x||0,t.properties.y||0]),i.push([(t.properties.x||0)+t.properties.width,(t.properties.y||0)+t.properties.height]);break;case v.default.CIRCLE:i.push([(t.properties.cx||0)-t.properties.r,(t.properties.cy||0)-t.properties.r]),i.push([(t.properties.cx||0)+t.properties.r,(t.properties.cy||0)+t.properties.r]);break;case v.default.ELLIPSE:i.push([(t.properties.cx||0)-t.properties.rx,(t.properties.cy||0)-t.properties.ry]),i.push([(t.properties.cx||0)+t.properties.rx,(t.properties.cy||0)+t.properties.ry]);break;case v.default.PATH:for(var n,s,a,r,o,l=t.properties.d.split(/[a-zA-Z]/),h=0,u=l.length;h<u;h++)if(r=l[h],!p.default.isEmpty(r))for(n=0,o=(r=f.default.format(p.default.trim(r).split(/,| |-/))).length;n<o;n+=2)s=r[n],a=r[n+1],p.default.isEmpty(s)||p.default.isEmpty(a)||i.push(e?_.default.create(c.default).set(s,a):[s,a])}return e?i:y.default.getPointsBounds(i)}},{key:"replace",value:function(t,e){if(t&&e&&t.rect&&(e.x!=t.rect.x||e.y!=t.rect.y||e.s&&1!=e.s))if(t.type==v.default.PATH&&/A|V|S|T|H/.test(t.properties.d.toUpperCase()))trace("[ERROR] ShapeUtil.replace path won't support some attributes.");else{var n=e.s||1,i=(t.rect.multiply(n),void 0),s=e.x-t.rect.x,a=e.y-t.rect.y;switch(t.rect.x=e.x,t.rect.y=e.y,t.type){case v.default.LINE:t.properties.x1=d.default.format(parseFloat(t.properties.x1)*n+s),t.properties.y1=d.default.format(parseFloat(t.properties.y1)*n+a),t.properties.x2=d.default.format(parseFloat(t.properties.x2)*n+s),t.properties.y2=d.default.format(parseFloat(t.properties.y2)*n+a);break;case v.default.POLYLINE:case v.default.POLYGON:i=f.default.each(f.default.format(t.properties.points.split(/ /)),function(t,e,i){t=t.split(/,/);i[e]=d.default.format(parseFloat(t[0])*n+s)+","+d.default.format(parseFloat(t[1])*n+a)}),t.properties.points=i.join(" ");break;case v.default.RECT:t.properties.x=d.default.format(parseFloat(t.properties.x||0)*n+s),t.properties.y=d.default.format(parseFloat(t.properties.y||0)*n+a),t.properties.height=t.properties.height*n,t.properties.width=t.properties.width*n,t.properties.hasOwnProperty("rx")&&t.properties.rx&&(t.properties.rx=t.properties.rx*n),t.properties.hasOwnProperty("ry")&&t.properties.ry&&(t.properties.ry=t.properties.ry*n);break;case v.default.CIRCLE:case v.default.ELLIPSE:t.properties.cx=d.default.format(parseFloat(t.properties.cx||0)*n+s),t.properties.cy=d.default.format(parseFloat(t.properties.cy||0)*n+a),t.properties.hasOwnProperty("r")&&t.properties.r&&(t.properties.r=t.properties.r*n),t.properties.hasOwnProperty("rx")&&t.properties.rx&&(t.properties.rx=t.properties.rx*n),t.properties.hasOwnProperty("ry")&&t.properties.ry&&(t.properties.ry=t.properties.ry*n);break;case v.default.PATH:i=g.getShapeBounds(t,!0);for(var r,i=f.default.each(i,function(t){t.x=d.default.format(t.x*n+s),t.y=d.default.format(t.y*n+a)}),o="",l=f.default.format(t.properties.d.split(/,| |-|(?=[a-zA-Z])/)),h=0,u=0,c=l.length;h<c;h++)r=l[h],/[a-zA-Z]/.test(r)&&(o+=r[0]+" ",1==r.length)&&(l.splice(h,1),r=l[h],c--),u>=i.length||(o+=(r=i[u])[h%2==0?"x":"y"]+" ",h%2==1&&u++);t.properties.d=o}}return t}},{key:"getRect",value:function(t,e,i,n,s,a){return s=s||0,a=a||s||0,_.default.create(r.default).setup(v.default.RECT,{x:t,y:e,width:i,height:n,rx:s,ry:a})}},{key:"getCircle",value:function(t,e,i,n){return n=n||i,_.default.create(r.default).setup(n==i?v.default.CIRCLE:v.default.ELLIPSE,n==i?{cx:t,cy:e,r:i}:{cx:t,cy:e,rx:i,ry:n})}},{key:"getPolygon",value:function(n){var s;if(n&&n instanceof Array&&!(n.length<3))return s="",f.default.each(n,function(t,e){var i=t instanceof Array;s+=(i?t.join(","):t.x+","+t.y)+(e<n.length-1?" ":"")}),_.default.create(r.default).setup(v.default.POLYGON,{points:s})}},{key:"getLine",value:function(n){var s;if(n&&n instanceof Array&&!(n.length<2))return s="",f.default.each(n,function(t,e){var i=t instanceof Array;s+=(i?t.join(","):t.x+","+t.y)+(e<n.length-1?" ":"")}),_.default.create(r.default).setup(v.default.POLYLINE,{points:s})}}]);i=g;function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function")}(e.default=n).NORMAL="",n.MULTIPLY="multiply",n.SCREEN="screen",n.OVERLAY="overlay",n.DARKEN="darken",n.LIGHTEN="lighten",n.COLOR_DODGE="color-dodge",n.COLOR_BURN="color-burn",n.HARD_LIGHT="hard-light",n.SOFT_LIGHT="soft-light",n.DIFFERENCE="difference",n.EXCLUSION="exclusion",n.HUE="hue",n.SATURSTION="saturation",n.COLOR="color",n.LUMINOSITY="luminosity"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=d(i(16)),o=d(i(3)),l=d(i(11)),h=d(i(15)),u=(d(i(0)),d(i(2))),c=d(i(30));function d(t){return t&&t.__esModule?t:{default:t}}var f=Symbol("rate"),_=Symbol("swingPlay"),p=Symbol("reversePlay"),v=Symbol("currentFrame"),i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this,i=n;if(e instanceof i)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))).label,e._frames=[],e._paused=!0,e._replay_time=0,e[_]=!1,e[p]=!1,e._count=e[f]=1,e._frame=1,e[v]=1,t&&e.setFrames(t),e;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s(n,[{key:"clearAllFrames",value:function(){if(null!=this._frames){for(var t;0<this._frames.length;)t=this._frames.pop(),this._remove_frame(t);this._frame=this[v]=1,this._paused=!0}}},{key:"setFrames",value:function(t){if(null!=t&&t instanceof Array&&!(t.length<=0)){for(var e=void 0,i=t.length,e=0;e<i;e++)this.addFrame(t[e]);0<this._frames.length&&this.gotoAndPlay(1)}}},{key:"addFrame",value:function(t,e){null!=t&&((t=t instanceof Image||"HTMLImageElement"==l.default.getQualifiedClassName(t)?c.default.fromImage(t):t)instanceof r.default||t instanceof h.default&&t.instance)&&(t instanceof h.default&&((t=t.instance.clone()).isClone=!1),null==e?this._frames.push(t):this._frames.splice(e,0,t),this.width=Math.max(this.width,t.frame_width,t.width),this.height=Math.max(this.height,t.frame_height,t.height))}},{key:"getFrame",value:function(t){return 0<=t&&t<this._frames.length?this._frames[t]:null}},{key:"removeFrame",value:function(t){t<0||t>=this._frames.length||(t=this._frames.splice(t,1),this._remove_frame(t))}},{key:"_remove_frame",value:function(t){null!=t&&t instanceof r.default&&t.isClone&&u.default.remove(t)}},{key:"play",value:function(t){this._replay_time=null==t?0:t,this._paused=!1}},{key:"stop",value:function(){this._paused=!0}},{key:"gotoAndStop",value:function(t){if(null!=this._frames){if("string"==typeof t)for(var e=void 0,i=this._frames.length,e=0;e<i;e++)if(this._frames[e]&&this._frames[e].label==t){t=Number(e)+1;break}t<1||t>this._frames.length||(this.frame=t,this._paused=!0)}}},{key:"gotoAndPlay",value:function(t){this.gotoAndStop(t),this._paused=!1}},{key:"nextFrame",value:function(){this.frame=this[p]?this[v]<=1?this._frames.length:this[v]-1:this[v]>=this._frames.length?1:this[v]+1}},{key:"render",value:function(){var t;!this.visible||this.alpha<=0||((!this._paused||null==this.instance||this._frame!=this[v])&&0<this._frames.length&&(this.label=this.name,this[v]=this._frame,t=this._frames[this[v]-1],this.setInstance(t),t=this.label,this.label=this.name,this.name=t,this._paused||(this._count--,this._count<=0&&((this[p]&&this[v]<=1||!this[p]&&this[v]>=this._frames.length)&&(this[_]&&(this.reverse=!this[p]),0<this._replay_time?(this._replay_time--,0==this._replay_time&&(this._paused=!0,this.dispatchEvent(new Event(Event.PLAY_OVER)))):this.dispatchEvent(new Event(Event.PLAY_OVER))),this.nextFrame()),this._count=this._count<=0?this[f]:this._count,this.__checkDisplayUpdate())),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).apply(this,arguments))}},{key:"reset",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"reset",this).call(this),this.clearAllFrames(),this.label=null,this._paused=!0,this._replay_time=0,this[_]=!1,this[p]=!1,this._frame=this._count=this[f]=this[v]=1,t&&this.setFrames(t)}},{key:"dispose",value:function(){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this),delete this[_],this._frame,this._count,this[f],this[p],this._replay_time,this._frames,this._paused,this[v],this.label}},{key:"toString",value:function(){return n.name}},{key:"swing",get:function(){return this[_]},set:function(t){null!=t&&t!=this[_]&&(this[_]=Boolean(t))}},{key:"frame",set:function(t){this._frame=t,this.__checkDisplayUpdate()}},{key:"totalFrame",get:function(){return this._frames.length}},{key:"currentFrame",get:function(){return this[v]}},{key:"rate",get:function(){return this[f]},set:function(t){null==t||t<1||t==this[f]||(this[f]=Math.abs(o.default.int(t)))}},{key:"reverse",get:function(){return this[p]},set:function(t){null!=t&&t!=this[p]&&(this[p]=Boolean(t))}}]),n}(h.default);(e.default=i).className="MovieClip"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var y=r(i(0)),a=r(i(1));function r(t){return t&&t.__esModule?t:{default:t}}n(g,[{key:"get",value:function(i,n){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return new Promise(function(t,e){this.getRequest("GET",i,n,t,e,s)}.bind(this))}},{key:"post",value:function(i,n){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return g.POST_USE_FORMDATA&&!(s=s||{}).hasOwnProperty("useFormData")&&(s.useFormData=!0),new Promise(function(t,e){this.getRequest("POST",i,n,t,e,s)}.bind(this))}},{key:"getHttp",value:function(){if(a.default.root.ActiveXObject)for(var t=["MSXML2.XMLHttp.6.0","MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp","Microsoft.XMLHttp"],e=0;e<t.length;e++)try{return new ActiveXObject(t[e])}catch(t){}else try{return new XMLHttpRequest}catch(t){}return!1}},{key:"getRequest",value:function(t,e,i,n,s){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,r=void 0,o="",l="",h=a&&1==a.useFormData,u=void 0,c=void 0,d=!a||1!=a.async,f=this.getHttp();if(f){if(a&&a.withCredentials)try{f.withCredentials=!0}catch(t){}if(i&&"string"!=typeof i&&!h)for(r in i){if("number"!=(c=void 0===(u=i[r])?"undefined":v(u))&&("string"!=c||0==u.indexOf("data:")&&0<u.indexOf(";base64,"))){h=!0;break}o+=l+r+"="+encodeURIComponent(u),l="&"}if(!i||"string"==typeof i||!h||i instanceof FormData)!o&&i&&"string"==typeof i&&(o=i);else for(r in o=new FormData,i)c=void 0===(u=i[r])?"undefined":v(u),g.REMOVE_TYPE&&"string"==c&&0==u.indexOf("data:")&&0<u.indexOf(";base64,")&&((u=u.split(",")).shift(),u=u.join(",")),o.append(r,u);"get"==t.toLowerCase()&&"string"==typeof o&&0<o.length&&(e+=(0<=e.indexOf("?")?"&":"?")+o,o=null),f.open(t,e,d),f.timeout=a&&a.timeout?a.timeout:6e5;var _=a&&a.headers?a.headers:null;if(_)for(var p in _)try{f.setRequestHeader(p,_[p])}catch(t){}f._responseType=y.default.getPathExt(e),f.responseType=a&&a.responseType?a.responseType:this.responseType||f.responseType,f.onreadystatechange=function(){4==f.readyState&&(200<=f.status&&f.status<300||304===f.status?n&&(f._responseType==g.PROP?n(PropUtil.parseProperties(f.responseText)):f._responseType==g.JSON||f.responseType==g.JSON?n(f.response&&"object"==v(f.response)?f.response:JSON.parse(f.responseText)):(!f.response||f.responseType!=g.ARRAY_BUFFER&&f.responseType!=g.BLOB)&&0<f.responseText.length?n(f.responseText):n(f.response)):s&&s(f.status))};try{f.send(o)}catch(t){s(t)}}}}]);i=g;function g(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"json",e=this,i=g;if(!(e instanceof i))throw new TypeError("Cannot call a class as a function");this.responseType=t}(e.default=i).TEXT="text",i.JSON="json",i.BLOB="blob",i.PROP="prop",i.ARRAY_BUFFER="arraybuffer",i.REMOVE_TYPE=!1,i.POST_USE_FORMDATA=!0,i.className="Ajax"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=o(i(19)),u=o(i(8)),c=o(i(0)),d=o(i(58)),f=o(i(34)),_=o(i(4)),p=o(i(25)),v=o(i(1)),y=o(i(47)),g=o(i(60));function o(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=h;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=this,a=h;if(s instanceof a)return(s=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this))).reset(),s.once=!0,s.locale=e,s.fontDic=s.fontFormat=null,t&&s.parse(t,i,n),s;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(h,[{key:"parse",value:function(t,e,i){null!=t&&(t instanceof Array?(this._list=t,this._total=this._list.length):e&&"string"==typeof t?this.load(t)&&(this._feedback="string"==typeof e?e:{c:e,t:i}):this._data=t)}},{key:"errorHandler",value:function(t){t&&t.target&&(t.target instanceof Image?(delete this._files[this._current_name],t.target.onerror=null,t.target.onload=null):t.target instanceof f.default?(t.target.removeEventListener(_.default.ERROR,this.__error_handler),t.target.removeEventListener(_.default.COMPLETE,this.__load_handler)):(t.target.removeEventListener(p.default.MEDIA_ERROR,this.__error_handler),t.target.removeEventListener(p.default.MEDIA_LOAD_COMPLETE,this.__load_handler))),this.dispatchEvent(new _.default(h.STEP_ERROR,this._current_name,this._current_label)),trace("[ERROR] Loading path by",this._current_name),0<this._list.length?(this._loaded++,this.load()):this.dispatchEvent(new _.default(h.LOAD_COMPLETE,this._files,this._current_label))}},{key:"loadHandler",value:function(t){if(this._loaded++,null!=this._list){t&&(t.target instanceof Image?(t.target.onload=null,t.target.onerror=null):t.target instanceof f.default?(t.target.removeEventListener(_.default.ERROR,this.__error_handler),t.target.removeEventListener(_.default.COMPLETE,this.__load_handler)):t.target?(t.target.removeEventListener(p.default.MEDIA_ERROR,this.__error_handler),t.target.removeEventListener(p.default.MEDIA_LOAD_COMPLETE,this.__load_handler)):t instanceof FontFace&&document.fonts.add(t));var t=void 0,e=void 0;if(0<this._list.length){for(this.hasEventListener(h.LOAD_PROCESS)&&this.dispatchEvent(new _.default(h.LOAD_PROCESS,Math.ceil(100*this._loaded/this._total))),t=this._files[this._current_name];!this.load()&&0<this._list.length;)trace("[WARM] Loader miss path by",this._current_name),this._loaded++,this.load();t?this.dispatchEvent(new _.default(h.STEP_COMPLETE,t,this._current_label)):this.dispatchEvent(new _.default(h.STEP_ERROR,this._current_name,this._current_label))}else{if(null==this._feedback){var i=this._current_name,n=this._current_label,t=this._files;this.reset(!0),this.dispatchEvent(new _.default(h.STEP_COMPLETE,t[i],n)),this.dispatchEvent(new _.default(h.LOAD_COMPLETE,t,n))}else{if(e=this._feedback,"string"==typeof this._feedback)return t=this._files[this._current_name].content,this.reset(!0),this.parse(t),void this.load(e);t=this._files[this._current_name],this.reset(!0);try{return void e.c.call(e.t,t,this)}catch(t){trace("[ERROR] Loader:loadHandler()",t)}}null==this._data&&this.once&&this.dispose()}}}},{key:"loadXML",value:function(t,e,i){var n=void 0;if(v.default.root.ActionXObject)for(var s=["Microsoft.XMLHTTP","Miscrosoft.XmlDom","MSXML.DOMDocument"],a=0;a<s.length;a++)try{n=new ActionXObject(s[a]);break}catch(t){}else v.default.root.XMLHttpRequest&&(n=new XMLHttpRequest);null!=n&&(n.onreadystatechange=function(){4==n.readyState&&(200==n.status&&(i._files[e]=n.responseXML||n.response),i.loadHandler())},n.open("GET",t,!0),n.send(null))}},{key:"load",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(null==t&&null==this._list)return!1;if("string"==typeof t?(this._loaded=0,this._data&&this._data.hasOwnProperty(t)?(this._list=this._data[t],this._total=this._list.length,this._current_label=t):!c.default.isEmpty(t)&&0<t.indexOf(".")&&(this._list=[t],this._total=1)):this.parse(t),null==this._list)return!1;if(0==this._list.length)return this.dispatchEvent(new _.default(h.LOAD_COMPLETE,this._files,this._current_label)),!1;null==this.__load_handler&&(this.__load_handler=v.default.delegate(this.loadHandler,this)),null==this.__error_handler&&(this.__error_handler=v.default.delegate(this.errorHandler,this));var e=void 0,i=void 0,n=void 0,t=this._list.shift(),i="object"==u.default.getType(t)?(e=t.hasOwnProperty("url")?t.url:t.data,n=c.default.getPathExt(e),i=t.hasOwnProperty("label")?t.label:t.name,c.default.isEmpty(i)?h.getName(e):i):(e=String(t),n=c.default.getPathExt(e),h.getName(e));if(c.default.isEmpty(e)||c.default.isEmpty(n))return!1;e=this.locale&&!c.default.exist(e,"http://","https://")?this.locale+e:e,trace("[LOADING]",i,"("+(this._loaded+1)+"/"+this._total+")"),this._current_name=i;var s=void 0,a=void 0,r=void 0,o=void 0,l=void 0;switch(n){case"mp3":case"wav":case"wave":(a=new(v.default.canUseWebAudio&&e.indexOf(",")<0?d:g).default)instanceof g.default?a.load(e):a.load(e)||(a.dispose(),(a=new g.default).load(e)),(this._files[i]=a).addEventListener(p.default.MEDIA_ERROR,this.__error_handler),a.addEventListener(p.default.MEDIA_LOAD_COMPLETE,this.__load_handler);break;case"xml":case"fnt":case"svg":this.loadXML(e,i,this);break;case"bmp":case"ttf":case"eot":case"otf":case"woff":case"woff2":try{o=new FontFace(this.fontDic?this.fontDic[c.default.getFileName(e)]:c.default.getFileName(e),"url('"+e+"')"+(c.default.isEmpty(this.fontFormat)?"format('"+("eot"==n?"embedded-opentype":"ttf"==n?"truetype":n)+"')":this.fontFormat)),(this._files[i]=o).loaded.then(this.__load_handler).catch(this.__error_handler),o.load()}catch(t){this.errorHandler()}break;case"json":case"txt":case"js":case"css":case"prop":s=new f.default,(this._files[i]=s).addEventListener(_.default.ERROR,this.__error_handler),s.addEventListener(_.default.COMPLETE,this.__load_handler),s.load(e);break;case"mp4":case"webm":case"ogg":case"mov":r=new y.default,(this._files[i]=r).addEventListener(p.default.MEDIA_ERROR,this.__error_handler),r.addEventListener(p.default.MEDIA_LOAD_COMPLETE,this.__load_handler),r.load(e);break;case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":(l=new Image).style.display="none",h.CORS&&e&&0==e.indexOf("http")&&(l.crossOrigin=v.default.crossdomain,1<h.CORS)&&(e=(e.indexOf("?")<0?e:e.split("?")[0])+"?"+Math.random()),l.src=e,(this._files[i]=l).complete||l.naturalWidth||l.width?this.loadHandler({target:l}):(l.onload=this.__load_handler,l.onerror=this.__error_handler);break;default:return!1}return!0}},{key:"reset",value:function(t){this._files={},this._total=this._loaded=0,this.fontFormat=this.fontDic=null,this._feedback=this._list=this._current_name=this._current_label=null,t||(this.__error_handler=this.locale=this._data=this.__load_handler=null)}},{key:"dispose",value:function(){a(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"dispose",this).call(this),this.reset(),delete this.__error_handler,delete this._current_label,delete this.__load_handler,delete this._current_name,delete this._feedback,delete this.fontDic,delete this._loaded,delete this._total,delete this._files,delete this.locale,delete this._list,delete this._data,delete this.once}}],[{key:"getName",value:function(e){if(c.default.isEmpty(e))return null;var t=void 0,i=!1;try{t=c.default.getFileName(e,1).split("/")}catch(t){i=!0,trace("[WARN] Loader.getName by",e)}if(null==t||i)return c.default.getFileName(e)+"@"+c.default.getPathExt(e);for(var n=t.pop();c.default.isEmpty(n)&&0<t.length;)n=t.pop();return n+"_"+c.default.getFileName(e)+"@"+c.default.getPathExt(e)}}]),h}(r.default);(e.default=i).CORS=0,i.className="Loader",i.LOAD_PROCESS="loadProcess",i.LOAD_COMPLETE="loadComplete",i.STEP_ERROR="stepError",i.STEP_COMPLETE="stepComplete"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=u(i(25)),o=u(i(1)),l=u(i(3)),h=u(i(40));function u(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._type="video",t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"getWidth",value:function(){return l.default.format(Math.abs(this.element.videoWidth*this.scaleX))}},{key:"getHeight",value:function(){return l.default.format(Math.abs(this.element.videoHeight*this.scaleY))}},{key:"init",value:function(){this.is_init||(a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).call(this),this.element.style.width="100%",this.element.style.height="100%",this.element.style.objectFit="fill",this.element.removeAttribute("controls"),o.default.os!=h.default.OS_PC&&(this.element.setAttribute("playsinline",!0),this.element.setAttribute("x-webkit-airplay","allow"),this.element.setAttribute("webkit-playsinline",!0)),o.default.isWeixin&&(this.element.setAttribute("x5-video-player-type","h5"),this.element.setAttribute("x5-video-player-fullscreen",!0)))}},{key:"_start_load",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_start_load",this).call(this)&&"poster"in this.list[this.current]&&(this.element.poster=this.list[this.current].poster)}},{key:"dispose",value:function(){this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),delete this.element),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}}]),i}(r.default);(e.default=i).className="Video"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=h(i(11)),l=h(i(17)),r=h(i(3)),o=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}n(u,[{key:"setDistance",value:function(t){this.distance=t,this.setShadowOffset()}},{key:"setShadowOffset",value:function(){var t=r.default.getRadiansFromDegrees(this.angle);this.shadowOffsetX=r.default.format(this.distance*Math.cos(t)),this.shadowOffsetY=r.default.format(this.distance*Math.sin(t))}},{key:"show",value:function(t){var e,i,n=void 0;null==t||0==this.alpha||0==this.distance&&0==this.shadowBlur?!t||t instanceof CanvasRenderingContext2D||(n=a.default.getQualifiedClassName(t),t.style["HTMLSpanElement"==n||"HTMLParagraphElement"==n||"HTMLInputElement"==n||"HTMLTextAreaElement"==n?"textShadow":o.default.cssPrefix+"BoxShadow"]=""):(e=this.alpha<1?l.default.colorToRGBA(this.shadowColor,this.alpha):this.shadowColor,n=a.default.getQualifiedClassName(t),t instanceof CanvasRenderingContext2D?0==this.distance&&0==this.shadowBlur||(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur,t.shadowColor=e):(i="HTMLSpanElement"==n||"HTMLParagraphElement"==n||"HTMLInputElement"==n||"HTMLTextAreaElement"==n,n=(i="SVGSVGElement"==n&&(n=t.getElementsByTagName("text"))&&0<n.length?!0:i)?"textShadow":o.default.cssPrefix+"BoxShadow",i||(t.style[o.default.cssPrefix+"BorderRadius"]=this.radius+"px"),t.style[n]=this.shadowOffsetX+"px "+this.shadowOffsetY+"px "+this.shadowBlur+"px "+e))}},{key:"clone",value:function(){return new u(this.distance,this.angle,this.shadowBlur,this.shadowColor,this.alpha,this.radius)}},{key:"toString",value:function(){return'{"shadowColor":"'+this.shadowColor+'","distance":'+this.distance+',"shadowBlur":'+this.shadowBlur+',"radius":'+this.radius+',"angle":'+this.angle+',"alpha":'+this.alpha+"}"}}]);i=u;function u(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"#000000",s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,r=this,o=u;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.shadowColor=l.default.formatColor(n),this.distance=t,this.shadowBlur=i,this.radius=a,this.angle=e,this.alpha=s,this.setShadowOffset()}(e.default=i).className="DropShadowFilter"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function")}(e.default=n).className="UIOrientation",n.isX=1,n.isY=2,n.isXY=3,n.isNone=0},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=d(i(5)),r=d(i(15)),o=d(i(0)),l=d(i(2)),h=d(i(11)),u=d(i(1)),c=d(i(27));function d(t){return t&&t.__esModule?t:{default:t}}function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function")}n(f,null,[{key:"copyTransform",value:function(t,e,i,n){var s,a;null!=t&&null!=e&&null!=e.parent&&(s=i&&i.hasOwnProperty("rotation")?i.rotation:0,a=i&&i.hasOwnProperty("scaleX")?i.scaleX:1,i=i&&i.hasOwnProperty("scaleY")?i.scaleY:1,e.rotation=t.rotation+(n?s:-s),e.scaleX=t.scaleX*(n?a:1/a),e.scaleY=t.scaleY*(n?i:1/i),e.moveTo(e.parent.globalToLocal(t.localToGlobal(0,0))))}},{key:"equalOrContain",value:function(t,e){if(null!=t&&null!=e){if(!(e instanceof a.default))return t==e;for(var i=t;null!=i;i=i.parent)if(i==e)return!0}return!1}},{key:"autoSizeFromText",value:function(t,e){if(null!=t&&!o.default.isEmpty(t.text)){var i,n,s=void 0,a=h.default.getQualifiedClassName(t);if(("InputText"==a||"TextField"==a&&0<t.lineWidth)&&(e=e||8,n="InputText"==a,t.render(),i=t.height,!((s=(n?t.element:t).scrollHeight)<=i)))for(;t.size>e&&i<s;)t.size=t.size-1,t.render(),s=(n?t.element:t).scrollHeight}}},{key:"getSVG",value:function(t){var e,i,n,s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return t?(e=null==(e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)?u.default.useCanvas:e,i=c.default.getRect(t),n=void 0,e?(n=l.default.create(r.default)).context.drawSvg(t,0,0,i?i.width*s:null,i?i.height*s:null):(n=c.default.getElement(t)).scale=s,i&&(n.height=i.height*s,n.width=i.width*s),n):null}}]),e.default=f},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"format",value:function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(e in/(y+)/.test(i)&&(i=i.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+e+")").test(i)&&(i=i.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return i}},{key:"auto",value:function(t){var e=new Date,i=t.getFullYear()==e.getFullYear(),e=t.getMonth()==e.getMonth()&&t.getDate()==e.getDate();return a.format(t,e?"hh:mm":i?"MM-dd hh:mm":"yyyy-MM-dd hh:mm")}},{key:"calculateTime",value:function(t){var t=(t=String(t)).split(" "),e=t[0],i=parseInt(e.split("-")[0]),n=parseInt(e.split("-")[1]),e=parseInt(e.split("-")[2]),t=String(t[1]);return 365*i*24*60+30*n*24*60+24*e*60+60*parseInt(t.split(":")[0])+parseInt(t.split(":")[1])}},{key:"timeLabel",value:function(t){return t<2?"刚刚":2<=t&&t<60?t+"分钟前":60<=t&&t<1440?parseInt(t/60)+"小时前":1440<=t&&t<10080?parseInt(t/1440)+"天前":10080<=t&&t<43200?parseInt(t/10080)+"周前":43200<=t&&t<518400?parseInt(t/43200)+"月前":parseInt(t/518400)+"年前"}},{key:"getTime",value:function(t){return a.timeLabel(a.calculateTime((1<arguments.length&&void 0!==arguments[1]?arguments[1]:null)||a.format(new Date))-a.calculateTime(t))}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Language=void 0;var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(0),a=(i=i)&&i.__esModule?i:{default:i};function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=e.Language=function t(){r(this,t)},i=(o.CN="cn",o.JA="ja",o.EN="en",o.TW="zh-tw",o.HK="zh-hk",o.FR="fr",o.DE="de",o.KO="ko",o.ES="es",o.SV="sv",o.IT="it",n(l,null,[{key:"set",value:function(t,e,i){a.default.isEmpty(t)||a.default.isEmpty(e)||(l.dic.hasOwnProperty(i=null==i?l.language:i)||(l.dic[i]={}),l.dic[i][t]=e)}},{key:"get",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return l.dic.hasOwnProperty(e=e||l.language)&&null!=l.dic[e]&&l.dic[e].hasOwnProperty(t)?l.dic[e][t]:""}},{key:"format",value:function(t){return(t=t.toLowerCase())==o.TW||t==o.HK?t:t.split("-")[0]}},{key:"clear",value:function(){l.dic={}}}]),l);function l(){r(this,l)}(e.default=i).dic={},i.language=o.CN},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),t};function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(54),r=(i=i)&&i.__esModule?i:{default:i};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}s(l,[{key:"setItem",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:3;i*=36e5,e="object"==(void 0===e?"undefined":n(e))?JSON.stringify(e):""+e,e=i?JSON.stringify({data:e.length<l.maxLength?r.default.encode(e):e,time:(new Date).getTime(),exp:i,encode:e.length<l.maxLength}):e,this.removeLocal(t),this.store.setItem(t,e)}},{key:"getItem",value:function(t){var e=void 0,i=this.store.getItem(t);if(null==i)return null;try{i=JSON.parse(i)}catch(t){}if("string"!=typeof i&&i.hasOwnProperty("time"))if(0<i.exp&&(new Date).getTime()-i.time>i.exp)this.removeLocal(t);else{e=i.encode?r.default.decode(i.data):i.data;try{e=JSON.parse(e)}catch(t){}}else e=i;return e}},{key:"removeItem",value:function(t){this.store.removeItem(t)}},{key:"clear",value:function(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!e&&!n)return this.store.clear();if(!window.localStorage&&!window.sessionStorage)return this.store.clear(e,i,n);for(t in this.store)n&&0<=n.indexOf(t)||e&&(i<0?t.indexOf(e)<0:t.indexOf(e)!=i)||this.removeItem(t)}}]);i=l;function l(){o(this,l),this.store=window.localStorage||window.sessionStorage||new h}e.default=i;s(u,[{key:"setItem",value:function(t,e){var i=new Date;i.setDate(i.getDate()+30),document.cookie=t+"="+escape(e)+";expires="+i.toGMTString()}},{key:"getItem",value:function(t){var e;return!(document.cookie.length<=0)&&-1!=(e=document.cookie.indexOf(t+"="))?(e=e+t.length+1,-1==(t=document.cookie.indexOf(";",e))&&(t=document.cookie.length),unescape(document.cookie.substring(e,t))):""}},{key:"removeItem",value:function(t){var e=new Date,i=(e.setTime(e.getTime()-1),this.getItem(t));null!=i&&""!=i&&(document.cookie=t+"="+i+";expires="+e.toGMTString())}},{key:"clear",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=void 0,s=void 0,a=document.cookie.match(/[^ =;]+(?=\=)/g);if(a)for(n=a.length;0<n;n--)s=a[n],i&&0<=i.indexOf(s)||t&&(e<0?s.indexOf(t)<0:s.indexOf(t)!=e)||(document.cookie=a[n]+"=0;expires="+new Date(0).toUTCString())}}]);var h=u;function u(){o(this,u)}i.className="Storage",i.maxLength=800},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"encode",value:function(t){for(var e=void 0,i=t.length,n=String.fromCharCode(t.charCodeAt(0)+i),e=1;e<i;e++)n+=String.fromCharCode(t.charCodeAt(e)-t.charCodeAt(e-1));return escape(n)}},{key:"decode",value:function(t){for(var e=void 0,i=(t=unescape(t)).length,n=String.fromCharCode(t.charCodeAt(0)-i),e=1;e<i;e++)n+=String.fromCharCode(t.charCodeAt(e)+n.charCodeAt(e-1));return n}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=l(i(6)),c=l(i(3)),r=l(i(8)),o=l(i(2));function l(t){return t&&t.__esModule?t:{default:t}}n(h,[{key:"setup",value:function(t,e,i,n,s,a){return this.a=null!=t?t:1,this.b=null!=e?e:0,this.c=null!=i?i:0,this.d=null!=n?n:1,this.tx=null!=s?s:0,this.ty=null!=a?a:0,this}},{key:"concatTransform",value:function(t,e,i,n,s,a,r,o,l){var h=1,u=0;s%360!=0&&(h=c.default.cos(s),u=c.default.sin(s)),0!=a&&(this.tx-=a),0!=r&&(this.ty-=r),o||l?(this.prepend(h*i,u*i,-u*n,h*n,0,0),this.prepend(c.default.cos(l),c.default.sin(l),-c.default.sin(o),c.default.cos(o),t,e)):this.prepend(h*i,u*i,-u*n,h*n,t,e)}},{key:"prepend",value:function(t,e,i,n,s,a){var r,o,l=this.tx;return 1==t&&0==e&&0==i&&1==n||(r=this.a,o=this.c,this.a=r*t+this.b*i,this.b=r*e+this.b*n,this.c=o*t+this.d*i,this.d=o*e+this.d*n),this.tx=l*t+this.ty*i+s,this.ty=l*e+this.ty*n+a,this}},{key:"append",value:function(t,e,i,n,s,a){var r=this.a,o=this.b,l=this.c,h=this.d;return 1==t&&0==e&&0==i&&1==n||(this.a=t*r+e*l,this.b=t*o+e*h,this.c=i*r+n*l,this.d=i*o+n*h),this.tx=s*r+a*l+this.tx,this.ty=s*o+a*h+this.ty,this}},{key:"concat",value:function(t){var e,i,n,s,a=t.a,r=t.b,o=t.c,l=t.d,h=this.tx,u=this.ty;return 1==a&&0==r&&0==o&&1==l||(e=this.a,i=this.b,n=this.c,s=this.d,this.a=e*a+i*o,this.b=e*r+i*l,this.c=n*a+s*o,this.d=n*r+s*l),this.tx=h*a+u*o+t.tx,this.ty=h*r+u*l+t.ty,this}},{key:"rotate",value:function(t){var e=Math.cos(t),t=Math.sin(t),i=this.a,n=this.c,s=this.tx;return this.a=i*e-this.b*t,this.b=i*t+this.b*e,this.c=n*e-this.d*t,this.d=n*t+this.d*e,this.tx=s*e-this.ty*t,this.ty=s*t+this.ty*e,this}},{key:"scale",value:function(t,e){return this.a*=t,this.d*=e,this.tx*=t,this.ty*=e,this}},{key:"translate",value:function(t,e){return this.tx+=t,this.ty+=e,this}},{key:"invert",value:function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,a=t*n-e*i;return this.a=n/a,this.b=-e/a,this.c=-i/a,this.d=t/a,this.tx=(i*this.ty-n*s)/a,this.ty=-(t*this.ty-e*s)/a,this}},{key:"transformPoint",value:function(t,e,i){var n=t.x*this.a+t.y*this.c+this.tx,s=t.x*this.b+t.y*this.d+this.ty;return e&&(n=n+.5>>0,s=s+.5>>0),i?new a.default(n,s):(t.x=n,t.y=s,t)}},{key:"applyDisplay",value:function(t){null==t&&(t={});var e=Math.atan(-this.c/this.d),i=Math.atan(this.b/this.a);return t.x=this.tx,t.y=this.ty,t.scaleX=-h.PI_Q<i&&i<h.PI_Q?this.a/Math.cos(i):this.b/Math.sin(i),t.scaleY=-h.PI_Q<e&&e<h.PI_Q?this.d/Math.cos(e):-this.c/Math.sin(e),t.rotation=c.default.isEquivalent(e,i)?c.default.getDegreesFromRadians(e):0,t}},{key:"clone",value:function(){return o.default.create(h).setup(this.a,this.b,this.c,this.d,this.tx,this.ty)}},{key:"toString",value:function(){return'{"a":'+this.a+',"b":'+this.b+',"c":'+this.c+',"d":'+this.d+',"tx":'+this.tx+',"ty":'+this.ty+"}"}},{key:"toCSS",value:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.tx+","+this.ty+")"}},{key:"reset",value:function(){return this.setup(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,5<arguments.length&&void 0!==arguments[5]?arguments[5]:0)}},{key:"dispose",value:function(){delete this.a,this.b,this.c,this.d,this.tx,this.ty}},{key:"data",get:function(){return JSON.parse(this.toString())},set:function(t){null!=t&&r.default.copyAttribute(this,t,!0)}}]);i=h;function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,r=this,o=h;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.setup(t,e,i,n,s,a)}(e.default=i).className="Matrix",i.PI_Q=Math.PI/4},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=o(i(2)),r=o(i(24));function o(t){return t&&t.__esModule?t:{default:t}}n(l,[{key:"setSize",value:function(t,e){0!=t&&0!=e&&(this.canvas.width=MathUtil.int(Math.abs(t)),this.canvas.height=MathUtil.int(Math.abs(e)))}},{key:"clear",value:function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.restore()}},{key:"reset",value:function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.clear()}},{key:"dispose",value:function(){reset(),l.COUNT--,this.canvas=this.context=null}}],[{key:"instance",get:function(){return l.MAX<=l.COUNT&&a.default.length("RenderObject")<1?null:a.default.create(l)}}]);i=l;function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.canvas=this.context=null,r.default.create(this),l.COUNT++}(e.default=i).className="RenderObject",i.COUNT=0,i.MAX=50},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=a(i(16)),v=a(i(46)),y=a(i(2)),g=a(i(0)),m=a(i(61)),b=a(i(34)),w=a(i(30));function a(t){return t&&t.__esModule?t:{default:t}}n(k,null,[{key:"parseSheet",value:function(t,e,i){return i?k._xml2sheet(t,e):k._json2sheet(t,e.content)}},{key:"_xml2sheet",value:function(t,e){if(null!=t&&null!=e){for(var i,n,s=[],a=e.documentElement.childNodes,r=void 0,o=void 0,l=void 0,h=void 0,l=0,u=a.length;l<u;l++)if(!(null==(i=a[l].attributes)||i.length<=0)){for(o={},h=0;h<i.length;h++)o[(n=i[h]).nodeName]=n.value;(r=y.default.create(p.default)).setup(t,o),s.push(r)}return s}}},{key:"_json2sheet",value:function(t,e){if(null!=t&&null!=e){var i,n=void 0,s=void 0,a=void 0,r=void 0,o=void 0,l=[];for(s in e)if("meta"!=s)for(n in i=e[s])(a=i[n]).name=n,(r=y.default.create(p.default)).setup(t,a,!0),0==r.width&&0==r.height&&!g.default.isEmpty(r.label)&&o&&r.label==o.label&&(r.height=r.rect.height,r.width=r.rect.width,0==o.width)&&0==o.height&&(o.height=o.rect.height,o.width=o.rect.width),l.push(r),o=r;return l}}},{key:"parseFont",value:function(t){if(null==t)return null;var e=new m.default,t="string"==typeof t?b.default.parseXML(t,"text/xml"):t.childNodes[0],i=t.getElementsByTagName("info")[0],n=t.getElementsByTagName("common")[0],s=t.getElementsByTagName("pages");if(s.length<=0)return t.body&&trace("[ERROR] AssetUtil.parseFont() "+t.body.innerText),null;var a,r,o,l=s[0].childNodes,h=t.getElementsByTagName("chars")[0].childNodes,u=(k.copyAttributes(e.info,i),k.copyAttributes(e.common,n),void 0),c=void 0,d=void 0,f=void 0,_=l.length;for(e.info.size=Math.abs(e.info.size),e.name=e.info.face,e.chars={},e.pages=[],e.images=[],d=0;d<_;d++)"page"!=(c=l[d]).nodeName||(r=Number(c.getAttribute("id")),a=c.getAttribute("file"),g.default.isEmpty(a))||(e.pages[r]=a,a=v.default.getName(a),!g.default.isEmpty(a)&&w.default._cache.hasOwnProperty(a)?(e.images[r]=w.default._cache[a],delete w.default._cache[a]):trace("[ERROR] AssetUtil.parseFont can't find asset of "+a));for(d=0,_=h.length;d<_;d++)"char"==(c=h[d]).nodeName&&((f=k.copyAttributes({},c)).name=e.name+"|"+f.xadvance+" "+f.id,f.frameX=-f.xoffset,f.frameY=-f.yoffset,null!=(o=e.images[f.page]))&&((u=y.default.create(p.default)).setup(o,f),u.label=Number(u.label),e.chars[u.index]=u);return e}},{key:"copyAttributes",value:function(t,e){for(var i,n,s=void 0,a=e.attributes,s=0,r=a.length;s<r;s++)n=(i=a[s]).value,t[i.name]=isNaN(n)?n:Number(n);return t}},{key:"asset2diplay",value:function(t){for(var e,i=void 0,n=void 0,s=[],i=0,a=t.length;i<a;i++)e=t[i],(n=Factory.c("do")).setInstance(e),s.push(n);return s}}]);i=k;function k(){if(!(this instanceof k))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=d(i(25)),o=d(i(45)),l=d(i(1)),h=d(i(4)),u=d(i(13)),c=d(i(0));function d(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).__over_handler=t.__change_handler=t.bufferSource=t.buffer=t.volumeNode=t._ajax=t._audio_tag=t.element=null,t.loadFail=t.auto_play=t.is_init=t.loading=t.loaded=t.playing=!1,t.currentSave=t.currentTime=0,t._type="web_audio",t.length=0,t.volume=1,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"init",value:function(){if(!this.is_init){this.is_init=!0;try{this.element=new l.default.canUseWebAudio}catch(t){return!(l.default.canUseWebAudio=null)}this.name=u.default.getName(this._type),this.element.id=this.name,this._ajax=new o.default,this._ajax.responseType=o.default.ARRAY_BUFFER,this._audio_tag=document.createElement("audio"),r.default.Container.add(this),this.__over_handler=l.default.delegate(this._over_handler,this)}return!1}},{key:"_over_handler",value:function(t){this.close(),this.dispatchEvent(new h.default(r.default.MEDIA_PLAY_COMPLETE))}},{key:"load",value:function(t){var n,e;return!!t&&!(!this.is_init&&this.init()||("string"!=typeof t?("[object AudioBuffer]"==Object.prototype.toString.apply(t)?this.onload(t):"[object ArrayBuffer]"==Object.prototype.toString.apply(t)&&(this.loading=!0,this.element.decodeAudioData(t,l.default.delegate(this.onload,this),l.default.delegate(function(t){this.loadFail=!0,this.loading=!1,trace("[ERROR] WebAudio:AudioContext decodeAudioData error : "+t.toString()),this.dispatchEvent(new h.default(r.default.MEDIA_ERROR))},this))),1):(e=void 0,n=this,(e={mov:["quicktime"],"3gp":["3gpp"],midi:["midi"],mid:["midi"],ogv:["ogg"],m4a:["acc"],mp3:["mpeg"],wav:["wav","x-wav","wave"],wave:["wav","x-wav","wave"],aac:["mp4","aac"]}[e=c.default.getPathExt(t)]||[e]).some(function(t,e,i){return n._audio_tag.canPlayType("audio/"+t)})||!c.default.isEmpty(t)&&0==t.indexOf("blob:")?(this.loading=!0,this._ajax.get(t).then(function(t){this.onload(t)}.bind(this)).catch(function(t){this.loadFail=!0,this.loading=!1,trace("[ERROR] WebAudio: load audio fail."),this.dispatchEvent(new h.default(r.default.MEDIA_ERROR))}.bind(this)),0):(this.loadFail=!0,trace("Not support "+e+" : "+t),this.dispatchEvent(new h.default(r.default.MEDIA_ERROR)),1))))}},{key:"onload",value:function(t){"[object AudioBuffer]"!==Object.prototype.toString.apply(t)?this.load(t):(this.buffer=t,this.loaded=!0,this.loading=this.loadFail=!1,this.length=this.buffer.duration,this.dispatchEvent(new h.default(r.default.MEDIA_LOAD_COMPLETE)),this.removeEventListener(r.default.MEDIA_LOAD_COMPLETE),this.auto_play&&this.play())}},{key:"setCurrentTime",value:function(t){if(this.element&&null!=t&&0<=t&&t<this.length){try{this.element.currentTime=t}catch(t){}this.currentTime=t}}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"setVolume",value:function(t){this.volume=t,this.playing&&this.volumeNode&&this.volumeNode.gain.setValueAtTime(t,this.currentTime)}},{key:"getVolume",value:function(){return this.volume}},{key:"play",value:function(t){0==this.length||this.playing||(t&&(this.currentTime=0),this.element.loop=!1,this.playing=!0,this.bufferSource=this.element.createBufferSource(),this.bufferSource.buffer=this.buffer,this.volumeNode=this.element.createGain(),this.volumeNode.gain.setValueAtTime(this.volume,this.currentTime),this.volumeNode.connect(this.element.destination),this.bufferSource.connect(this.volumeNode),this.currentSave=this.element.currentTime,this.bufferSource.addEventListener("ended",this.__over_handler,!1),this.bufferSource.start?this.bufferSource.start(0,this.currentTime%this.length):this.bufferSource.noteGrainOn(0,this.currentTime%this.length))}},{key:"stop",value:function(){if(this.playing){try{this.bufferSource.stop?this.bufferSource.stop(0):this.bufferSource.noteOff(0)}catch(t){}this.currentTime+=this.element.currentTime-this.currentSave,this.playing=!1,this.bufferSource.removeEventListener("ended",this.__over_handler)}}},{key:"close",value:function(){this.playing&&this.stop(),this.currentTime=this.currentSave=0}},{key:"dispose",value:function(){this.close(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),this.element=null,r.default.Container.remove(this),delete this.element,this._type,this.loadFail,this.auto_play,this.is_init,this.loading,this.loaded,this.playing,this.length,this.__over_handler,this.__change_handler,this.volume,this.timeout,this.volumeNode,this.currentSave,this.currentTime,this._ajax,this._audio_tag}}]),i}(d(i(19)).default);(e.default=i).className="WebAudio"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(21),a=(i=i)&&i.__esModule?i:{default:i};n(r,[{key:"add",value:function(t){!t||0<=this.cache_list.indexOf(t)||(t.setVolume(this.global_volume),this.cache_list.push(t))}},{key:"remove",value:function(t){!t||this.cache_list.indexOf(t)<0||this.cache_list.splice(this.cache_list.indexOf(t),1)}},{key:"stopOther",value:function(e){!e||this.cache_list.length<2||a.default.each(this.cache_list,function(t){t!=e&&t.playing&&t.stop()},this)}},{key:"stopAll",value:function(){this.cache_list.length<1||a.default.each(this.cache_list,function(t){t.playing&&t.stop()},this)}},{key:"setVolume",value:function(t){this.global_volume=t,a.default.each(this.cache_list,function(t){t.setVolume(this.global_volume)},this)}},{key:"dispose",value:function(){this.stopAll(),this.cache_list=this.global_volume=null,delete this.cache_list,this.global_volume}}]);i=r;function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.cache_list=[],this.global_volume=1}(e.default=i).className="MediaManager"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=i(25);i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._type="audio",t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),i}(((i=i)&&i.__esModule?i:{default:i}).default);(e.default=i).className="Sound"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var a=o(i(8)),r=o(i(2));function o(t){return t&&t.__esModule?t:{default:t}}n(l,[{key:"dispose",value:function(){if(this.chars&&0<this.chars.length)for(var t=void 0,t=0,e=this.chars.length;t<e;t++)r.default.remove(this.chars[t]);delete this.name,this.info,this.common,this.chars,this.pages,this.images}},{key:"data",set:function(t){null!=t&&a.default.copyAttribute(this,t,!0)}}]);i=l;function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.name,this.info={},this.common={},this.chars,this.pages,this.images}(e.default=i).className="BitmapFont"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var l=u(i(0)),a=u(i(8)),r=u(i(30)),o=u(i(3)),h=u(i(7));u(i(44)),u(i(16));function u(t){return t&&t.__esModule?t:{default:t}}n(c,null,[{key:"addSources",value:function(t){if(!(null==t||t.length<1)){for(var e,i=void 0,n=[],i=0,s=t.length;i<s;i++)(0==(e=t[i]).width?n:(c._dic.hasOwnProperty(e.animation)||(c._dic[e.animation]=l.default.isEmpty(e.label)?[]:{},c._cache[e.animation]=[]),l.default.isEmpty(e.label)||c._dic[e.animation].hasOwnProperty(e.label)||(c._dic[e.animation][e.label]=[],c._cache[e.animation].push(e.label)),l.default.isEmpty(e.label)?c._dic[e.animation]:c._dic[e.animation][e.label])).push(e);0<n.length&&r.default.addSources(n)}}},{key:"getInstance",value:function(t,e,i,n,s){i=h.default.c("mc",null,i),t=c.getData(t,e);return null==n&&null==s||(n=null==n?t.length:Math.min(t.length,Math.abs(n)),s=null==s?0:o.default.clamp(s,0,n),t=t.slice(s,n)),i.setFrames(t),i}},{key:"getData",value:function(t,e){if(e=e||"",!l.default.isEmpty(t)&&!l.default.isEmpty(e)&&c._dic.hasOwnProperty(e))return c._dic[e][t];e=l.default.isEmpty(e)?"":e;var i=c._dic[e];if(null==i||i instanceof Array)return i;t=l.default.isEmpty(t)?a.default.getLabels(i)[0]:t;i=c._dic[e][t];return null==i?null:i}},{key:"findData",value:function(t,e){if(!l.default.isEmpty(t)||!l.default.isEmpty(e)){var i=c.getData(t,e);if(i)return i;var n=l.default.getNumber(t);if(n&&!(n.length<1)&&(i=c.getData(n[0],e))){var s=!0,n=!1,e=void 0;try{for(var a,r=i[Symbol.iterator]();!(s=(a=r.next()).done);s=!0){var o=a.value;if(o.name==t)return o}}catch(t){n=!0,e=t}finally{try{!s&&r.return&&r.return()}finally{if(n)throw e}}}}return null}},{key:"removeData",value:function(t,e){e=e||"",l.default.isEmpty(t)||l.default.isEmpty(e)?(e=l.default.isEmpty(e)?a.default.getLabels(c._cache)[0]:e,null!=c._dic[e]&&(l.default.isEmpty(t)?(delete c._dic[e],delete c._cache[e]):delete c._dic[e][t])):delete c._dic[e][t]}},{key:"clear",value:function(){c._dic={},c._cache={}}}]);i=c;function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function")}(e.default=i)._dic={},i._cache={},i.className="MovieManager"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=_(i(16)),o=_(i(4)),l=_(i(12)),h=_(i(3)),u=_(i(11)),c=_(i(2)),d=_(i(0)),f=_(i(30));function _(t){return t&&t.__esModule?t:{default:t}}var p=Symbol("rate"),v=Symbol("swingPlay"),y=Symbol("reversePlay"),i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this,i=n;if(e instanceof i)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this))).label,e._frames=[],e._paused=!0,e._replay_time=0,e[v]=!1,e[y]=!1,e._count=e[p]=e._frame=e._current_frame=1,t&&e.setFrames(t),e;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s(n,[{key:"clearAllFrames",value:function(){if(null!=this._frames){for(var t;0<this._frames.length;)t=this._frames.pop(),this._remove_frame(t);this._frame=this._current_frame=1,this._paused=!0}}},{key:"setFrames",value:function(t){if(null!=t){for(var e in t)this.addFrame(t[e]);0<this._frames.length&&this.gotoAndPlay(1)}}},{key:"addFrame",value:function(t,e){null!=t&&((t=t instanceof Image||"HTMLImageElement"==u.default.getQualifiedClassName(t)?f.default.fromImage(t):t)instanceof r.default||t instanceof l.default&&t.instance&&(t.instance instanceof r.default||t.instance instanceof Image))&&(t instanceof l.default&&(t.instance instanceof r.default?(t=t.instance.clone()).isClone=!1:t=f.default.fromImage(t.instance)),null==e?this._frames.push(t):this._frames.splice(e,0,t),this.width=Math.max(this.width,t.frame_width,t.width),this.height=Math.max(this.height,t.frame_height,t.height))}},{key:"getFrame",value:function(t){return 0<=t&&t<this._frames.length?this._frames[t]:null}},{key:"removeFrame",value:function(t){t<0||t>=this._frames.length||(t=this._frames.splice(t,1),this._remove_frame(t))}},{key:"_remove_frame",value:function(t){null!=t&&t instanceof r.default&&t.isClone&&c.default.remove(t)}},{key:"play",value:function(t){this._replay_time=null==t?0:t,this._paused=!1}},{key:"stop",value:function(){this._paused=!0}},{key:"gotoAndStop",value:function(t){if(null!=this._frames){if("string"==typeof t)for(var e=void 0,i=this._frames.length,e=0;e<i;e++)if(this._frames[e]&&this._frames[e].label==t){t=Number(e)+1;break}t<1||t>this._frames.length||(this._frame=t,this._paused=!0)}}},{key:"gotoAndPlay",value:function(t){this.gotoAndStop(t),this._paused=!1}},{key:"nextFrame",value:function(){this._frame=this[y]?this._current_frame<=1?this._frames.length:this._current_frame-1:this._current_frame>=this._frames.length?1:this._current_frame+1}},{key:"render",value:function(t){var e;!this.visible||this.alpha<=0||(!this._paused||null==this.instance||this._frame!=this._current_frame)&&0<this._frames.length&&(this._current_frame=this._frame,e=this._frames[this._current_frame-1],this.setInstance(e),this.label=e.animation+(d.default.isEmpty(e.label)?"":":"+e.label),this._paused||(this._count--,this._count<=0&&((this[y]&&this._current_frame<=1||!this[y]&&this._current_frame>=this._frames.length)&&(this[v]&&(this.reverse=!this[y]),0<this._replay_time?(this._replay_time--,0==this._replay_time&&(this._paused=!0,this.dispatchEvent(new o.default(o.default.PLAY_OVER)))):this.dispatchEvent(new o.default(o.default.PLAY_OVER))),this.nextFrame()),this._count=this._count<=0?this[p]:this._count,this.__checkDisplayUpdate())),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"render",this).call(this,t)}},{key:"reset",value:function(){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"reset",this).call(this),this.clearAllFrames(),this.label=null,this._paused=!0,this._replay_time=0,this[v]=!1,this[y]=!1,this._count=this[p]=this._frame=this._current_frame=1}},{key:"dispose",value:function(){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this),delete this._count,this[p],this[v],this._frame,this[y],this._frames,this._paused,this._current_frame,this.label,this._replay_time}},{key:"toString",value:function(){return n.name}},{key:"currentFrame",get:function(){return this._current_frame}},{key:"rate",get:function(){return this[p]},set:function(t){null==t||t<1||t==this[p]||(this[p]=Math.abs(h.default.int(t)))}},{key:"swing",get:function(){return this[v]},set:function(t){null!=t&&t!=this[v]&&(this[v]=Boolean(t))}},{key:"reverse",get:function(){return this[y]},set:function(t){null!=t&&t!=this[y]&&(this[y]=Boolean(t))}},{key:"totalFrame",get:function(){return this._frames.length}}]),n}(l.default);(e.default=i).className="DOMMovie"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=f(i(15)),o=f(i(10)),h=f(i(0)),l=f(i(8)),u=f(i(17)),c=f(i(26)),d=f(i(1));function f(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=x;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function x(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"Microsoft YaHei,Arial",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"#000000",n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:12,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:"fill",a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"",r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,o=this,l=x;if(o instanceof l)return(o=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(x.__proto__||Object.getPrototypeOf(x)).call(this)))._text=t,o._font=e,o._size=n,o._leading=r,o._fill_type=s,o._color2=a,o._color=u.default.formatColor(i),o._lineHeight=1,o._has_update=!0,o._textAlign="left",o._textBaseline="middle",o._underline=o._italic=o._bold=!1,o._lineWidth=null,o._fontMetrics=null,o.autoSize=!0,o.scrollHeight=0,o.mouseEnabled=!1,o._writingMode=!1,o.wordBreak=!0,o.width=0,h.default.isEmpty(o._text)||o._update(),o;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(x,[{key:"getTextWidth",value:function(){var t=(this.stage||d.default).context,e=null==(e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)?this._text:e;return t&&this.context?(t.font!=this.context.font&&(t.font=this.context.font),t.measureText(e).width):0}},{key:"_update",value:function(){this.context.reset(),this.context.font=(this._italic?"italic ":"")+(this._bold?"bold ":"")+("number"==l.default.getType(this._size)?this._size+"px ":this._size+" ")+this._font,this._writingMode?this._vertical_text():this._horizontal_text(),this.has_update=!1}},{key:"_vertical_text",value:function(){null==this._fontMetrics&&(this._fontMetrics=x.getFontMetrics(this.font,this.size));for(var t,e,i=this._text.split(/\r\n|\r|\n|<br(?:[ \/])*>/),n=void 0,s=void 0,a=void 0,r=void 0,o=i.length,l=this._fontMetrics.height*this._lineHeight*.5,h=l,u=this.autoSize&&this._lineWidth?this._lineWidth:this.height,c=.5*this._fontMetrics.height,d=this._fontMetrics.height,f=0,_=this.autoSize?0:this.width-.5*this.size,p=void 0,v="start"==this._textAlign||"left"==this._textAlign,y=v&&!this.autoSize?null:[],s=0;s<o&&(r=i[s],this.autoSize||!(_<=this._leading));s++){for(var g=v&&!this.autoSize?null:[],a=0,p=r.length;a<p;a++)if((n=r.charAt(a))&&0!=n.length){if(t=!n.match(/[\u4e00-\u9fa5]/),e=this.getTextWidth(n),f=Math.max(f,e),c+h>=u-this._leading&&(g&&g.length&&(y.push({d:g,r:{x:_-f,y:g[0].y,w:f,h:g[g.length-1].y-g[0].y+d+this._leading}}),g=[]),h=l,_-=this._fontMetrics.height*this._lineHeight,!this.autoSize)&&_<=this._leading)break;g?g.push({w:n,x:_-e,y:c+h,b:t}):this._draw(n,c+h,_-e,t),h=h+(t?e:d)+this._leading}g&&g.length&&(y.push({d:g,r:{x:_-f,y:g[0].y,w:f,h:g[g.length-1].y-g[0].y+d+this._leading}}),g=[]),h=l,_-=f*this._lineHeight}if(y)for(_=Math.abs(y[y.length-1].d[0].x)+this._leading,l=this._fontMetrics.height+this._leading,s=0,o=y.length;s<o;s++)for(r=y[s],this.context.clearRect(r.r.x,r.r.y,r.r.w,r.r.h),c=l+("center"==this._textAlign?.5*(u-r.r.h):v?0:u-r.r.h),h=r.d[0].y,a=0,p=r.d.length;a<p;a++)n=r.d[a],this._draw(n.w,n.y-h+c,_+n.x,n.b)}},{key:"_horizontal_text",value:function(){for(var i=this,t=(null==this._fontMetrics&&(this._fontMetrics=x.getFontMetrics(this.font,this.size)),this._text.split(/\r\n|\r|\n|<br(?:[ \/])*>/)),e=void 0,n=void 0,s=void 0,a=t.length,r=this._fontMetrics.height*this._lineHeight,o=this._fontMetrics.height*this._lineHeight*.5,l=(this.autoSize&&(this.width=this._lineWidth),this.autoSize&&this._lineWidth?this._lineWidth:this.width),h="start"==this._textAlign||"left"==this._textAlign,e=0;e<a&&(s=t[e],n=0,this.autoSize||!(o>=this.height-this._leading));e++){var u=h?null:[];if(this.wordBreak)for(var c=0,d=s.length;c<d;c++){var f=s.charAt(c),_=this.getTextWidth(f)+this._leading;if(0<n&&0<l&&l<=n+_&&(!h&&u.length&&function(){var e=Math.floor((l-n-i._leading)*("center"==i._textAlign?.5:1));u.forEach(function(t){return i._draw(t.l,t.y,t.x+e)}),u=[]}(),o+=r,n=0,!this.autoSize)&&o>=this.height-this._leading)break;h?this._draw(f,o,n):u.push({l:f,x:n,y:o}),n+=_}else for(var p=s.split(/([^\x00-\xff]|\b)/),v=0,y=p.length;v<y;v++){var g=p[v];if(g&&0!=g.length){var m=this.getTextWidth(g)+g.length*this._leading;if(0<n&&0<l&&l<=n+m&&(!h&&u.length&&!function(){var e=Math.floor((l-n-i._leading)*("center"==i._textAlign?.5:1));u.forEach(function(t){this._draw(t.l,t.y,t.x+e)}.bind(i)),u=[]}(),o+=r,n=0),!this.autoSize&&o>=this.height-this._leading)break;for(var b=0,w=g.length;b<w;b++){var k=g[b];h?this._draw(k,o,n):u.push({l:k,x:n,y:o}),n+=this.getTextWidth(k)+this._leading}}}!h&&u.length&&!function(){var e=Math.floor((l-n-i._leading)*("center"==i._textAlign?.5:1));u.forEach(function(t){this._draw(t.l,t.y,t.x+e)}.bind(i))}(),o+=r}this.scrollHeight=o,this.autoSize&&(this.height=o)}},{key:"_draw",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=("fill"!=this._fill_type&&"both"!=this._fill_type||this.context.fillStyle==this._color||(this.context.fillStyle=this._color),"stroke"!=this._fill_type&&"both"!=this._fill_type||this.context.strokeStyle==this._color2||(this.context.strokeStyle=this._color2),this._writingMode&&n?"bottom":this._textBaseline);this.context.textBaseline!=s&&(this.context.textBaseline=s),this.context.save(),this._writingMode&&n&&(s=0<=x.specialCode.indexOf(t.charCodeAt(0)),this.context.translate(s?i:i-.5*this.size+(t.match(/[),!,t,f,i,l,j,I,J,r,I,F,E,I,Y]/)?-.25*this.size:t.match(/[O,@,%,&,q,w,m,W,M,Q,N,p]/)?.3*this.size:0),e-this.size),this.context.rotate(Math.PI/180*90),i=e=0),"stroke"!=this._fill_type&&"both"!=this._fill_type||this.context.strokeText(t,i,e),"fill"!=this._fill_type&&"both"!=this._fill_type||this.context.fillText(t,i,e),this.context.restore()}},{key:"__update_size",value:function(t){null!=this.canvas&&(this.stage.canvas.width>this.canvas.width+1||(this.stage||d.default).canvas.height>this.canvas.height+1)&&(this.has_update=!0)}},{key:"_render",value:function(){h.default.isEmpty(this._text)||(this._has_update&&this._update(),this.context&&a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"_render",this).apply(this,arguments))}},{key:"dispose",value:function(){a(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"dispose",this).call(this),delete this.wordBreak,this.scrollHeight,this._lineHeight,this.autoSize,this._underline,this._writingMode,this._text,this._font,this._color,this._color2,this._size,this._textAlign,this._textBaseline,this._fill_type,this._has_update,this._leading,this._italic,this._bold,this._lineWidth,this._fontMetrics,this.mouseEnabled}},{key:"toString",value:function(){return x.name}},{key:"has_update",get:function(){return this._has_update},set:function(t){this._has_update!=t&&(this._has_update=t)&&this.__checkDisplayUpdate()}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth!=t&&(this._lineWidth=t,this.has_update=!0)}},{key:"italic",get:function(){return this._italic},set:function(t){this._italic!=t&&(this._italic=t,this.has_update=!0)}},{key:"writingMode",get:function(){return this._writingMode},set:function(t){this._writingMode!=t&&(this._writingMode=t,this.has_update=!0)}},{key:"underline",get:function(){return this._underline},set:function(t){this._underline!=t&&(this._underline=t)}},{key:"bold",get:function(){return this._bold},set:function(t){this._bold!=t&&(this._bold=t,this.has_update=!0)}},{key:"text",get:function(){return this._text},set:function(t){this._text!=t&&(this._text=t,this.has_update=!0)}},{key:"size",get:function(){return this._size},set:function(t){this._size!=t&&(this._size=t,this.has_update=!0,this._fontMetrics=x.getFontMetrics(this.font,this.size))}},{key:"color",get:function(){return this._color},set:function(t){null!=t&&("string"==typeof t&&h.default.isEmpty(t)||(t=t instanceof c.default?u.default.getGradientColor(t):u.default.formatColor(t)),this._color!=t)&&(this._color=t,this.fillType=t?this._color2?"both":"fill":this._color2?"stroke":this.fillType,this.has_update=!0)}},{key:"strokeColor",get:function(){return this._color2},set:function(t){null!=t&&("string"==typeof t&&h.default.isEmpty(t)||(t=t instanceof c.default?u.default.getGradientColor(t):u.default.formatColor(t)),this._color2!=t)&&(this._color2=t,this.fillType=t?this._color?"both":"stroke":this._color?"fill":this.fillType,this.has_update=!0)}},{key:"font",get:function(){return this._font},set:function(t){this._font!=t&&(this._font=t,this.has_update=!0,this._fontMetrics=x.getFontMetrics(this.font,this.size))}},{key:"fillType",get:function(){return this._fill_type},set:function(t){this._fill_type!=t&&(this._fill_type=t,this.has_update=!0)}},{key:"align",get:function(){return this._textAlign},set:function(t){this._textAlign!=t&&(this._textAlign=t,this.has_update=!0)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!=t&&(this._leading=t,this.has_update=!0)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){null==t||t<=0||this._lineHeight==t||(this._lineHeight=t,this.has_update=!0)}},{key:"baseLine",get:function(){return this._textBaseline},set:function(t){this._textBaseline!=t&&(this._textBaseline=t,this.has_update=!0)}},{key:"stage",get:function(){return this._stage},set:function(t){this._stage!=t&&(this._stage&&this._stage.removeEventListener(o.default.UPDATE,null,this.name),this._stage=t,this._stage)&&this._stage.addEventListener(o.default.UPDATE,d.default.delegate(this.__update_size,this),this.name)}}],[{key:"getFontMetrics",value:function(t,e){return{height:e}}}]),x}(r.default);(e.default=i).className="TextField",i.specialCode=[183,215,8212,8216,8217,8220,8221,8230,12289,12290,12298,12299,12302,12303,12304,12305,65281,65288,65289,65292,65306,65307,65311]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=d(i(12)),o=d(i(0)),l=d(i(17)),h=d(i(3)),u=d(i(1)),c=d(i(4));function d(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function r(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:-1,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=this,a=r;if(s instanceof a)return(s=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this))).isInput=Boolean(t),s.tabindex=i,s.password=n,s.multiline=e,s._size=8,s._leading=0,s._lineHeight=1,s._maxChars=0,s._font="Microsoft YaHei,Arial",s._color="#000000",s._textAlign="left",s._verticalAlign="top",s._selectable=!0,s.element=s._init(),s._lineWidth=s.width=s.height=0,s._enable=!0,s.autoSize=!0,s._writingMode=!1,s._underline=s._bold=s._italic=!1,s.selectable=s.mouseEnabled=s.isInput,s;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(r,[{key:"_init",value:function(){var t,e=void 0;return this.isInput?(this.multiline?(e=document.createElement("textarea")).style.resize="none":e=document.createElement("input"),this._cursor="text",e.setAttribute("type",this.password?"password":"text"),e.setAttribute("tabindex",this.tabindex),e.style.border="none",e.style.outline="thin",e.style.overflow="hidden",e.style.autofocus="autofocus",e.style.wordBreak="break-all",e.style.background="none",e.style.color=this._color,e.style.lineHeight=this._lineHeight,e.style.writingMode=this._writingMode?"tb-rl":"lr-tb",t=this,e.oninput=function(){t.dispatchEvent(new c.default(r.CHANGE,e.value))},e.onfocus=function(){t.dispatchEvent(new c.default(r.FOCUS_IN))},e.onblur=function(){t.dispatchEvent(new c.default(r.FOCUS_OUT))}):((e=document.createElement("span")).style.lineHeight=this._lineHeight,e.style.wordBreak="break-all",e.contenteditable=!1,e.draggable=!1,e.display="block"),e}},{key:"_display",value:function(t){a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"_display",this).call(this,t),t&&this.updateSize()}},{key:"updateSize",value:function(){var t,e,i;this.__checkDisplayUpdate(),this.autoSize&&!this.isInput&&null!=this.element&&0!=this.element.offsetHeight&&(t=h.default.format((this._size+this._leading)*this.text.length),e=!this.writingMode&&this._lineWidth,i=this.writingMode&&this._lineWidth,this.width=e?this._lineWidth:i?0:this.width||(0==this.height?t:t/this.height),this.height=i?this._lineWidth:0)}},{key:"dispose",value:function(){a(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"dispose",this).call(this),delete this._lineHeight,this.autoSize,this._selectable,this._enable,this._underline,this._writingMode,this.isInput,this.tabindex,this.password,this.multiline,this._lineWidth,this._size,this._leading,this._maxChars,this._font,this._color,this._textAlign,this._verticalAlign,this._bold,this._italic}},{key:"enable",get:function(){return this._enable},set:function(t){null!=t&&this._enable!=t&&(this._enable=t,this.isInput)&&(this.element.disabled=this._enable?"":"disabled")}},{key:"selectable",get:function(){return this._selectable},set:function(t){null!=t&&(this._selectable=t,this._cursor=t?"text":"default",this.element.style.pointerEvents=t?"auto":"none",this.element.style[o.default.isEmpty(u.default.cssPrefix)?"userSelect":u.default.cssPrefix+"UserSelect"]=this._selectable?"text":"none",this.updateSize())}},{key:"text",get:function(){return this.element?this.isInput?this.element.value:this.element.innerHTML:""},set:function(t){null==this.element||this.isInput&&this.element.value==t||!this.isInput&&this.element.innerHTML==t||(this.isInput?this.element.value=t:this.element.innerHTML=t,this.updateSize())}},{key:"writingMode",get:function(){return this._writingMode},set:function(t){null!=this.element&&this._writingMode!=t&&(this._writingMode=t,this.element.style.writingMode=this._writingMode?"tb-rl":"lr-tb",this.element.style[u.default.cssPrefix+"WritingMode"]=this._writingMode?"tb-rl":"lr-tb",this.updateSize())}},{key:"italic",get:function(){return this._italic},set:function(t){null!=this.element&&this._italic!=t&&(this._italic=t,this.element.style.fontStyle=this._italic?"italic":"normal",this.updateSize())}},{key:"bold",get:function(){return this._bold},set:function(t){null!=this.element&&this._bold!=t&&(this._bold=t,this.element.style.fontWeight=this._bold?"bold":"normal",this.updateSize())}},{key:"size",get:function(){return this._size},set:function(t){null!=this.element&&(this._size=t,this.element.style.fontSize=this._size+"px",this.updateSize())}},{key:"color",get:function(){return this._color},set:function(t){t=l.default.formatColor(t),null!=this.element&&this._color!=t&&(this._color=t,this.element.style.color=this._color)}},{key:"font",get:function(){return this._font},set:function(t){null!=this.element&&this.element.style.fontFamily!=t&&(this._font=t,this.element.style.fontFamily=this._font,this.updateSize())}},{key:"align",get:function(){return this._textAlign},set:function(t){null!=this.element&&this._textAlign!=t&&(this._textAlign=t,this.element.style.textAlign=this._textAlign,this.updateSize())}},{key:"underline",get:function(){return this._underline},set:function(t){null!=this.element&&this._underline!=t&&(this._underline=t,this.element.style.textDecoration=this._underline?"underline":"none",this.updateSize())}},{key:"verticalAlign",get:function(){return this._verticalAlign},set:function(t){null!=this.element&&this._verticalAlign!=t&&(this._verticalAlign=t,this.element.style.verticalAlign=this._verticalAlign,this.updateSize())}},{key:"maxChars",get:function(){return this._maxChars},set:function(t){null!=this.element&&this._maxChars!=t&&(this._maxChars=t,this.element.maxLength=this._maxChars)}},{key:"leading",get:function(){return this._leading},set:function(t){null!=this.element&&(this._leading=t,this.element.style.letterSpacing=this._leading+"px",this.updateSize())}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){null==this.element||t<=0||(this._lineHeight=t,this.element.style.lineHeight=this._lineHeight,this.updateSize())}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._lineWidth!=t&&(this._lineWidth=t,this.updateSize())}},{key:"bgColor",get:function(){return this.element?this.element.style.backgroundColor:""},set:function(t){this.element.style.backgroundColor=t}}]),r}(r.default);(e.default=i).CHANGE="updateText",i.FOCUS_OUT="focusOut",i.FOCUS_IN="focusIn",i.className="InputText"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=g(i(5)),o=g(i(15)),l=g(i(14)),h=g(i(0)),u=g(i(2)),c=g(i(17)),d=g(i(3)),f=g(i(27)),_=g(i(7)),p=g(i(26)),v=g(i(1)),y=g(i(4));function g(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._redius=0,t._thickness=0,t._fill_alpha=1,t.autoSize=!0,t.syncSize=!1,t.instance=t._stroke=t._pattern=t._pattern_src=t._color=null,t.use_canvas=v.default.useCanvas,t.mouseChildren=!1,t.repeat="repeat",t._dash=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:"#000000",r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:1;this._redius=n,this.thickness=s,this._stroke=this._format_color(a),this._fill_alpha=r,null==this.instance?(this.instance=_.default.c("do",null,this.use_canvas),this.instance.hide_over=!1,this.instance.setSize(e,i),this.addChild(this.instance)):this.instance.moveTo(0,0),this.width=e,this.height=i,this.resize=!0,this._color=this._format_color(t)||"#FFFFFF"}},{key:"_format_color",value:function(t){if(!(t&&t instanceof p.default))return t;if(this.use_canvas)return c.default.getGradientColor(t);if(null==this.instance||null==this.instance.element)return t;var e,i=this.instance.element.getElementsByTagName("defs")[0],n=(null==i&&(i=f.default.create("defs"),this.instance.element.appendChild(i)),this.instance.element.getElementById(this.name+"_gradient")),s=(n&&n.parentNode&&n.parentNode.removeChild(n),{id:this.name+"_gradient"}),a=(0==t.type?(s.x1=d.default.int(100*t.xStart/t.radiusStart)+"%",s.y1=d.default.int(100*t.yStart/t.radiusEnd)+"%",s.x2=d.default.int(100*t.xEnd/t.radiusStart)+"%",s.y2=d.default.int(100*t.yEnd/t.radiusEnd)+"%"):(s.fx=d.default.int(100*t.xStart/(2*t.radiusEnd))+"%",s.fy=d.default.int(100*t.yStart/(2*t.radiusEnd))+"%",s.cx=d.default.int(100*t.xEnd/(2*t.radiusEnd))+"%",s.cy=d.default.int(100*t.yEnd/(2*t.radiusEnd))+"%",s.r="50%"),n=f.default.create(0==t.type?"linearGradient":"radialGradient",s),void 0),r=t.offsetlist.length;for(1==t.type&&0<t.radiusStart&&t.offsetlist[0]<t.radiusStart/t.radiusEnd&&(t.offsetlist[0]=t.radiusStart/t.radiusEnd),a=0;a<r;a++)e=f.default.create("stop",{offset:t.offsetlist[a],"stop-color":t.colorList[a]}),n.appendChild(e);return i.appendChild(n),"url(#"+this.name+"_gradient)"}},{key:"redraw",value:function(){var t,e=this.syncSize?this.getWidth():this.width,i=this.syncSize?this.getHeight():this.height,n=(this.instance.width=d.default.int(e),this.instance.height=d.default.int(i),this.syncSize&&(this.instance.scaleX=1/this.scaleX,this.instance.scaleY=1/this.scaleY),this.thickness*(this.syncSize?.5*(this.scaleX+this.scaleY):1));this.instance.moveTo(.5*-n,.5*-n),this.use_canvas&&this.instance.graphics?(0<n?this.instance.graphics.lineStyle(n,this._stroke):this.instance.graphics.stroke_style=null,this._pattern?(t=this.instance.graphics).beginBitmapFill.apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(this._pattern)):this.instance.graphics.beginFill(this._color,this._fill_alpha),0<this._redius?this.instance.graphics.drawRoundRect(.5*n,.5*n,e,i,this._redius,this._redius):this.instance.graphics.drawRect(.5*n,.5*n,e,i),this.instance.graphics.endFill()):f.default.supported?(t=void 0,null==this.instance.element?(this.instance.element=f.default.create("svg",{style:{width:e+"px",height:i+"px"}}),t=f.default.create("rect",{"stroke-dasharray":h.default.isEmpty(this._dash)?"":this._dash,x:0,y:0,rx:this._redius,ry:this._redius,width:e,height:i,style:{fill:this._format_color(this._color),fillOpacity:this._fill_alpha,stroke:this._stroke,strokeWidth:n}}),this.instance.element.appendChild(t)):((t=this.instance.element.getElementsByTagName("rect")[0]).style.stroke=this._stroke,t.style.strokeWidth=n,t.style.fillOpacity=this._fill_alpha,t.style.fill=this._pattern?"url(#"+this._pattern.id+")":this._format_color(this._color),t.setAttribute("stroke-dasharray",h.default.isEmpty(this._dash)?"":this._dash),t.setAttribute("height",i+n),t.setAttribute("width",e+n),t.setAttribute("ry",this._redius),t.setAttribute("rx",this._redius),this._parent&&this._parent.autoSize&&this._parent._updateSize())):null==this.instance.element?this.instance.element=DOMUtil.createDOM("div",{style:{backgroundColor:this._color,width:e+"px",height:i+"px"}}):(this.instance.element.style.backgroundColor=this._color,this.instance.element.style.backgroundImage=this._pattern?"url("+this._pattern.src+")":"",this.instance.element.style.backgroundRepeat=this.repeat)}},{key:"clone",value:function(){var t,e=u.default.create(i);return e.param=this.param,this.origin&&(e.origin=this.origin.clone()),e.setup(this._color,this.width,this.height,this._redius,this.thickness,this._stroke,this._fill_alpha),e.syncSize=this.syncSize,e._dash=this._dash,this._pattern&&!h.default.isEmpty(this._pattern_src)&&((t=new Image).onload=function(){this.onload=null,e.pattern=t},t.src=this._pattern_src),e}},{key:"render",value:function(){!this.syncSize||1==this.scaleX&&1==this.scaleY||this.instance.width==this.getWidth()&&this.instance.height==this.getHeight()||(this.resize=!0),this.resize&&this.redraw(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"render",this).apply(this,arguments),this.resize=!1}},{key:"reset",value:function(){this.instance&&(this.instance.removeFromParent(!0),this.instance=null),this._pattern_src=this._stroke=this.pattern=this._color=null,a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this),this._dash=null,this._redius=0,this._thickness=0,this._fill_alpha=1,this.autoSize=!0,this.syncSize=!1,this.mouseChildren=!1,this.repeat="repeat",this.use_canvas=v.default.useCanvas}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this.use_canvas,this.syncSize,this._dash,this._pattern_src,this._fill_alpha,this._thickness,this._stroke,this._color,this._redius,this._pattern,this.repeat}},{key:"toString",value:function(){return i.name}},{key:"resize",set:function(t){t&&this._resize!=t&&(this.instance&&this.instance instanceof o.default&&this.instance.graphics.reset(),this.dispatchEvent(new y.default(l.default.RESIZE)),this.__checkDisplayUpdate()),this._resize=t},get:function(){return this._resize}},{key:"pattern",get:function(){return this._pattern},set:function(t){var e;this._pattern&&this._pattern.parentNode&&this._pattern.parentNode.removeChild(this._pattern),this.resize=!0,this.__checkDisplayUpdate(),(this._pattern_src=this._pattern=null)!=t&&t instanceof Image&&(this._pattern_src=t.src,e=f.default.supported,0==this._fill_alpha&&(this._fill_alpha=1),this._pattern=t&&(this.use_canvas?[t,this.repeat,this._fill_alpha]:e?f.default.create("pattern",{id:this.name+"_pattern",width:t.width,height:t.height,patternUnits:"userSpaceOnUse"}):t),null==this.instance.element&&this.redraw(),t)&&!this.use_canvas&&e&&this.instance.element&&((e=f.default.create("image",{x:0,y:0,width:t.width,height:t.height})).setAttributeNS(f.default.xlink,"href",t.src),this._pattern.appendChild(e),null==(t=this.instance.element.getElementsByTagName("defs")[0])&&(t=f.default.create("defs"),this.instance.element.appendChild(t)),t.appendChild(this._pattern))}},{key:"redius",get:function(){return this._redius},set:function(t){null!=t&&(t=Math.min(t,Math.ceil(.5*Math.min(this.width,this.height))))!=this._redius&&(this._redius=t,this.resize=!0)}},{key:"dash",get:function(){return this._dash},set:function(t){t!=this._dash&&(this._dash=t,this.resize=!0)}},{key:"color",get:function(){return this._color},set:function(t){this.pattern=null,"string"==typeof t&&h.default.isEmpty(t)?this._fill_alpha=0:0==this._fill_alpha&&(this._fill_alpha=1),null!=t&&this._color!=t&&(this._color=this._format_color(t))}},{key:"strokeColor",get:function(){return this._stroke},set:function(t){null!=t&&t!=this._stroke&&(h.default.isEmpty(t)?this.thickness=0:0==this.thickness&&(this.thickness=1),this._stroke=this._format_color(t),this.resize=!0)}},{key:"thickness",get:function(){return this._thickness},set:function(t){null==t||t==this._thickness||isNaN(t)||(this._thickness=t,this.resize=!0)}}]),i}(r.default);(e.default=i).className="BoxShape"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"easeNone",value:function(t,e,i,n,s){return i*t/n+e}},{key:"easeInQuad",value:function(t,e,i,n,s){return i*(t/=n)*t+e}},{key:"easeOutQuad",value:function(t,e,i,n,s){return-i*(t/=n)*(t-2)+e}},{key:"easeInOutQuad",value:function(t,e,i,n,s){return(t/=n/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}},{key:"easeOutInQuad",value:function(t,e,i,n,s){return t<n/2?a.easeOutQuad(2*t,e,i/2,n,s):a.easeInQuad(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInCubic",value:function(t,e,i,n,s){return i*(t/=n)*t*t+e}},{key:"easeOutCubic",value:function(t,e,i,n,s){return i*((t=t/n-1)*t*t+1)+e}},{key:"easeInOutCubic",value:function(t,e,i,n,s){return(t/=n/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}},{key:"easeOutInCubic",value:function(t,e,i,n,s){return t<n/2?a.easeOutCubic(2*t,e,i/2,n,s):a.easeInCubic(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInQuart",value:function(t,e,i,n,s){return i*(t/=n)*t*t*t+e}},{key:"easeOutQuart",value:function(t,e,i,n,s){return-i*((t=t/n-1)*t*t*t-1)+e}},{key:"easeInOutQuart",value:function(t,e,i,n,s){return(t/=n/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}},{key:"easeOutInQuart",value:function(t,e,i,n,s){return t<n/2?a.easeOutQuart(2*t,e,i/2,n,s):a.easeInQuart(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInQuint",value:function(t,e,i,n,s){return i*(t/=n)*t*t*t*t+e}},{key:"easeOutQuint",value:function(t,e,i,n,s){return i*((t=t/n-1)*t*t*t*t+1)+e}},{key:"easeInOutQuint",value:function(t,e,i,n,s){return(t/=n/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}},{key:"easeOutInQuint",value:function(t,e,i,n,s){return t<n/2?a.easeOutQuint(2*t,e,i/2,n,s):a.easeInQuint(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInSine",value:function(t,e,i,n,s){return-i*Math.cos(t/n*(Math.PI/2))+i+e}},{key:"easeOutSine",value:function(t,e,i,n,s){return i*Math.sin(t/n*(Math.PI/2))+e}},{key:"easeInOutSine",value:function(t,e,i,n,s){return-i/2*(Math.cos(Math.PI*t/n)-1)+e}},{key:"easeOutInSine",value:function(t,e,i,n,s){return t<n/2?a.easeOutSine(2*t,e,i/2,n,s):a.easeInSine(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInExpo",value:function(t,e,i,n,s){return 0==t?e:i*Math.pow(2,10*(t/n-1))+e-.001*i}},{key:"easeOutExpo",value:function(t,e,i,n,s){return t==n?e+i:1.001*i*(1-Math.pow(2,-10*t/n))+e}},{key:"easeInOutExpo",value:function(t,e,i,n,s){return 0==t?e:t==n?e+i:(t/=n/2)<1?i/2*Math.pow(2,10*(t-1))+e-5e-4*i:i/2*1.0005*(2-Math.pow(2,-10*--t))+e}},{key:"easeOutInExpo",value:function(t,e,i,n,s){return t<n/2?a.easeOutExpo(2*t,e,i/2,n,s):a.easeInExpo(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInCirc",value:function(t,e,i,n,s){return-i*(Math.sqrt(1-(t/=n)*t)-1)+e}},{key:"easeOutCirc",value:function(t,e,i,n,s){return i*Math.sqrt(1-(t=t/n-1)*t)+e}},{key:"easeInOutCirc",value:function(t,e,i,n,s){return(t/=n/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}},{key:"easeOutInCirc",value:function(t,e,i,n,s){return t<n/2?a.easeOutCirc(2*t,e,i/2,n,s):a.easeInCirc(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInElastic",value:function(t,e,i,n,s){var a,r;return 0==t?e:1==(t/=n)?e+i:(a=!Boolean(s)||isNaN(s.period)?.3*n:s.period,r=void 0,s=!Boolean(s)||isNaN(s.amplitude)?0:s.amplitude,r=!Boolean(s)||s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),-(s*Math.pow(2,10*--t)*Math.sin((t*n-r)*(2*Math.PI)/a))+e)}},{key:"easeOutElastic",value:function(t,e,i,n,s){var a,r;return 0==t?e:1==(t/=n)?e+i:(a=!Boolean(s)||isNaN(s.period)?.3*n:s.period,r=void 0,s=!Boolean(s)||isNaN(s.amplitude)?0:s.amplitude,r=!Boolean(s)||s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/a)+i+e)}},{key:"easeInOutElastic",value:function(t,e,i,n,s){var a,r;return 0==t?e:2==(t/=n/2)?e+i:(a=!Boolean(s)||isNaN(s.period)?n*(.3*1.5):s.period,r=void 0,s=!Boolean(s)||isNaN(s.amplitude)?0:s.amplitude,r=!Boolean(s)||s<Math.abs(i)?(s=i,a/4):a/(2*Math.PI)*Math.asin(i/s),t<1?s*Math.pow(2,10*--t)*Math.sin((t*n-r)*(2*Math.PI)/a)*-.5+e:s*Math.pow(2,-10*--t)*Math.sin((t*n-r)*(2*Math.PI)/a)*.5+i+e)}},{key:"easeOutInElastic",value:function(t,e,i,n,s){return t<n/2?a.easeOutElastic(2*t,e,i/2,n,s):a.easeInElastic(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInBack",value:function(t,e,i,n,s){s=!Boolean(s)||isNaN(s.overshoot)?1.70158:s.overshoot;return i*(t/=n)*t*((s+1)*t-s)+e}},{key:"easeOutBack",value:function(t,e,i,n,s){s=!Boolean(s)||isNaN(s.overshoot)?1.70158:s.overshoot;return i*((t=t/n-1)*t*((s+1)*t+s)+1)+e}},{key:"easeInOutBack",value:function(t,e,i,n,s){s=!Boolean(s)||isNaN(s.overshoot)?1.70158:s.overshoot;return(t/=n/2)<1?i/2*(t*t*((1+(s*=1.525))*t-s))+e:i/2*((t-=2)*t*((1+(s*=1.525))*t+s)+2)+e}},{key:"easeOutInBack",value:function(t,e,i,n,s){return t<n/2?a.easeOutBack(2*t,e,i/2,n,s):a.easeInBack(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInBounce",value:function(t,e,i,n,s){return i-a.easeOutBounce(n-t,0,i,n)+e}},{key:"easeOutBounce",value:function(t,e,i,n,s){return(t/=n)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}},{key:"easeInOutBounce",value:function(t,e,i,n,s){return t<n/2?.5*a.easeInBounce(2*t,0,i,n)+e:.5*a.easeOutBounce(2*t-n,0,i,n)+.5*i+e}},{key:"easeOutInBounce",value:function(t,e,i,n,s){return t<n/2?a.easeOutBounce(2*t,e,i/2,n,s):a.easeInBounce(2*t-n,e+i/2,i/2,n,s)}},{key:"easeInStrong",value:function(t,e,i,n,s){return i*(t/=n)*t*t*t*t+e}},{key:"easeOutStrong",value:function(t,e,i,n,s){return i*((t=t/n-1)*t*t*t*t+1)+e}},{key:"easeInOutStrong",value:function(t,e,i,n,s){return(t/=.5*n)<1?.5*i*t*t*t*t*t+e:.5*i*((t-=2)*t*t*t*t+2)+e}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}(e.default=s).className="Easing"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=h(i(19)),o=h(i(1)),l=h(i(4));function h(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(t){var e;if(this instanceof i)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._start_time=0,e._is_start=!1,e._interval_id=null,e._frame_rate=t||Math.ceil(1e3/i.fps),e.__handler=o.default.delegate(e._onTimeHandler,e),e;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setFrameRate",value:function(t){this._frame_rate=t,this._is_start&&this.start()}},{key:"getFrameRate",value:function(){return this._frame_rate}},{key:"isStart",value:function(){return this._is_start}},{key:"_onTimeHandler",value:function(){this.dispatchEvent(new l.default(i.TIME))}},{key:"start",value:function(){this._frame_rate<=0||(null!=this._interval_id&&clearInterval(this._interval_id),this._interval_id=setInterval(this.__handler,this._frame_rate),this._start_time=(new Date).getTime(),this._is_start=!0)}},{key:"stop",value:function(){null!=this._interval_id&&clearInterval(this._interval_id),this._interval_id=null,this._is_start=!1,this._start_time=0}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),this.stop(),delete this._start_time,this._interval_id,this._frame_rate,this._is_start}},{key:"toString",value:function(){return i.name}}],[{key:"delayCall",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null;if(!(t<=0||null==e))return s&&clearTimeout(s),setTimeout(function(){e.apply(n,i)},1e3*t)}}]),i}(r.default);(e.default=i).className="Timer",i.TIME="timer_count",i.fps=60},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=h(i(12)),o=h(i(27)),l=h(i(23));function h(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._defs=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"init",value:function(){return this.element||(this.element=o.default.create("svg"),this._defs=o.default.create("defs"),this.element.appendChild(this._defs)),this}},{key:"addClipPath",value:function(t){this.getClipPath(t)||this._defs.appendChild(o.default.create("clipPath",{id:t.id+l.default.CILP,innerHTML:l.default.string(t)}))}},{key:"removeClipPath",value:function(t){t=this.getClipPath(t);t&&this._defs.removeChild(t)}},{key:"getClipPath",value:function(t){return t?(t=t.id+l.default.CILP,o.default.getElementsById(this._defs,"clipPath",t)):null}},{key:"reset",value:function(){this._defs=null,a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this)}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._defs}},{key:"defs",get:function(){return this._defs}}]),i}(r.default);(e.default=i).className="DefsNode"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var i=i(36);i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._auto_dispose=!0,t._register_instance=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"initialize",value:function(){}},{key:"reset",value:function(){this._register_instance=null,this._auto_dispose=!0,a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this)}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._register_instance,this._auto_dispose}},{key:"toString",value:function(){return i.name}},{key:"instance",get:function(){return this._register_instance},set:function(t){var e=null;null!=this._register_instance&&(this._register_instance.parent&&(e=this._register_instance.getIndex(),e=Math.max(0,e),this._register_instance.removeFromParent(this._auto_dispose)),this._register_instance=null),null!=t&&(this._register_instance=t,null==e||isNaN(""+e)?this.addChild(this._register_instance):this.addChildAt(this._register_instance,e),this.initialize())}}]),i}(((i=i)&&i.__esModule?i:{default:i}).default);(e.default=i).className="UIBase"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=u(i(14)),o=u(i(10)),l=u(i(4)),h=u(i(1));function u(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).space=0,t.delta=.05,t.minSize=12,t.useWheel=t.isScale=t.autoVisible=!0,t._offset=t._rect=t._target=t._up_btn=t._down_btn=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t,e,i,n,s,a,r,o,l){this._rect=e,this._target=t,this.useWheel&&(this._target.mouseEnabled=!0),this.bar=i,this.bottom=n,this._offset=r,this.useUpdate=!0,this.isY=s||!1,this.isScale=a||!1,o&&(this._up_btn=o),l&&(this._down_btn=l),this._min=0,this._value=0,this.resetRange(),this.initLayout(this._offset)}},{key:"resetRange",value:function(t){this.max=Math.max(0,Math.ceil(this.isY?this._target.getHeight()-this._rect.height:this._target.getWidth()-this._rect.width));var e=!(0==this._max&&this.autoVisible);this.bottom.visible=this.bar.visible=e,this._down_btn&&(this._down_btn.visible=e),this._up_btn&&(this._up_btn.visible=e),t&&this.updataSync()}},{key:"initLayout",value:function(t){this._target.x=this._rect.x,this._target.y=this._rect.y;var e=this._up_btn?this._up_btn.getWidth():0,i=this._up_btn?this._up_btn.getHeight():0;this.bottom.x=(this.isY?this._rect.x+this._rect.width+this.space:this._rect.x+e)+(t?t.x:0),this.bottom.y=(this.isY?this._rect.y+i:this._rect.y+this._rect.height+this.space)+(t?t.y:0),this.isY?this.bottom.height=this._rect.height-2*i:this.bottom.width=this._rect.width-2*e,this.initialize(),this._up_btn&&(this.contains(this._up_btn)||this.addChild(this._up_btn),this._up_btn.moveTo((this.isY?this._rect.x+this._rect.width+this.space:this._rect.x)+(t?t.x:0),(this.isY?this._rect.y:this._rect.y+this._rect.height+this.space)+(t?t.y:0))),this._down_btn&&(this.contains(this._down_btn)||this.addChild(this._down_btn),this._down_btn.moveTo((this.isY?this._rect.x+this._rect.width+this.space:this._rect.x+this._rect.width-e)+(t?t.x:0),(this.isY?this._rect.y+this._rect.height-i:this._rect.y+this._rect.height+this.space)+(t?t.y:0)))}},{key:"_reset_handler",value:function(t){t.params&&(this._rect.width=t.params.hasOwnProperty("w")?t.params.w:this._rect.width,this._rect.height=t.params.hasOwnProperty("h")?t.params.h:this._rect.height,this.initLayout(this._offset),this.updataSync()),t.label&&(t.label.hasOwnProperty("r")&&(this.rotation=t.label.r),t.label.hasOwnProperty("x")&&(this.x=t.label.x),t.label.hasOwnProperty("y"))&&(this.y=t.label.y)}},{key:"_activate_bar",value:function(t){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"_activate_bar",this).call(this,t),t?(this._target&&(this._target.addEventListener(l.default.RESIZE,h.default.delegate(this._reset_handler,this),this.name),this._target.addEventListener(r.default.RESIZE,h.default.delegate(this.resetRange,this),this.name),this._target.addEventListener(o.default.DRAG_MOVE,h.default.delegate(this.dragHandler,this),this.name),this._target.addEventListener(r.default.RESET_INSTANCE,h.default.delegate(this.resetRange,this),this.name),this.useWheel)&&this._target.addEventListener(o.default.MOUSE_WHEEL,h.default.delegate(this.wheelHandler,this),this.name),this._up_btn&&this._up_btn.addEventListener(o.default.MOUSE_CLICK,h.default.delegate(this._clickUpBtn,this)),this._down_btn&&this._down_btn.addEventListener(o.default.MOUSE_CLICK,h.default.delegate(this._clickDownBtn,this))):(this._target&&(this._target.removeEventListener(l.default.RESIZE,null,this.name),this._target.removeEventListener(r.default.RESIZE,null,this.name),this._target.removeEventListener(o.default.DRAG_MOVE,null,this.name),this._target.removeEventListener(o.default.MOUSE_WHEEL,null,this.name),this._target.removeEventListener(r.default.RESET_INSTANCE,null,this.name)),this._up_btn&&this._up_btn.removeEventListener(o.default.MOUSE_CLICK),this._down_btn&&this._down_btn.removeEventListener(o.default.MOUSE_CLICK))}},{key:"dragHandler",value:function(t){this.value=this.isY?this._rect.y-this._target.y:this._rect.x-this._target.x}},{key:"wheelHandler",value:function(t){this.updataSync(this._value+(t.delta<0?1:-1)*Math.max(1,Math.ceil(this.delta*this._max)))}},{key:"barSync",value:function(){this.isScale&&(this.isY?this.bar.height=Math.max(this.bottom.height*(1-this.max/this.bottom.height),this.minSize):this.bar.width=Math.max(this.bottom.width*(1-this.max/this.bottom.width),this.minSize)),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"barSync",this).call(this)}},{key:"dataSync",value:function(t){null==t&&a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dataSync",this).call(this),this.isY?this._target.y=this._rect.y-this._value:this._target.x=this._rect.x-this._value}},{key:"updataSync",value:function(t){this.value=null==t?this.isY?this._rect.y-this._target.y:this._rect.x-this._target.x:t,this.dataSync(!0)}},{key:"_clickUpBtn",value:function(t){this.updataSync(this._value-Math.max(1,Math.ceil(this.delta*this._max*2)))}},{key:"_clickDownBtn",value:function(t){this.updataSync(this._value+Math.max(1,Math.ceil(this.delta*this._max*2)))}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._offset,this._target,this._up_btn,this._down_btn,this._rect,delete this.useWheel,this.space,this.delta,this.minSize,this.isScale,this.autoVisible}},{key:"upBtn",get:function(){return this._up_btn},set:function(t){null!=t&&t!=this._up_btn&&(this._up_btn=t)}},{key:"downBtn",get:function(){return this._down_btn},set:function(t){null!=t&&t!=this._down_btn&&(this._down_btn=t)}},{key:"target",get:function(){return this._target},set:function(t){var e;null!=t&&t!=this._target&&(e=this.enable,this.enable=!1,this._target=t,this._target.x=this._rect.x,this._target.y=this._rect.y,this.enable=e,this.dataSync(!0))}}]),i}(u(i(72)).default);(e.default=i).className="SlideBar"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=d(i(5)),o=d(i(10)),l=d(i(3)),h=d(i(22)),u=d(i(1)),c=d(i(4));function d(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._enable=t.isInitialized=t.useUpdate=t.isY=!1,t.mouseEnabled=t.mouseChildren=!0,t._mousePos=t.bar=t.bottom=null,t._min=t._max=t._value=0,t.isOrder=!0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t,e,i,n,s){var a=5<arguments.length&&void 0!==arguments[5]&&arguments[5],r=6<arguments.length&&void 0!==arguments[6]&&arguments[6];this.bar=n,this.bottom=s,this._min=t,this._max=e,this._value=i,this.isY=Boolean(a),this.useUpdate=Boolean(r),this.bar&&this.bottom&&this.initialize()}},{key:"initialize",value:function(){this.contains(this.bottom)||this.addChild(this.bottom),this.contains(this.bar)||this.addChild(this.bar),this.isY?(this.bar.x=this.bottom.x+.5*(this.bottom.getWidth()-this.bar.getWidth()),this.bar.y=this.bottom.y+this.bottom.getHeight()-this.bar.getHeight()/2):(this.bar.x=this.bottom.x+this.bar.getWidth()/2,this.bar.y=this.bottom.y+.5*(this.bottom.getHeight()-this.bar.getHeight())),this.enable=this.isInitialized=!0,this.barSync()}},{key:"_activate_bar",value:function(t){null!=this.bar&&null!=this.bottom&&(this.bar.mouseEnabled=this.bottom.mouseEnabled=this.bar.buttonMode=t,(this.bar.breakTouch=t)?(this.bar.addEventListener(o.default.MOUSE_DOWN,u.default.delegate(this._mouse_down_bar,this)),0<this.bottom.alpha&&this.bottom.visible&&this.bottom.addEventListener(o.default.MOUSE_DOWN,u.default.delegate(this._mouse_move_handler,this))):(this.bar.removeEventListener(o.default.MOUSE_DOWN),this.bottom.removeEventListener(o.default.MOUSE_DOWN)))}},{key:"_mouse_down_bar",value:function(t){this._mousePos=this.bar.globalToLocal(t.mouseX,t.mouseY),(this.stage||h.default.current).addEventListener(o.default.MOUSE_MOVE,u.default.delegate(this._mouse_move_handler,this),this.name),(this.stage||h.default.current).addEventListener(o.default.MOUSE_UP,u.default.delegate(this._mouse_up_bar,this),this.name)}},{key:"_mouse_up_bar",value:function(t){(this.stage||h.default.current).removeEventListener(o.default.MOUSE_MOVE,null,this.name),(this.stage||h.default.current).removeEventListener(o.default.MOUSE_UP,null,this.name),this._mousePos=null,this.dataSync()}},{key:"_mouse_move_handler",value:function(t){var e=void 0,e=(this._mousePos&&(e=this.bar.origin?this._mousePos.subtract(this.bar.origin):this._mousePos.clone()),this.globalToLocal((t||this.stage||h.default.current).mouseX-(e?e.x:0),(t||this.stage||h.default.current).mouseY-(e?e.y:0))),i=e.x,e=e.y;this.isY?e<=this.bottom.y?this.bar.y=this.bottom.y:e>=this.bottom.y+this.bottom.getHeight()-this.bar.getHeight()?this.bar.y=this.bottom.y+this.bottom.getHeight()-this.bar.getHeight():this.bar.y+=e-this.bar.y:i<=this.bottom.x?this.bar.x=this.bottom.x:i>=this.bottom.x+this.bottom.getWidth()-this.bar.getWidth()?this.bar.x=this.bottom.x+this.bottom.getWidth()-this.bar.getWidth():this.bar.x+=i-this.bar.x,!this.useUpdate&&t.target!=this.bottom||this.dataSync()}},{key:"dataSync",value:function(){var t=0,t=this.isY?l.default.format((this.bar.y-this.bottom.y)/(this.bottom.getHeight()-this.bar.getHeight())*(this._max-this._min)):l.default.format((this.bar.x-this.bottom.x)/(this.bottom.getWidth()-this.bar.getWidth())*(this._max-this._min));this.isOrder?this._value=this._min+t>=this._max?this._max:this._min+t:this._value=this._max-t<=this._min?this._min:this._max-t,this.dispatchEvent(new c.default(i.CHANGE,this._value,null==this._mousePos))}},{key:"barSync",value:function(){var t;this.isInitialized&&null!=this.bar&&null!=this.bottom&&(t=0,t=this.isOrder?this._value-this._min:this._max-this._value,this.isY?this.bar.y=t/(this._max-this._min)*(this.bottom.getHeight()-this.bar.getHeight())+this.bottom.y:this.bar.x=t/(this._max-this._min)*(this.bottom.getWidth()-this.bar.getWidth())+this.bottom.x)}},{key:"dispose",value:function(){this.enable=!1,a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._mousePos,this._enable,this.isInitialized,this.useUpdate,this.isY,this._min,this._max,this._value,this.bar,this.bottom,this.isOrder}},{key:"enable",get:function(){return this._enable},set:function(t){null!=t&&t!=this._enable&&(this._enable=t,this._activate_bar(this._enable))}},{key:"min",get:function(){return this._min},set:function(t){null!=t&&t!=this._min&&(this._min=t,this.barSync())}},{key:"max",get:function(){return this._max},set:function(t){null!=t&&t!=this._max&&(this._max=t,this.barSync())}},{key:"value",get:function(){return this._value},set:function(t){null!=t&&(t=l.default.clamp(t,this._min,this._max))!=this._value&&(this._value=t,this.barSync())}}]),i}(r.default);(e.default=i).CHANGE="moveBarChange",i.className="MoveBar"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"check",value:function(){var t=(new Date).getTime(),e=t-a._time;return a._time=t,e<a._interval&&!(a._time=0)}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}(e.default=s)._time=0,s._interval=300},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=a(i(20)),c=a(i(1)),d=a(i(37)),o=a(i(0)),f=a(i(31)),_=a(i(17)),p=a(i(7)),l=a(i(46)),v=a(i(18)),y=a(i(26));function a(t){return t&&t.__esModule?t:{default:t}}n(h,null,[{key:"getButton",value:function(t,e,i,n,s,a,r,o){t=null==t?0:t,e=null==e?0:e,i=null==i?0:i,n=null==n?"#FF9E26":_.default.formatColor(n),s=null==s?"#FF7C0D":_.default.formatColor(s);var l=new d.default,h=p.default.c("bs"),u=0==e&&0==i,u=(e=Math.max(2*t,e),i=Math.max(2*t,i),u?new y.default(1,t,t,t,t,[.1,1],[n,s],.25*t,t):new y.default(0,0,0,0,i,[.1,.9],[n,s],e,i));return h.setup(u,e,i,t,a,r),h.origin={x:.5*e,y:.5*i},l.instance=h,!c.default.isPC||null!=o&&0!=o?l.setup([p.default.c("ef",[f.default.SCALE,1,.15,0,v.default.getEaseName(v.default.CIRC,v.default.IN)])],null,[p.default.c("ef",[f.default.SCALE,.89,.11,0,v.default.getEaseName(v.default.CIRC,v.default.OUT)])]):l.setup([p.default.c("ef",[f.default.MOVE,"{0,0}",.15,0,v.default.getEaseName(v.default.CIRC,v.default.IN)]),p.default.c("ef",[f.default.SHADOW,[4,70,10,"#222222",.5,t],.15,0,v.default.getEaseName(v.default.CIRC,v.default.IN)])],[p.default.c("ef",[f.default.MOVE,"{0,3}",.15,0,v.default.getEaseName(v.default.CIRC,v.default.IN)]),p.default.c("ef",[f.default.SHADOW,[0,70,0,"#000000",.5,t],.15,0,v.default.getEaseName(v.default.CIRC,v.default.IN)])]),l}},{key:"getImage",value:function(t,e,i,n){var s,a;return o.default.isEmpty(t)?null:(s=void 0,a=new Image,i||(s=p.default.c("do")),l.default.CORS&&t&&0==t.indexOf("http")&&(a.crossOrigin=c.default.crossdomain,1<l.default.CORS)&&(t=(t.indexOf("?")<0?t:t.split("?")[0])+"?"+Math.random()),a.src=t,a.complete?(i||s.setInstance(a),s=i?a:s,e&&e(s),s):(a.onload=function(){a.onerror=a.onload=null,i||s.setInstance(a),e&&e(i?a:s),i=n=null},a.onerror=function(){a.onerror=a.onload=null,n&&n(i?null:s),i=n=null},s||a))}},{key:"loadImage",value:function(i){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return new Promise(function(t){if(!i||""==i.trim())return t(null);i=i.trim();var e=new Image;if(n&&(n.cors&&(e.crossOrigin="anonymous"),n.random)&&(i=(i.indexOf("?")<0?i:i.split("?")[0])+"?"+Math.random()),e.src=i,e.complete)return t(e);e.onload=function(){e.onerror=e.onload=null,t(e)},e.onerror=function(){e.onerror=e.onload=null,t(null)}})}},{key:"queue",value:function(n){var s,a,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return n&&n.length?(s=0,a=n.length,r=[],new Promise(async function t(e){if(s==a)return e(r);var i=await h.loadImage(n[s],o);i&&r.push(i),s++,t(e)})):new Error("[QuickUI] wrong args")}},{key:"rectDisplay",value:function(t,e,i,n){var s,a;if(t&&e)return n=null==n?c.default.useCanvas:n,s="string"!=typeof(i=i||"#000000")&&(i instanceof Image||"HTMLImageElement"==ClassUtil.getQualifiedClassName(i)),a=p.default.c("do",null,n),n?s?(a.setInstance(i),a.repeat(t,e)):(a.graphics.lineStyle(0),a.graphics.beginFill(i),a.graphics.drawRect(0,0,t,e),a.graphics.endFill()):(n={width:t+"px",height:e+"px",overflow:"hidden"},s?n.background="url("+i.src+")":n.backgroundColor=i,a.element=r.default.createDOM("div",{style:n})),a.setSize(t,e),a}}]);i=h;function h(){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){t.exports=i(76)},function(t,e,i){"use strict";var n={};n.SystemType=i(40).default,n.MathUtil=i(3).default,n.Vector=i(78).default,n.ClassUtil=i(11).default,n.ObjectUtil=i(8).default,n.StringUtil=i(0).default,n.ColorUtil=i(17).default,n.CanvasUtil=i(24).default,n.WordUtil=i(52).default,n.DOMUtil=i(20).default,n.ObjectPool=i(2).default,n.CollisionUtil=i(29).default,n.PropUtil=i(79).default,n.SVGUtil=i(27).default,n.UniqueUtil=i(13).default,n.UIOrientation=i(49).default,n.Compile=i(54).default,n.SVGLabel=i(33).default,n.ImageUtil=i(80).default,n.ContextVO=i(28).default,n.GraphicsVO=i(41).default,n.JSONUtil=i(81).default,n.Point=i(6).default,n.Rectangle=i(9).default,n.Matrix=i(55).default,n.GColor=i(26).default,n.Global=i(1).default,n.Event=i(4).default,n.Signal=i(82).default,n.EventDispatcher=i(19).default,n.Address=i(83).default,n.QRCode=i(84).default,n.Storage=i(53).default,n.MovieManager=i(62).default,n.DropShadowFilter=i(48).default,n.AssetManager=i(30).default,n.BlendMode=i(43).default,n.ColorTransform=i(85).default,n.FontManager=i(35).default,n.File=i(86).default,n.RenderObject=i(56).default,n.Timer=i(68).default,n.Source=i(16).default,n.AssetUtil=i(57).default,n.Ajax=i(45).default,n.Graphics=i(32).default,n.DisplayBase=i(14).default,n.DOMDisplay=i(12).default,n.DOMMovie=i(63).default,n.DisplayObject=i(15).default,n.MediaManager=i(59).default,n.Media=i(25).default,n.Video=i(47).default,n.Sound=i(60).default,n.WebAudio=i(58).default,n.DisplayObjectContainer=i(5).default,n.StageEvent=i(10).default,n.DefsNode=i(69).default,n.UIBase=i(70).default,n.ShapeVO=i(23).default,n.Sprite=i(36).default,n.VideoPlayer=i(87).default,n.URLLoader=i(34).default,n.Loader=i(46).default,n.InputText=i(65).default,n.BitmapFont=i(61).default,n.Effect=i(31).default,n.BoxShape=i(66).default,n.TextField=i(64).default,n.SVGText=i(88).default,n.BitmapText=i(89).default,n.Stage=i(22).default,n.MovieClip=i(44).default,n.Factory=i(7).default,n.Button=i(37).default,n.Easing=i(67).default,n.TweenLite=i(18).default,n.LoadingClip=i(90).default,n.Calendar=i(91).default,n.List=i(92).default,n.ComboList=i(93).default,n.MoveBar=i(72).default,n.ScrollTouchList=i(94).default,n.Shape=i(95).default,n.SlideBar=i(71).default,n.SwitchButton=i(96).default,n.TouchScale=i(97).default,n.Transformer=i(98).default,n.UIContainer=i(39).default,n.BlobUtil=i(99).default,n.ArrayUtil=i(21).default,n.DisplayUtil=i(50).default,n.DoubleClick=i(73).default,n.LayoutUtil=i(38).default,n.QuickUI=i(74).default,n.ShapeUtil=i(42).default,n.RouteUtil=i(100).default,n.Popup=i(101).default,n.TimeUtil=i(51).default,n.MaxRectsBinPack=i(102).default,n.MySocket=i(103).default,t.exports=n},function(t,e){var i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(3),a=(i=i)&&i.__esModule?i:{default:i};function r(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this,n=r;if(!(i instanceof n))throw new TypeError("Cannot call a class as a function");this.x=t,this.y=e}n(r,[{key:"set",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;this.x=t,this.y=e}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"mul",value:function(t){return this.x*=t,this.y*=t,this}},{key:"div",value:function(t){return t||console.log("Division by zero!"),this.x/=t,this.y/=t,this}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"normalize",value:function(){var t=this.mag();return t&&this.div(t),this}},{key:"angle",value:function(){return Math.atan2(this.y,this.x)}},{key:"setMag",value:function(t){var e=this.angle();return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this}},{key:"setAngle",value:function(t){var e=this.mag();return this.x=e*Math.cos(t),this.y=e*Math.sin(t),this}},{key:"rotate",value:function(t){return this.setAngle(this.angle()+t),this}},{key:"limit",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=this.mag();return this.setMag(a.default.clamp(i,e,t)),this}},{key:"angleBetween",value:function(t){return this.angle()-t.angle()}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"dist",value:function(t){var e=this.x-t.x,t=this.y-t.y;return Math.sqrt(e*e+t*t)}},{key:"random",value:function(){return this.set(1,1),this.setAngle(Math.random()*Math.PI*2),this}},{key:"clone",value:function(){return new r(this.x,this.y)}}]),e.default=r},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(s,null,[{key:"parseProperties",value:function(t){for(var e,i,n={},s=t.replace(/[\r\n]/g,"\n").split("\n"),a=void 0,r=void 0,a=0;a<s.length;a++)null==(r=s[a])||r.length<3||"#"==r.charAt(0)||(i=s[a].indexOf("="))<0||(e=StringUtil.trim(r.substring(0,i)),i=StringUtil.trim(r.substring(i+1,r.length)),n[e]=i);return n}}]),e.default=s},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(l,null,[{key:"load",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=(t=t.trim(),new Image);return e&&("boolean"!=typeof e&&!e.cors||(i.crossOrigin="anonymous"),"boolean"!=typeof e&&!e.random||(t=(t.indexOf("?")<0?t:t.split("?")[0])+"?"+Math.random())),i.src=t,l.check(i)}},{key:"check",value:function(e){return new Promise(function(t){if(e.complete)return t(e);e.onload=function(){e.onerror=e.onload=null,t(e)},e.onerror=function(){e.onerror=e.onload=null,t(null)}})}},{key:"queue",value:function(n){var s,a,r,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return n&&n.length?(s=0,a=n.length,r=[],new Promise(async function t(e){if(s==a)return e(r);var i=void 0;(i=n[s]&&""!=n[s].trim()?await l.load(n[s],o):i)&&r.push(i),s++,t(e)})):new Error("[ImageUtil] wrong args")}}]);var s=l;function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function")}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(21),m=(i=i)&&i.__esModule?i:{default:i};n(b,null,[{key:"encode",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(t){var i,n,s,a=null==e,r=t instanceof Array,e=a?[]:e,o=void 0,l=void 0,h=void 0,u=void 0,c=void 0,d=void 0,l=[];if(1<(s=(t=r?t:[t]).length)){var f=!0,_=!1,p=void 0;try{for(var v,y=t[Symbol.iterator]();!(f=(v=y.next()).done);f=!0)c=v.value,d=Object.keys(c||{}),l=l.concat(d)}catch(t){_=!0,p=t}finally{try{!f&&y.return&&y.return()}finally{if(_)throw p}}l=m.default.createUniqueCopy(l)}else l=Object.keys(s&&t[0]?t[0]:{});for(_=l.map(function(t){return 0<=e.indexOf(t)?e.indexOf(t):(e.push(t),e.length-1)}),h=l.length,u=Array(s*h),d=c=0;c<s;++c)for(i=t[c],o=0;o<h;)n=i[l[o++]],u[d++]="object"==(void 0===n?"undefined":g(n))?b.encode(n,e):n;p=[[h].concat(_,u),r?1:0];return a&&p.push(e.reverse()),p}}},{key:"discode",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(!(!t||t.length<2||3<t.length)&&t[0]&&t[0].length){for(var i,n,s,a=void 0,r=void 0,o=void 0,l=void 0,h=void 0,e=e||t[2].reverse(),u=(s=t[0]).length,c=s[0],a=Array((u-c-1)/c||0),l=1+c,h=0;l<u;)for(a[h++]=o={},r=0;r<c;)i=e[s[++r]],null!=(n=s[l++])&&(o[i]="object"==(void 0===n?"undefined":g(n))?b.discode(n,e):n);return t[1]?a:a[0]}}}]);i=b;function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(0),h=(i=i)&&i.__esModule?i:{default:i};n(a,[{key:"once",value:function(n){var s=this;return h.default.isEmpty(n)?null:new Promise(function(t,e){var i=s._handlers[n];i||(s._handlers[n]=i=[]),i.push({f:t,t:null,o:!0})})}},{key:"on",value:function(t,e){var i,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return!(h.default.isEmpty(t)||!e||((i=this._handlers[t])||(this._handlers[t]=i=[]),i.push({f:e,t:n}),0))}},{key:"off",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(h.default.isEmpty(t))return!1;var n=this._handlers[t];if(!n)return!1;if(!e)return!(this._handlers[t]=null);for(var s,a=void 0,r=n.length,a=0;a<r;a++)if((s=n[a])&&s.f||(n.splice(a,1),r--,a--),s.f==e&&(!i||s.t==i)){n.splice(a,1);break}return!0}},{key:"send",value:function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(h.default.isEmpty(t))return!1;var s=this._handlers[t];if(!s||!s.length)return!1;for(var a=void 0,r=void 0,o=(s=s.slice()).length,l=[],a=1;a<arguments.length;a++)l.push(arguments[a]);for(a=0;a<o;a++)(r=s[a]).f&&(r.f.apply(r.t||this,l),r.o)&&this.off(t,r.f);return!0}}]);i=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._handlers={}}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=h(i(19)),o=h(i(4)),l=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._target=t._onHashChange=t._value=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"_hashChangeHandler",value:function(){var t=l.default.root.location.hash.replace("#","");t!=this._value&&(this._value=t,this.dispatchEvent(new o.default(i.CHANGE,this._value)))}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),this.target=null,this._onHashChange=this._value=null,delete this._target,this._onHashChange,this._value}},{key:"target",get:function(){return this._target},set:function(t){t&&t==this._target||(null==this._onHashChange&&(this._onHashChange=l.default.delegate(this._hashChangeHandler,this)),this._target&&this._target.removeEventListener("hashchange",this._onHashChange),null!=(this._target=t)&&this._target.addEventListener("hashchange",this._onHashChange))}}],[{key:"getInstance",value:function(){return i._instance||((i._instance=new i).target=l.default.root),i._instance}}]),i}(r.default);(e.default=i).className="Address",i.CHANGE="addressValueChange",i._instance=null},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(28),c=(i=i)&&i.__esModule?i:{default:i};function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(o,[{key:"makeCode",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return t&&this.option&&!this.option.text&&(this.option.text=t),this.option&&this.option.text&&(this.model=new r(this._getTypeNumber(this.option.text,this.option.correctLevel),this.option.correctLevel),this.model.addData(this.option.text),this.model.make()),this}},{key:"draw",value:function(t){if(t){t instanceof c.default&&(t.strict=!0);for(var e=this.model.getModuleCount(),i=this.option.width/e,n=this.option.height/e,s=Math.round(i),a=Math.round(n),r=0;r<e;r++)for(var o=0;o<e;o++){var l=this.model.isDark(r,o),h=o*i,u=r*n;t.strokeStyle=l?this.option.colorDark:this.option.colorLight,t.lineWidth=1,t.fillStyle=l?this.option.colorDark:this.option.colorLight,t.fillRect(h,u,i,n),t.strokeRect(Math.floor(h)+.5,Math.floor(u)+.5,s,a),t.strokeRect(Math.ceil(h)-.5,Math.ceil(u)-.5,s,a)}}}},{key:"_getTypeNumber",value:function(t,e){for(var i=1,n=this._getUTF8Length(t),s=0,a=o.QRCodeLimitLength.length;s<=a;s++){var r=0;switch(e){case d.L:r=o.QRCodeLimitLength[s][0];break;case d.M:r=o.QRCodeLimitLength[s][1];break;case d.Q:r=o.QRCodeLimitLength[s][2];break;case d.H:r=o.QRCodeLimitLength[s][3]}if(n<=r)break;i++}if(i>o.QRCodeLimitLength.length)throw new Error("Too long data");return i}},{key:"_getUTF8Length",value:function(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}}]);i=o;function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;a(this,o),this.option={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:2,text:t},this.model=null,e&&Object.assign(this.option,e),this.makeCode()}(e.default=i).QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];n(l,[{key:"addData",value:function(t){t=new m(t);this.dataList.push(t),this.dataCache=null}},{key:"isDark",value:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}},{key:"getModuleCount",value:function(){return this.moduleCount}},{key:"make",value:function(){this.makeImpl(!1,this.getBestMaskPattern())}},{key:"makeImpl",value:function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[i][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),7<=this.typeNumber&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}},{key:"setupPositionProbePattern",value:function(t,e){for(var i=-1;i<=7;i++)if(!(t+i<=-1||this.moduleCount<=t+i))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+i][e+n]=0<=i&&i<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=n&&n<=4)}},{key:"getBestMaskPattern",value:function(){for(var t=0,e=0,i=0;i<8;i++){this.makeImpl(!0,i);var n=v.getLostPoint(this);(0==i||n<t)&&(t=n,e=i)}return e}},{key:"createMovieClip",value:function(t,e,i){var n=t.createEmptyMovieClip(e,i);this.make();for(var s=0;s<this.modules.length;s++)for(var a=+s,r=0;r<this.modules[s].length;r++){var o=+r;this.modules[s][r]&&(n.beginFill(0,100),n.moveTo(o,a),n.lineTo(1+o,a),n.lineTo(1+o,1+a),n.lineTo(o,1+a),n.endFill())}return n}},{key:"setupTimingPattern",value:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)}},{key:"setupPositionAdjustPattern",value:function(){for(var t=v.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var i=0;i<t.length;i++){var n=t[e],s=t[i];if(null==this.modules[n][s])for(var a=-2;a<=2;a++)for(var r=-2;r<=2;r++)this.modules[n+a][s+r]=-2==a||2==a||-2==r||2==r||0==a&&0==r}}},{key:"setupTypeNumber",value:function(t){for(var e=v.getBCHTypeNumber(this.typeNumber),i=0;i<18;i++){var n=!t&&1==(e>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=n}for(i=0;i<18;i++){n=!t&&1==(e>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=n}}},{key:"setupTypeInfo",value:function(t,e){for(var e=this.errorCorrectLevel<<3|e,i=v.getBCHTypeInfo(e),n=0;n<15;n++){var s=!t&&1==(i>>n&1);n<6?this.modules[n][8]=s:n<8?this.modules[n+1][8]=s:this.modules[this.moduleCount-15+n][8]=s}for(n=0;n<15;n++){s=!t&&1==(i>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=s:n<9?this.modules[8][15-n-1+1]=s:this.modules[8][15-n-1]=s}this.modules[this.moduleCount-8][8]=!t}},{key:"mapData",value:function(t,e){for(var i=-1,n=this.moduleCount-1,s=7,a=0,r=this.moduleCount-1;0<r;r-=2)for(6==r&&r--;;){for(var o,l,h=0;h<2;h++)null==this.modules[n][r-h]&&(o=!1,a<t.length&&(o=1==(t[a]>>>s&1)),l=v.getMask(e,n,r-h),this.modules[n][r-h]=o=l?!o:o,-1==--s)&&(a++,s=7);if((n+=i)<0||this.moduleCount<=n){n-=i,i=-i;break}}}}],[{key:"createData",value:function(t,e,i){for(var n=w.getRSBlocks(t,e),s=new x,a=0;a<i.length;a++){var r=i[a];s.put(r.mode,4),s.put(r.getLength(),v.getLengthInBits(r.mode,t)),r.write(s)}for(var o=0,a=0;a<n.length;a++)o+=n[a].dataCount;if(s.getLengthInBits()>8*o)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*o+")");for(s.getLengthInBits()+4<=8*o&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*o)break;if(s.put(l.PAD0,8),s.getLengthInBits()>=8*o)break;s.put(l.PAD1,8)}return l.createBytes(s,n)}},{key:"createBytes",value:function(t,e){for(var i=0,n=0,s=0,a=new Array(e.length),r=new Array(e.length),o=0;o<e.length;o++){var l=e[o].dataCount,h=e[o].totalCount-l,n=Math.max(n,l),s=Math.max(s,h);a[o]=new Array(l);for(var u=0;u<a[o].length;u++)a[o][u]=255&t.buffer[u+i];i+=l;var l=v.getErrorCorrectPolynomial(h),c=new y(a[o],l.getLength()-1).mod(l);r[o]=new Array(l.getLength()-1);for(u=0;u<r[o].length;u++){var d=u+c.getLength()-r[o].length;r[o][u]=0<=d?c.get(d):0}}for(var f=0,u=0;u<e.length;u++)f+=e[u].totalCount;for(var _=new Array(f),p=0,u=0;u<n;u++)for(o=0;o<e.length;o++)u<a[o].length&&(_[p++]=a[o][u]);for(u=0;u<s;u++)for(o=0;o<e.length;o++)u<r[o].length&&(_[p++]=r[o][u]);return _}}]);var r=l;function l(t,e){a(this,l),this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}r.PAD0=236,r.PAD1=17;function h(){a(this,h)}function u(){a(this,u)}h.MODE_NUMBER=1,h.MODE_ALPHA_NUM=2,h.MODE_8BIT_BYTE=4,h.MODE_KANJI=8;var d=function t(){a(this,t)},v=(d.L=1,d.M=0,d.Q=3,d.H=2,u.PATTERN000=0,u.PATTERN001=1,u.PATTERN010=2,u.PATTERN011=3,u.PATTERN100=4,u.PATTERN101=5,u.PATTERN110=6,u.PATTERN111=7,n(f,null,[{key:"getBCHTypeInfo",value:function(t){for(var e=t<<10;0<=f.getBCHDigit(e)-f.getBCHDigit(f.G15);)e^=f.G15<<f.getBCHDigit(e)-f.getBCHDigit(f.G15);return(t<<10|e)^f.G15_MASK}},{key:"getBCHTypeNumber",value:function(t){for(var e=t<<12;0<=f.getBCHDigit(e)-f.getBCHDigit(f.G18);)e^=f.G18<<f.getBCHDigit(e)-f.getBCHDigit(f.G18);return t<<12|e}},{key:"getBCHDigit",value:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e}},{key:"getPatternPosition",value:function(t){return f.PATTERN_POSITION_TABLE[t-1]}},{key:"getMask",value:function(t,e,i){switch(t){case u.PATTERN000:return(e+i)%2==0;case u.PATTERN001:return e%2==0;case u.PATTERN010:return i%3==0;case u.PATTERN011:return(e+i)%3==0;case u.PATTERN100:return(Math.floor(e/2)+Math.floor(i/3))%2==0;case u.PATTERN101:return e*i%2+e*i%3==0;case u.PATTERN110:return(e*i%2+e*i%3)%2==0;case u.PATTERN111:return(e*i%3+(e+i)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}},{key:"getErrorCorrectPolynomial",value:function(t){for(var e=new y([1],0),i=0;i<t;i++)e=e.multiply(new y([1,_.gexp(i)],0));return e}},{key:"getLengthInBits",value:function(t,e){if(1<=e&&e<10)switch(t){case h.MODE_NUMBER:return 10;case h.MODE_ALPHA_NUM:return 9;case h.MODE_8BIT_BYTE:case h.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case h.MODE_NUMBER:return 12;case h.MODE_ALPHA_NUM:return 11;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case h.MODE_NUMBER:return 14;case h.MODE_ALPHA_NUM:return 13;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}}},{key:"getLostPoint",value:function(t){for(var e=t.getModuleCount(),i=0,n=0;n<e;n++)for(var s=0;s<e;s++){for(var a=0,r=t.isDark(n,s),o=-1;o<=1;o++)if(!(n+o<0||e<=n+o))for(var l=-1;l<=1;l++)s+l<0||e<=s+l||0==o&&0==l||r==t.isDark(n+o,s+l)&&a++;5<a&&(i+=3+a-5)}for(n=0;n<e-1;n++)for(s=0;s<e-1;s++){var h=0;t.isDark(n,s)&&h++,t.isDark(n+1,s)&&h++,t.isDark(n,s+1)&&h++,t.isDark(n+1,s+1)&&h++,0!=h&&4!=h||(i+=3)}for(n=0;n<e;n++)for(s=0;s<e-6;s++)t.isDark(n,s)&&!t.isDark(n,s+1)&&t.isDark(n,s+2)&&t.isDark(n,s+3)&&t.isDark(n,s+4)&&!t.isDark(n,s+5)&&t.isDark(n,s+6)&&(i+=40);for(s=0;s<e;s++)for(n=0;n<e-6;n++)t.isDark(n,s)&&!t.isDark(n+1,s)&&t.isDark(n+2,s)&&t.isDark(n+3,s)&&t.isDark(n+4,s)&&!t.isDark(n+5,s)&&t.isDark(n+6,s)&&(i+=40);for(var u=0,s=0;s<e;s++)for(n=0;n<e;n++)t.isDark(n,s)&&u++;return i+=10*(Math.abs(100*u/e/e-50)/5)}}]),f);function f(){a(this,f)}v.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],v.G15=1335,v.G18=7973,v.G15_MASK=21522;n(p,null,[{key:"glog",value:function(t){if(t<1)throw new Error("glog("+t+")");return p.LOG_TABLE[t]}},{key:"gexp",value:function(t){for(;t<0;)t+=255;for(;256<=t;)t-=255;return p.EXP_TABLE[t]}},{key:"EXP_TABLE",get:function(){if(!p._EXP_TABLE){p._EXP_TABLE=new Array(256);for(var t=0;t<8;t++)p._EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)p._EXP_TABLE[t]=p._EXP_TABLE[t-4]^p._EXP_TABLE[t-5]^p._EXP_TABLE[t-6]^p._EXP_TABLE[t-8]}return p._EXP_TABLE}},{key:"LOG_TABLE",get:function(){if(!p._LOG_TABLE){p._LOG_TABLE=new Array(256);for(var t=0;t<255;t++)p._LOG_TABLE[p.EXP_TABLE[t]]=t}return p._LOG_TABLE}}]);var _=p;function p(){a(this,p)}_._EXP_TABLE=_._LOG_TABLE=null;n(g,[{key:"get",value:function(t){return this.num[t]}},{key:"getLength",value:function(){return this.num.length}},{key:"multiply",value:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),i=0;i<this.getLength();i++)for(var n=0;n<t.getLength();n++)e[i+n]^=_.gexp(_.glog(this.get(i))+_.glog(t.get(n)));return new g(e,0)}},{key:"mod",value:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=_.glog(this.get(0))-_.glog(t.get(0)),i=new Array(this.getLength()),n=0;n<this.getLength();n++)i[n]=this.get(n);for(n=0;n<t.getLength();n++)i[n]^=_.gexp(_.glog(t.get(n))+e);return new g(i,0).mod(t)}}]);var y=g;function g(t,e){if(a(this,g),null==t.length)throw new Error(t.length+"/"+e);for(var i=0;i<t.length&&0==t[i];)i++;this.num=new Array(t.length-i+e);for(var n=0;n<t.length-i;n++)this.num[n]=t[n+i]}n(b,[{key:"getLength",value:function(t){return this.parsedData.length}},{key:"write",value:function(t){for(var e=0,i=this.parsedData.length;e<i;e++)t.put(this.parsedData[e],8)}}]);var m=b;function b(t){a(this,b),this.mode=h.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,i=this.data.length;e<i;e++){var n=[],s=this.data.charCodeAt(e);65536<s?(n[0]=240|(1835008&s)>>>18,n[1]=128|(258048&s)>>>12,n[2]=128|(4032&s)>>>6,n[3]=128|63&s):2048<s?(n[0]=224|(61440&s)>>>12,n[1]=128|(4032&s)>>>6,n[2]=128|63&s):128<s?(n[0]=192|(1984&s)>>>6,n[1]=128|63&s):n[0]=s,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}n(k,null,[{key:"getRSBlocks",value:function(t,e){var i=k.getRsBlockTable(t,e);if(null==i)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=i.length/3,s=[],a=0;a<n;a++)for(var r=i[3*a+0],o=i[3*a+1],l=i[3*a+2],h=0;h<r;h++)s.push(new k(o,l));return s}},{key:"getRsBlockTable",value:function(t,e){switch(e){case d.L:return k.RS_BLOCK_TABLE[4*(t-1)+0];case d.M:return k.RS_BLOCK_TABLE[4*(t-1)+1];case d.Q:return k.RS_BLOCK_TABLE[4*(t-1)+2];case d.H:return k.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}]);var w=k;function k(t,e){a(this,k),this.totalCount=t,this.dataCount=e}w.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];n(O,[{key:"get",value:function(){var t=Math.floor(index/8);return 1==(this.buffer[t]>>>7-index%8&1)}},{key:"put",value:function(t,e){for(var i=0;i<e;i++)this.putBit(1==(t>>>e-i-1&1))}},{key:"getLengthInBits",value:function(){return this.length}},{key:"putBit",value:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}]);var x=O;function O(){a(this,O),this.buffer=[],this.length=0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(17),a=(i=i)&&i.__esModule?i:{default:i};n(l,[{key:"setColor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;t=a.default.toColor(t),this.redMultiplier=this.greenMultiplier=this.blueMultiplier=this.alphaMultiplier=e,this.redOffset=a.default.getRed(t),this.greenOffset=a.default.getGreen(t),this.blueOffset=a.default.getBlue(t),this.alphaOffset=a.default.getAlpha(t),this._update=!0}},{key:"toString",value:function(){return'{"redOffset":'+this.redOffset+',"greenOffset":'+this.greenOffset+',"blueOffset":'+this.blueOffset+',"alphaOffset":'+this.alphaOffset+',"redMultiplier":'+this.redMultiplier+',"greenMultiplier":'+this.greenMultiplier+',"blueMultiplier":'+this.blueMultiplier+',"alphaMultiplier":'+this.alphaMultiplier+"}"}},{key:"update",get:function(){var t=this._update;return this._update&&(this._update=!1),t},set:function(t){this._update!=t&&(this._update=t)}}]);i=l;function l(t,e,i,n,s,a,r,o){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=n,this.redOffset=s,this.greenOffset=a,this.blueOffset=r,this.alphaOffset=o,this._update=!0}(e.default=i).className="ColorTransform"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=l(i(19)),o=l(i(13)),d=l(i(0)),f=l(i(20)),_=l(i(4)),p=l(i(1));function l(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=c;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function c(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=this,n=c;if(i instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this))).name=o.default.getName("File"),i._reader=i._cancel_handler=i._file_select_handler=null,i.alpha=0,i.layer=995,i.max_size=0,i.auto_parse=!0,i.image_to_base64=!1,i.buttonMode=i.mouseEnabled=!0,i.supported&&i._browseForOpen("openFile",t,e),i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(c,[{key:"open",value:function(t){t||this._clearInputFile(),this.element&&this.element.click()}},{key:"_clearInputFile",value:function(){var t,e;this.supported&&null!=this.element&&(this.element.removeEventListener("change",this._file_select_handler),t=this.element.multiple,e=this.element.accept,this.element=null,this._browseForOpen("openFile",t,e))}},{key:"_browseForOpen",value:function(t,e,i){e=e||!1,null==this.element?this.element=f.default.createDOM("input",{type:"file",multiple:e,id:this.name,name:t,style:{position:p.default.position}}):(this.element.multiple=e,this.element.name=t),d.default.isEmpty(i)||(this.element.accept=i),null==this._file_select_handler&&(this._file_select_handler=p.default.delegate(this._fileSelectHandle,this)),this.element.addEventListener("change",this._file_select_handler,!1)}},{key:"_fileSelectHandle",value:function(t){var e,i=void 0,n=void 0,s=void 0,a=t.target.files,r=[],o=[],l=this,h=p.default.root.URL||p.default.root.webkitURL;if(a.length&&0<this.max_size){for(var u=[],i=0;n=a[i];i++)n&&n.size<1e6*this.max_size?u.push(n):r.push(n?n.name:"null");a=u}if(0<r.length&&l.dispatchEvent(new _.default(c.LIMIT,r)),this.auto_parse&&0!=a.length)for(i=0;i<a.length;i++)0==(n=a[i]).type.indexOf("image")&&n.type.indexOf("svg")<0?(e=h.createObjectURL(n),d.default.isEmpty(e)||this.image_to_base64?(l._reader=new FileReader,l._reader.onload=function(t){l.image_to_base64?o.push(t.target.result):((s=new Image).name=t.target.name,s.src=t.target.result,o.push(s)),o.length==a.length&&l.dispatchEvent(new _.default(c.COMPLETE,o))},l._reader.readAsDataURL(n)):((s=new Image).name=n.name,s.src=e,s.onload=function(t){h.revokeObjectURL(s.src),o.push(s),o.length==a.length&&l.dispatchEvent(new _.default(c.COMPLETE,o))})):0==n.type.indexOf("text")?(l._reader=new FileReader,l._reader.onload=function(t){s=f.default.createDOM("p",{id:t.target.name,innerHTML:"<pre>"+t.target.result.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</pre>"}),o.push(s),o.length==a.length&&l.dispatchEvent(new _.default(c.COMPLETE,o))},l._reader.readAsText(n)):(l._reader=new FileReader,l._reader.onload=function(t){o.push(t.target.result),o.length==a.length&&l.dispatchEvent(new _.default(c.COMPLETE,o))},l._reader.readAsBinaryString(n));else a.length&&l.dispatchEvent(new _.default(c.COMPLETE,a))}},{key:"abortRead",value:function(){if(this._reader)try{this._reader.abort()}catch(t){}}},{key:"dispose",value:function(){this.element&&this.element.removeEventListener("change",this._file_select_handler),a(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"dispose",this).call(this),delete this.image_to_base64,this.auto_parse,this._cancel_handler,this._file_select_handler,this._file,this._reader,this.name}},{key:"supported",get:function(){return p.default.root.File&&p.default.root.FileReader&&p.default.root.FileList}}],[{key:"COMPLETE",get:function(){return"file_select_complete"}},{key:"LIMIT",get:function(){return"file_size_out"}}]),c}(r.default);(e.default=i).className="File"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=g(i(5)),o=g(i(12)),l=g(i(10)),h=g(i(2)),u=g(i(0)),c=g(i(3)),d=g(i(7)),f=g(i(4)),_=g(i(22)),p=g(i(1)),v=g(i(47)),y=g(i(25));function g(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(){var t;if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)))._changeState=t.bg=t.play_btn=t._instance=t._video=t._url=null,t.isStrict=t.control=t._is_loading=t._is_reload=!1,t.seedTime=t._video_width=t._video_height=0,t.isStop=!0,t._volume=1,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s(n,[{key:"_loading",value:function(t){this._is_loading||u.default.isEmpty(t)||this._url==t||(this._is_loading=!0,this._is_reload=!1,this._url=t,(t=new v.default).addEventListener(y.default.MEDIA_LOAD_COMPLETE,p.default.delegate(this._complete_handler,this)),t.addEventListener(y.default.MEDIA_ERROR,p.default.delegate(this._error_handler,this)),t.load(this._url))}},{key:"_error_handler",value:function(t){t.target.removeEventListener(y.default.MEDIA_LOAD_COMPLETE),t.target.removeEventListener(y.default.MEDIA_ERROR),this._is_loading=!1,this.dispatchEvent(new f.default(n.ERROR))}},{key:"_complete_handler",value:function(t){t.target.removeEventListener(y.default.MEDIA_LOAD_COMPLETE),t.target.removeEventListener(y.default.MEDIA_ERROR),this._is_loading=!1,t.target&&!t.target.loadFail?this.load(t.target):this._is_reload?this.dispatchEvent(new f.default(n.ERROR)):(t.target.dispose(),this._is_reload=!0,this._is_loading=!0,(t=new v.default).addEventListener(y.default.MEDIA_LOAD_COMPLETE,p.default.delegate(this._complete_handler,this)),t.load(this._url))}},{key:"load",value:function(t){var e,i;null!=t&&(e=t.getHeight(),i=t.getWidth(),this.isStrict&&(e<=0||i<=0||p.default.isPC&&(isNaN(t.length)||t.length<=0))?this.dispatchEvent(new f.default(n.ERROR)):(e&&(this._video_height=e),i&&(this._video_width=i),this._instance&&(this._video&&!this.isStop&&this.stop(),this._instance.removeFromParent(!0)),this._video=t,this._volume=t.volume,this._video.element.controls=this.control?"controls":"",null==this._changeState&&(this._changeState=p.default.delegate(this.__change_state,this)),null==this.bg?(this.bg=d.default.c("bs",["#000000",this._video_width,this._video_height]),this.addChild(this.bg),this.bg.mouseEnabled=!0,this.bg.addEventListener(l.default.MOUSE_DOWN,p.default.delegate(this.onMouseClick,this))):this.bg.setSize(this._video_width,this._video_height),p.default.useCanvas?this._instance=this._video:(this._instance=h.default.create(o.default),this._instance.element=this._video.element,this._instance.setSize(this._video_width,this._video_height)),this.addChild(this._instance),this.setSize(this._video_width,this._video_height),this.update_view(!1),this._video.setVolume(this._volume),this.play_btn&&!this.play_btn.hasEventListener(l.default.MOUSE_CLICK)&&this.play_btn.addEventListener(l.default.MOUSE_CLICK,p.default.delegate(this.onMouseClick,this)),this.dispatchEvent(new f.default(n.READY))))}},{key:"updateSize",value:function(t,e){var i;!this._is_loading&&null!=this._video&&t&&e&&(this.setSize(t,e),this.bg&&this.bg.setSize(t,e),this._instance&&(i=c.default.getSizeScale(this._video_width,this._video_height,t,e,!0),this._instance.scale=i,this._instance.moveTo(Math.round(.5*(t-this._instance.getWidth())),Math.round(.5*(e-this._instance.getHeight())))),this.play_btn)&&this.contains(this.play_btn)&&this.play_btn.moveTo(Math.ceil(.5*(t-this.play_btn.getWidth())),Math.ceil(.5*(e-this.play_btn.getHeight())))}},{key:"onMouseClick",value:function(t){if(!this._is_loading&&null!=this._video)switch(t.target){case this.play_btn:this.play();break;case this.bg:!this.isStop&&this._video.playing&&this.pause()}}},{key:"change",value:function(){null!=this._video&&(!this.isStop&&this._video.playing?this.pause():this.play())}},{key:"play",value:function(){null==this._video||this._video.playing||(this.seedTime=this.isStop?0:this.seedTime,this.update_view(!0),this.isStop&&(this._video.element.addEventListener("pause",this._changeState),this._video.element.addEventListener("playing",this._changeState),this._video.addEventListener(y.default.MEDIA_PLAY_COMPLETE,p.default.delegate(this.onPlayOver,this))),this._video.play(this.seedTime),this.isStop=!1)}},{key:"pause",value:function(){null!=this._video&&(this.seedTime=this._video.getCurrentTime(),this._video.stop(),this.update_view(!1))}},{key:"stop",value:function(){null==this._video||this.isStop||(this.isStop=!0,this.seedTime=0,this._video.stop(),this.update_view(!1),this._volume=this._video.volume,this._video.element.removeEventListener("playing",this._changeState),this._video.element.removeEventListener("pause",this._changeState),this._video.removeEventListener(y.default.MEDIA_PLAY_COMPLETE))}},{key:"__change_state",value:function(t){"playing"==t.type?this._video.playing||(this._video.playing=!0,this.update_view(!0),this.isStop&&this._video.addEventListener(y.default.MEDIA_PLAY_COMPLETE,p.default.delegate(this.onPlayOver,this)),this.isStop=!1,this.dispatchEvent(new f.default(n.PLAY))):"pause"==t.type&&this._video.playing&&(this._video.playing=!1,this.seedTime=this._video.getCurrentTime(),this.update_view(!1),this.dispatchEvent(new f.default(n.PAUSE)))}},{key:"update_view",value:function(t){this.__checkDisplayUpdate(),t?(this.play_btn&&this.play_btn.removeFromParent(!1),p.default.useCanvas&&!(this.stage||_.default.current).hasEventListener(l.default.ENTER_FRAME,this.name)&&(this.stage||_.default.current).addEventListener(l.default.ENTER_FRAME,p.default.delegate(this.onEnterFrame,this),this.name)):(this.play_btn&&(this.play_btn.moveTo(Math.ceil(.5*(this.width-this.play_btn.getWidth())),Math.ceil(.5*(this.height-this.play_btn.getHeight()))),this.addChild(this.play_btn)),(this.stage||_.default.current).hasEventListener(l.default.ENTER_FRAME,this.name)&&(this.stage||_.default.current).removeEventListener(l.default.ENTER_FRAME,null,this.name))}},{key:"onEnterFrame",value:function(t){p.default.useCanvas&&this.__checkDisplayUpdate()}},{key:"onPlayOver",value:function(t){this.stop(),this.dispatchEvent(new f.default(n.COMPLETE))}},{key:"dispose",value:function(){this._video&&!this.isStop?this.stop():(this.stage||_.default.current).hasEventListener(l.default.ENTER_FRAME,this.name)&&(this.stage||_.default.current).removeEventListener(l.default.ENTER_FRAME,null,this.name),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this),delete this.isStrict,this._is_reload,this.control,this._changeState,this.bg,this.play_btn,this._instance,this._video,this._url,this.seedTime,this._video_width,this._video_height,this._is_loading,this.isStop,this._volume}},{key:"src",get:function(){return this._url},set:function(t){this._loading(t)}},{key:"volume",get:function(){return this._volume},set:function(t){null!=t&&this._volume!=t&&(this._volume=t,this._video)&&this._video.setVolume(this._volume)}},{key:"instance",get:function(){return this._instance}}]),n}(r.default);(e.default=i).className="VideoPlayer",i.PLAY="video_player_play",i.ERROR="video_player_error",i.READY="video_player_ready",i.PAUSE="video_player_pause",i.COMPLETE="video_player_play_complete"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=h(i(12)),u=h(i(0)),o=h(i(3)),c=h(i(27)),l=h(i(26)),d=h(i(1));function h(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)))._size=12,i._leading=0,i._lineWidth=0,i._thickness=0,i._lineHeight=1,i._fill_alpha=1,i._text="",i._color="#000000",i._textAlign="left",i._stroke_color="#000000",i._font="Microsoft YaHei",i.autoSize=!1,i._instance=null,i._selectable=!0,i._textAdjust=!1,i._writingMode=i._underline=i._bold=i._italic=!1,i.setSize(t,e),i.element=c.default.create("svg"),i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s(n,[{key:"_set_text",value:function(t){if(!u.default.isEmpty(t)){var e,i,n=this._text.split(/\r\n|\r|\n|<br(?:[ \/])*>/),s=this._size*this._lineHeight,a=void 0,r=void 0,o=n.length,l=Math.floor(this._lineWidth/(this._size+this._leading)),h=(this.autoSize&&0<this._lineWidth&&(this[this._writingMode?"height":"width"]=this._lineWidth),this._writingMode?this.width-.5*s:s);for(this._instance?(this._instance.innerHTML="",this._instance.setAttribute("transform","translate(0, 0)")):this._instance=c.default.create("text",{width:this.width,height:this.height}),this.autoSize&&0<this._lineWidth&&this._instance.setAttribute(this._writingMode?"height":"width",this[this._writingMode?"height":"width"]),c.default.setAttributes(this._instance,{style:{fill:this._color,fillOpacity:this._fill_alpha,stroke:this._stroke_color,strokeWidth:this._thickness,fontStyle:this._italic?"italic":"normal",fontWeight:this._bold?"bold":"normal",fontSize:this._size+"px",fontFamily:this._font,textDecoration:this._underline?"underline":"none",textAlign:this._textAlign,letterSpacing:this._leading-(this._writingMode&&!this._textAdjust?Math.ceil(this._size/3.6):0)+"px"}}),this._instance.style.writingMode=this._writingMode?"tb-rl":"lr-tb",this._instance.style[d.default.cssPrefix+"WritingMode"]=this._writingMode?"tb-rl":"lr-tb",a=0;a<o;a++)if(i=n[a],0<l&&i.length>l)for(e=u.default.toArray(i,l),r=0;r<e.length;r++)this.__create_text(e[r],h,Math.ceil(s)),h=this._writingMode?h-s:h+s;else this.__create_text(i,h,Math.ceil(s)),h=this._writingMode?h-s:h+s;this.autoSize&&(this._writingMode&&h<0?(this.width=Math.abs(h)+this.width-.5*s,this._instance.setAttribute("width",this.width),this._instance.setAttribute("transform","translate("+Math.abs(h+.5*s)+", 0)")):!this._writingMode&&0<h&&(this.height=h,this._instance.setAttribute("height",this.height))),this._instance&&null==this._instance.parentNode&&this.element.appendChild(this._instance),this.selectable=this._selectable}}},{key:"__create_text",value:function(t,e,i,n){var s=0<this._lineWidth?this._lineWidth:this.width,a=u.default.countLeftSpace(t)*(this._size+this._leading),e={x:this._writingMode?e:a,y:this._writingMode?a:e,textLength:s,lengthAdjust:"spacing"},s=(this._textAdjust&&(e.textLength=s-a,e.lengthAdjust="spacing"),c.default.create("tspan",e));s.innerHTML=t,this._instance.appendChild(s)}},{key:"_format_color",value:function(t){if(null==this.element||null==t)return t;if(t&&t instanceof HTMLImageElement)return this._set_pattern(t);if(!(t&&t instanceof l.default))return t;var e,i=this.element.getElementsByTagName("defs")[0],n=(null==i&&(i=c.default.create("defs"),this.element.appendChild(i)),this.element.getElementById(this.name+"_gradient")),s=(n&&n.parentNode&&n.parentNode.removeChild(n),{id:this.name+"_gradient"}),a=(0==t.type?(s.x1=o.default.int(100*t.xStart/t.radiusStart)+"%",s.y1=o.default.int(100*t.yStart/t.radiusEnd)+"%",s.x2=o.default.int(100*t.xEnd/t.radiusStart)+"%",s.y2=o.default.int(100*t.yEnd/t.radiusEnd)+"%"):(s.fx=o.default.int(100*t.xStart/(2*t.radiusEnd))+"%",s.fy=o.default.int(100*t.yStart/(2*t.radiusEnd))+"%",s.cx=o.default.int(100*t.xEnd/(2*t.radiusEnd))+"%",s.cy=o.default.int(100*t.yEnd/(2*t.radiusEnd))+"%",s.r="50%"),n=c.default.create(0==t.type?"linearGradient":"radialGradient",s),void 0),r=t.offsetlist.length;for(1==t.type&&0<t.radiusStart&&t.offsetlist[0]<t.radiusStart/t.radiusEnd&&(t.offsetlist[0]=t.radiusStart/t.radiusEnd),a=0;a<r;a++)e=c.default.create("stop",{offset:t.offsetlist[a],"stop-color":t.colorList[a]}),n.appendChild(e);return i.appendChild(n),"url(#"+this.name+"_gradient)"}},{key:"_set_pattern",value:function(t){var e=this.element.getElementsByTagName("defs")[0],i=(null==e&&(e=c.default.create("defs"),this.element.appendChild(e)),this.element.getElementById(this.name+"_pattern")),n=(i&&i.parentNode&&i.parentNode.removeChild(i),i=c.default.create("pattern",{id:this.name+"_pattern",width:t.width,height:t.height,patternUnits:"userSpaceOnUse"}),c.default.create("image",{x:0,y:0,width:t.width,height:t.height}));return n.setAttributeNS(c.default.xlink,"href",t.src),i.appendChild(n),e.appendChild(i),"url(#"+this.name+"_pattern)"}},{key:"clone",value:function(){var t=new n(this.width,this.height);return t.autoSize=this.autoSize,t._size=this._size,t._leading=this._leading,t._lineWidth=this._lineWidth,t._thickness=this._thickness,t._lineHeight=this._lineHeight,t._fill_alpha=this._fill_alpha,t._stroke_color=this._stroke_color,t._writingMode=this._writingMode,t._selectable=this._selectable,t._textAdjust=this._textAdjust,t._textAlign=this._textAlign,t._underline=this._underline,t._italic=this._italic,t._color=this._color,t._font=this._font,t._bold=this._bold,t.text=this._text,t}},{key:"dispose",value:function(){a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this),delete this._size,this._leading,this._lineWidth,this._thickness,this._lineHeight,this._fill_alpha,this._text,this._color,this._textAlign,this._stroke_color,this._font,this.autoSize,this._instance,this._selectable,this._textAdjust,this._writingMode,this._underline,this._bold,this._italic}},{key:"selectable",get:function(){return this._selectable},set:function(t){this._selectable=t,this._cursor=t?"text":"default",this._instance&&(this._instance.style.userSelect=this._selectable?"text":"none",this._instance.style[d.default.cssPrefix+"UserSelect"]=this._selectable?"text":"none")}},{key:"text",get:function(){return this._text},set:function(t){this._text=t,this._set_text(t)}},{key:"writingMode",get:function(){return this._writingMode},set:function(t){null!=this.element&&this._writingMode!=t&&(this._writingMode=t,this.text=this.text)}},{key:"italic",get:function(){return this._italic},set:function(t){null!=this.element&&this._italic!=t&&(this._italic=t,this._instance)&&(this._instance.style.fontStyle=this._italic?"italic":"normal")}},{key:"bold",get:function(){return this._bold},set:function(t){null!=this.element&&this._bold!=t&&(this._bold=t,this._instance)&&(this._instance.style.fontWeight=this._bold?"bold":"normal")}},{key:"size",get:function(){return this._size},set:function(t){null!=this.element&&this._size!=t&&(this._size=t,this.text=this.text)}},{key:"color",get:function(){return this._color},set:function(t){this._color!=t&&(this._color=this._format_color(t),this._instance)&&(this._instance.style.fill=this._color)}},{key:"font",get:function(){return this._font},set:function(t){u.default.isEmpty(t)||this._font==t||(this._font=t,this._instance&&(this._instance.style.fontFamily=this._font))}},{key:"align",get:function(){return this._textAlign},set:function(t){null!=this.element&&this._textAlign!=t&&(this._textAlign=t,this._instance)&&(this._instance.style.textAlign=this._textAlign)}},{key:"underline",get:function(){return this._underline},set:function(t){null!=this.element&&this._underline!=t&&(this._underline=t,this._instance)&&(this._instance.style.textDecoration=this._underline?"underline":"none")}},{key:"textAdjust",get:function(){return this._textAdjust},set:function(t){null!=this.element&&this._textAdjust!=t&&(this._textAdjust=t,this.text=this.text)}},{key:"leading",get:function(){return this._leading},set:function(t){null!=this.element&&this._leading!=t&&(this._leading=t,this.text=this.text)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){null!=this.element&&this._lineHeight!=t&&(this._lineHeight=t,this.text=this.text)}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){null!=t&&this._lineWidth!=t&&(this._lineWidth=t,this.text=this.text)}},{key:"strokeColor",get:function(){return this._stroke_color},set:function(t){null!=t&&t!=this._stroke_color&&(this._stroke_color=this._format_color(t),this._instance)&&(this._instance.style.stroke=this._stroke_color)}},{key:"thickness",get:function(){return this._thickness},set:function(t){null!=t&&t!=this._thickness&&(this._thickness=t,this._instance)&&(this._instance.style.strokeWidth=this._thickness)}}]),n}(r.default);(e.default=i).className="SVGText"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=c(i(5)),o=c(i(15)),p=c(i(12)),v=c(i(0)),l=c(i(35)),y=c(i(2)),h=c(i(17)),u=c(i(3)),g=c(i(1)),m=c(i(6));function c(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).mouseEnabled=t.mouseChildren=!1,t._is_init=!1,t.autoSize=!0,t._has_update=!0,t._lineHeight=1,t._lineWidth=0,t._leading=0,t._size=0,t._color="",t._text="",t._font="",t._textAlign="start",t.name="bitmap_text_"+t.name,t._ct=t._fonts=t._instance=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t,e,i,n,s){this._text=t||this._text,this._font=e||this._font,this._color=n||this._color,this.width=this._lineWidth=i||this._lineWidth,this._textAlign=s||this._textAlign,this._fonts=l.default.get(this._font),null!=this._fonts&&(this._size=Math.abs(Number(this._fonts.info.size)),null==this._instance&&g.default.useCanvas&&(this._instance=y.default.create(o.default),this.addChild(this._instance)),this._is_init=this._has_update=!0,this._fonts)&&this._update()}},{key:"_update",value:function(){this.__checkDisplayUpdate();var t,e,i,n=this._fonts.info.spacing.split(","),s=Number(n[0]),a=Number(n[1]),r=void 0,o=s,l=a,h=void 0,u=this._text.length,c=0,d=0,f=y.default.create(m.default),_="";for(g.default.useCanvas?this._instance.context.reset():this.removeAllChildren(!0),r=0;r<u;r++)i=this._text.charCodeAt(r),null==(t=this._fonts.chars[i])?_+='"'+this._text.charAt(r)+'" ':(g.default.useCanvas?(e=y.default.create(m.default).set(t.regX,t.regY),this._instance.context.translate(o-e.x-f.x,l-e.y-f.y),this._instance.context.drawImage(t.image,g.default.useCache?0:t.x,g.default.useCache?0:t.y,t.width,t.height,0,0,t.width,t.height),f.set(o-e.x,l-e.y),y.default.remove(e)):((h=y.default.create(p.default)).setInstance(t),h.moveTo(o,l),this.addChild(h)),c=0==c?t.height:Math.max(c,t.height),(o+=t.width+this._leading+s)>=(this._lineWidth<=0?this.stage?this.stage.stageWidth:g.default.width:this._lineWidth)-t.width&&(r+1<u&&65<=(i=this._text.charCodeAt(r+1))&&i<123||(d=Math.max(d,o),o=s,l+=(c?Math.ceil(c*this._lineHeight):0)+a,c=0)));d=Math.ceil(Math.max(d,o)),l=Math.ceil(l+c+a),this.autoSize&&(this.width=d,this.height=l),this._has_update=!1,y.default.remove(f),g.default.useCanvas&&(this._instance.width=d,this._instance.height=l),v.default.isEmpty(_)||trace("[WARN] _update miss fonts ["+_+"]")}},{key:"render",value:function(){v.default.isEmpty(this._text)||(this._has_update&&this._update(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"render",this).apply(this,arguments))}},{key:"dispose",value:function(){this._instance&&this._instance.removeFromParent(!0),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this.autoSize,this._lineHeight,this._size,this._ct,this._color,this._is_init,this._has_update,this._lineWidth,this._leading,this._text,this._font,this._textAlign,this._instance}},{key:"text",get:function(){return this._text},set:function(t){this._is_init&&this._text!=t&&(this._text=t,this._has_update=!0)}},{key:"font",get:function(){return this._font},set:function(t){this._is_init&&this._font!=t&&(this._font=t,this._fonts=l.default.get(this._font),this._has_update=!0)}},{key:"color",get:function(){return this._color},set:function(t){t=h.default.formatColor(t),this._color!=t&&(this._color=t,this._has_update=!0)}},{key:"leading",get:function(){return this._leading},set:function(t){this._is_init&&this._leading!=t&&(this._leading=t,this._has_update=!0)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){null!=t&&this._lineHeight!=t&&(this._lineHeight=t,this._has_update=!0)}},{key:"size",get:function(){return this._size},set:function(t){this._size==Number(t)||isNaN(t)||(t=Number(t),this.scale=this.scale*u.default.format(t/this._size),this._size=t)}},{key:"lineWidth",get:function(){return this._lineWidth},set:function(t){this._is_init&&this._lineWidth!=t&&(this.width=this._lineWidth=Math.min(100,t),this._has_update=!0)}},{key:"align",get:function(){return this._textAlign},set:function(t){this._is_init&&this._textAlign!=t&&(this._textAlign=t,this._has_update=!0)}}]),i}(r.default);(e.default=i).className="BitmapText"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=d(i(5)),o=d(i(18)),l=d(i(0)),h=d(i(7)),u=d(i(1)),c=d(i(16));function d(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t,e){var i;if(this instanceof n)return(i=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)))._loop=i._call_back=i._img=i._instance=null,t&&("string"==typeof t?i.setup(t,e):i._set_instance(t)),i.speed=1,i;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s(n,[{key:"setup",value:function(t,e){l.default.isEmpty(t)||(this._call_back=e,this._img=new Image,this._img.style.display="none",this._img.onload=u.default.delegate(this._load_handler,this),this._img.onerror=u.default.delegate(this._error_handler,this),this._img.src=t)}},{key:"_load_handler",value:function(t){this._img.onload=this._img.onerror=null,this._set_instance(this._img),this._img=null}},{key:"_set_instance",value:function(t){this._instance=h.default.c("do"),this._instance.setInstance(t),0 instanceof c.default,this._instance.origin={x:.5*t.width,y:.5*t.height},this._loop=u.default.delegate(this.play,this),this.addChild(this._instance),this._stage&&this.play(),this._call_back&&(this._call_back(),this._call_back=null)}},{key:"_error_handler",value:function(t){trace("[ERROR]LoadingClip loading error by",this._img.src),this._img.onload=this._img.onerror=null,this._img=null}},{key:"play",value:function(){null!=this._instance&&(this._instance.rotation=350<this._instance.rotation?0:this._instance.rotation,o.default.to(this._instance,1/this.speed,{rotation:360,onComplete:this._loop}))}},{key:"stop",value:function(){this._instance&&o.default.remove(this._instance)}},{key:"dispose",value:function(){this.stop(),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this),delete this._loop,this._call_back,this._img,this._instance,this.speed}},{key:"stage",get:function(){return this._stage},set:function(t){if(this._stage!=t&&(this._stage=t,this._instance&&this._stage?this.play():this.stop(),!(null==this._children||this._children.length<1)))for(var e=void 0,e=0,i=this._children.length;e<i;e++)this._children[e].stage=t}}]),n}(r.default);(e.default=i).className="LoadingClip"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function p(){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)}(p,null,[{key:"countMonthDays",value:function(t,e){return t%4==0&&2==e?29:[31,28,31,30,31,30,31,31,30,31,30,31][e-1]}},{key:"createDateObject",value:function(t,e,i){return{date:t,day:e,type:i,isToday:3<arguments.length&&void 0!==arguments[3]&&arguments[3]}}},{key:"getMonthList",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:42,n={P:[],T:[],N:[]},s=1==e?t-1:t,a=1==e?12:e-1,r=12==e?t+1:t,o=12==e?1:e+1,l=p.countMonthDays(s,a),h=p.countMonthDays(t,e),u=p.countMonthDays(r,o),c=new Date(t,e-1,1).getDay(),d=new Date,f=d.getFullYear(),_=d.getMonth()+1,d=d.getDate(),t=f==t&&_==e?d:-1,e=f==r&&_==o?d:-1;return p.addData(n.P,c,l,c,!0,"P",f==s&&_==a?d:-1),p.addData(n.T,Math.min(h,i-c),h,c,!1,"T",t),p.addData(n.N,i-c-h,u,new Date(r,o-1,1).getDay(),!1,"N",e),n}},{key:"addData",value:function(t,e,i,n,s,a){var r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:-1;if(!(e<1||i<e))for(var o=0;o<e;o++){var l=s?i-(e-o-1):o+1,h=p.getDay(s?n-(e-o):n+o);t.push(p.createDateObject(l,h,a,0<r&&r==l))}}},{key:"getDay",value:function(t){for(;t<0;)t+=7;return t%7}}]),e.default=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=g(i(5)),o=g(i(49)),l=g(i(18)),h=g(i(10)),u=g(i(38)),c=g(i(21)),d=g(i(39)),f=g(i(7)),_=g(i(31)),p=g(i(1)),v=g(i(37)),y=g(i(4));function g(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).disable_ft_color="#D5D5D5",t.over_ft_color="#000000",t.line_color="#D6D6D6",t.disable_color="#E0E0E0",t.over_color="#D8D8D8",t.bg_color="#F2F2F2",t.speed=300,t.canPush=!1,t.useWheel=!0,t.multiSelection=!1,t.common_color=t.selectedList=null,t.item_height=t.w=t.h=t.time=0,t._handler=t.control=t._selected=t.container=t.tf_obj=t._datas=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t,e,i,n,s){this.w=t,this.h=e,this.tf_obj=n,this.setSize(t,e),this.item_height=i,this.multiSelection=1==s,n&&(this.common_color=n.color),this.multiSelection&&(this.selectedList=[]),p.default.isPC&&(this.time=.5),this._handler=p.default.delegate(this._click_item,this)}},{key:"_mouse_wheel",value:function(t){var e,t=0<t.delta;!t&&this.container.y<=this.h-this.container.height||t&&0<=this.container.y||(e=this.container.y+(t?this.item_height:-this.item_height),e=t?Math.min(0,e):Math.max(this.h-this.container.height,e),t=Math.abs(this.container.y-e)/this.speed,l.default.remove(this.container),l.default.to(this.container,t,{y:e}))}},{key:"addItem",value:function(t){var e;t&&((e=new v.default).instance=f.default.c("bs",[this.bg_color,this.w-2,this.item_height-2,0,1,this.line_color]),e.setup([f.default.c("ef",[_.default.COLOR,this.bg_color,this.time])],[f.default.c("ef",[_.default.COLOR,this.over_color,this.time])],[f.default.c("ef",[_.default.COLOR,this.disable_color,this.time])]),this.tf_obj.width=this.tf_obj.size*t.label.length,this.tf_obj.height=this.tf_obj.size+1,this.tf_obj.text=t.label,this.tf_obj.y=.5*(this.item_height-this.tf_obj.height),this.tf_obj.x=.5*(this.w-this.tf_obj.width),e.setLabel(this.tf_obj,this.over_ft_color,this.disable_ft_color),e.data=t.value,e.bool=!1,this.container.addChild(e),u.default.tile(this.container._children,1,!1),this.container.height=this.container.numChildren*this.item_height,e.addEventListener(h.default.MOUSE_TAP,this._handler))}},{key:"_click_item",value:function(t){var e;t&&(t=t instanceof v.default?t:t.target,this.multiSelection?(t.bool?(0<=(e=this.selectedList.indexOf(t))&&this.selectedList.splice(e,1),t.setupState([f.default.c("ef",[_.default.COLOR,this.bg_color,this.time])],v.default.state.UP),t.out_color=this.common_color):(this.selectedList.push(t),t.setupState([f.default.c("ef",[_.default.COLOR,this.over_color,this.time])],v.default.state.UP),t.out_color=t.over_color),t.state=null,t.bool=!t.bool,t.setState(v.default.state.UP)):(this.selected=t,this.dispatchEvent(new y.default(i.CHANGE,t.data,t.tf.text))))}},{key:"size",value:function(e,t){this.container&&this.container.numChildren&&(c.default.each(this.container._children,function(t){t.instance.width=e,t.tf.x=.5*(e-this.tf_obj.size*t.tf.text.length)},this),this.control)&&this.control.updateSizeInArea(e,t)}},{key:"clear",value:function(){this.container&&(this.container.removeFromParent(!0),this.control&&this.control.dispose(),this.container=this.control=null)}},{key:"dispose",value:function(){this.clear(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this.speed,this.useWheel,this.disable_ft_color,this.over_ft_color,this.line_color,this.disable_color,this.over_color,this.bg_color,this.canPush,this.item_height,this.w,this.h,this._handler,this.control,this._selected,this.container,this.tf_obj,this._datas}},{key:"selected",get:function(){return this.multiSelection?this.selectedList:this._selected},set:function(e){var i;if(this.multiSelection)return this.container&&this.container.numChildren?(i=!e||!e.length,void c.default.each(this.container._children,function(t){(i&&t.bool||!i&&(!t.bool&&0<=e.indexOf(t.data)||t.bool))&&this._click_item(t)},this)):void 0;this._selected!=e&&(this._selected&&(this._selected.enable=!0),this._selected=e)&&(this._selected.enable=!1)}},{key:"data",get:function(){return this._datas},set:function(t){(this._datas=t)&&t.length?(this.container||(t=!this.canPush&&this.h/this.item_height>=t.length,this.container=f.default.c("dc"),t||(this.control=new d.default,this.control.instance=this.container,this.control.setDimension(this.w,this.h,o.default.isY,!0,!0)),this.addChild(this.control||this.container),p.default.isPC&&this.useWheel&&(this.container.mouseEnabled=!0,this.container.addEventListener(h.default.MOUSE_WHEEL,p.default.delegate(this._mouse_wheel,this)))),c.default.each(this._datas,function(t){this.addItem(t)},this)):this.clear()}}]),i}(r.default);(e.default=i).className="List",i.CHANGE="list_select_change"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=g(i(5)),o=g(i(18)),l=g(i(10)),h=g(i(38)),u=g(i(9)),c=g(i(39)),d=g(i(36)),f=g(i(7)),_=g(i(71)),p=g(i(37)),v=g(i(1)),y=g(i(4));function g(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(){var t;if(this instanceof n)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)))._value=t._current=t._btn=t._datas=t._tf=t._sprite=t._bar=t._container=t._control=t._list=null,t._btn_height=t._timeID=t._list_width=t._list_height=0,t._downspread=t._init=t._enable=t._block=!1,t.item_bg_color="#FFFFFF",t.item_over_color="#E6F4AC",t.item_frame_color="#CCCCCC",t.text_font="Microsoft YaHei",t.text_over_color="#666666",t.text_normal_color="#CCCCCC",t.delay_time=1e3,t.item_rect=null,t.item_height=23,t.font_size=16,t.bar_width=4,t.spread=0,t.space=1,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),s(n,[{key:"select",value:function(t){if(null!=t&&this._init&&null!=this._datas&&!(this._datas.length<1))for(var e,i=0,n=this._datas.length;i<n;i++)if((e=this._datas[i])&&e.datas==t)return this.current=e.index-1,!0;return!1}},{key:"initialize",value:function(){var t,e;this._init||(this._init=!0,this._datas=[],this._list=f.default.c("dc"),this._container=f.default.c("dc"),this._container.setSize(this._list_width-2*this.bar_width,this._list_height),this._control=new c.default,this._control.setDimension(this._list_width-2*this.bar_width,this._list_height,UIOrientation.isY,!0,!1),this._control.instance=this._container,this._list.addChild(this._control),e=f.default.c("bs"),t=f.default.c("bs"),e.setup("#999999",2*this.bar_width,this._list_height,this.bar_width),t.setup("#E0E0E0",2*this.bar_width,this.bar_width),this._bar=new _.default,this._bar.setup(this._container,this._control.mask,e,t,!0,!0,{x:this._control.x,y:this._control.y}),this._list.addChild(this._bar),this._sprite=new d.default,this._sprite.addChild(this._list),this._sprite.mask=new u.default(0,0,this._list_width,this._list_height),this.addChild(this._sprite),this._tf=f.default.c("tf",{text:"",size:this.font_size,color:"#666666",font:this.text_font}),this._tf.width=this._tf.lineWidth=this._list_width-this._btn.getWidth(),this._tf.height=this._btn_height,(e=f.default.c("bs",["#FFFFFF",this._tf.width,this._tf.height])).alpha=0,this._btn.addChild(e),e.moveTo(-this._tf.width,.5*(this._tf.height-(this.font_size+4))),this.addChild(this._btn),this.moveTo(this._btn.x,this._btn.y),this._btn.moveTo(this._tf.width,0),this._sprite.moveTo(0,this._tf.height),this._btn._updateSize(),this._tf.moveTo(0,.5*(this._tf.height-(this.font_size+4))),this.addChild(this._tf),this._list.mouseEnabled=!0,this._list.addEventListener(l.default.MOUSE_OVER,v.default.delegate(this._stopCountTime,this),this.name),this._list.addEventListener(l.default.MOUSE_OUT,v.default.delegate(this._startCountTime,this),this.name),this._btn.addEventListener(l.default.MOUSE_CLICK,v.default.delegate(this._onClickHandler,this),this.name),this._btn.addEventListener(l.default.MOUSE_OVER,v.default.delegate(this._stopCountTime,this),this.name),this._btn.addEventListener(l.default.MOUSE_OUT,v.default.delegate(this._startCountTime,this),this.name),this._sprite.visible=!1)}},{key:"_onClickHandler",value:function(t){this._sprite.visible?this._closeList():this._openList()}},{key:"setup",value:function(t,e,i,n,s){if(this._btn=n,this._list_width=e,this._list_height=i,this._btn_height=n.getHeight(),this._current=null==s?0:s,this._init||this.initialize(),!(null==t||null==t.length||t.length<1)){for(var a=0,r=t.length;a<r;a++)this.addItem(t[a],!1);this._refresh(),this.current=this._current}}},{key:"addItem",value:function(t,e){var i,n,s;null!=t&&(null==this.item_rect&&(this.item_rect=new u.default(0,0,this._list_width-2*this.bar_width,this.item_height)),i=t.hasOwnProperty("value")||t.value?t.value:t,t=t.hasOwnProperty("label")||t.label?t.label:i,n=new p.default,(s=f.default.c("bs")).setup(this.item_bg_color,this._list_width-2*this.bar_width,this.item_height,0,1,this.item_frame_color),n.instance=s,n.setup([f.default.c("ef",[Effect.COLOR,this.item_bg_color,.15])],[f.default.c("ef",[Effect.COLOR,this.item_over_color,.15])]),n.setLabel({text:t,font:this.text_font,color:this.text_normal_color,size:this.font_size},this.text_over_color),n.datas=i,this._container.addChild(n),n.index=this._datas.push(n),n.setSize(s.width,s.height),n.addEventListener(l.default.MOUSE_TAP,v.default.delegate(this._onTapHandler,this),this.name),null==e)&&this._refresh()}},{key:"_refresh",value:function(){null==this._datas||this._datas.length<1||(h.default.tile(this._datas,1,!1,this.item_rect),this._container._updateSize(),this._control._recovery_scale(),this._bar.barSync())}},{key:"_onTapHandler",value:function(t){t=t.target;null!=t&&(this.current=t.index-1,this._closeList())}},{key:"_startCountTime",value:function(t){this._sprite.visible&&(0<this._timeID&&clearTimeout(this._timeID),this._timeID=setTimeout(v.default.delegate(this._closeList,this),this.delay_time))}},{key:"_stopCountTime",value:function(t){clearTimeout(this._timeID)}},{key:"_openList",value:function(){var t,e;this._block||(this._block=!0,t=this.localToGlobal(0,0),this._downspread=this.stage&&this.stage.stageHeight?t.y+this._list_height<this.stage.stageHeight:t.y-this._list_height<0,this._downspread=1==this.spread||0==this.spread&&this._downspread,t=Math.min(this._list_height,this._container.height),e=Math.max(0,this._list_height-this._container.height),this._sprite.visible=!0,this._sprite.moveTo(0,this._downspread?this._btn_height+this.space:-this.space-t-e),this._list.y=this._downspread?-this._list.height:t,o.default.remove(this._list),o.default.to(this._list,.5,{y:this._downspread?0:e,onComplete:v.default.delegate(this._outCompleteHandle,this)}))}},{key:"_closeList",value:function(){this._block||(this._block=!0,this._stopCountTime(),o.default.remove(this._list),o.default.to(this._list,.4,{y:this._downspread?-this._list_height:this._list_height,onComplete:v.default.delegate(this._inCompleteHandle,this)}))}},{key:"_inCompleteHandle",value:function(){this._block=!1,this._sprite.visible=!1,this.dispatchEvent(new y.default(n.SPREAD,!1))}},{key:"_outCompleteHandle",value:function(){this._block=!1,this.dispatchEvent(new y.default(n.SPREAD,!0))}},{key:"dispose",value:function(){this._closeList(),this._stopCountTime(),this._btn&&(this._btn.removeEventListener(l.default.MOUSE_CLICK,null,this.name),this._btn.removeEventListener(l.default.MOUSE_OVER,null,this.name),this._btn.removeEventListener(l.default.MOUSE_OUT,null,this.name)),a(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"dispose",this).call(this),delete this._block,this._value,this._current,this._btn,this._datas,this._tf,this._sprite,this._bar,this._container,this._control,this._list,delete this.text_font,this.item_bg_color,this.item_over_color,this.item_frame_color,this.text_over_color,this.text_normal_color,delete this._btn_height,this._timeID,this._list_width,this._list_height,this._downspread,this._init,this._enable,delete this.spread,this.delay_time,this.item_rect,this.item_height,this.font_size,this.bar_width}},{key:"enable",get:function(){return this._enable},set:function(t){!this._init||(this._enable=t,this._btn.enable=t)||this._closeList()}},{key:"value",get:function(){return this._value}},{key:"current",get:function(){return this._current},set:function(t){var e,i;!this._init||null==t||null==this._datas||t<0||t>=this._datas.length||(e=this._current!=t,(i=this._datas[this._current])&&(i.enable=!0),(i=this._datas[t])&&(i.enable=!1,this._value=i.datas,this._tf.text=i.getLabel()),this._current=t,e&&this.dispatchEvent(new y.default(n.SELECT,this._value)))}}]),n}(r.default);(e.default=i).SELECT="combo_list_select",i.SPREAD="combo_list_spread",i.className="ComboList"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=m(i(36)),o=m(i(9)),l=m(i(0)),h=m(i(3)),u=m(i(5)),c=m(i(18)),d=m(i(10)),f=m(i(38)),_=m(i(2)),p=m(i(7)),v=m(i(1)),y=m(i(6)),g=m(i(4));function m(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).space=0,t.offset=1,t.mouseEnabled=!0,t._portrait=!0,t._is_init=t._is_next=t._has_drag=t._is_full=!1,t._bg_color=t._base_size=t._temp_item=t._bg=t._temp_point=t._time=t._start_point=t._complete=t._length=t._hold_rect=t._free_rect=t._current=t._middle=t._list=t._container=t._max_num=t._max_num=t._item_class=t._list_width=t._list_height=t._item_size=t._datas=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t,e,i,n){var s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,r=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0;null!=n&&(this._item_class=n,this._portrait=!(0==s),this._base_size=this._portrait?e:t,this._item_size=i,this._list_height=e,this._list_width=t,this._bg_color=a,null!=this._datas)&&(this._container&&this.clear(),this.init(r))}},{key:"clear",value:function(){if(null!=this._datas&&null!=this._list){var t=void 0,e=this._list.length,i=void 0;for(c.default.remove(this._container),t=0;t<e;t++)(i=this._list[t]).removeEventListener(d.default.MOUSE_TAP),i.removeFromParent(!1),_.default.remove(i);this.mask=null,this.removeAllChildren(!0),this._current=this._temp_item=this._hold_rect=this._free_rect=this._container=this._list=null}}},{key:"init",value:function(t){t=null==t?0:t,l.default.isEmpty(this._bg_color)||(this._bg&&this.contains(this._bg)&&this._bg.removeFromParent(!0),this._bg=p.default.c("bs",[this._bg_color,this._list_width,this._list_height]),this._bg.mouseEnabled=!0,this.addChildAt(this._bg,0)),this._middle=Math.ceil(.5*(this._portrait?this._list_height:this._list_width))-Math.floor(.5*this._item_size),this._max_num=Math.ceil((this._portrait?this._list_height:this._list_width)/(this._item_size+this.space))+2,this._length=(this._item_size+this.space)*this._datas.length-this.space,this._is_full=this._datas.length>this._max_num,this._container=new u.default,this.addChild(this._container),this._list=[],this._container.mouseEnabled=!0,this._container.moveTo(this._portrait?0:this._middle,this._portrait?this._middle:0),this.mask=new o.default(0,0,this._list_width,this._list_height),this._free_rect=new o.default(0,0,this._portrait?0:this._length,this._portrait?this._length:0),this._hold_rect=new o.default(0,0,this._portrait?0:this._free_rect.width+this._list_width,this._portrait?this._free_rect.height+this._list_height:0),this._create_list(),0<this._list.length&&(this._temp_item=this._list[0],this._list[0].selected=!0,(this.current=0)<t?this.goto(t,!0):(this._update_items_state(),this.dispatchEvent(new g.default(i.SELECT,this._datas[0])))),this._is_init||(this._is_init=!0,this._complete=v.default.delegate(this.onTweenComplete,this),this.addEventListener(d.default.MOUSE_DOWN,v.default.delegate(this.onMouseDown,this)),this.addEventListener(d.default.MOUSE_WHEEL,v.default.delegate(this.onMouseWheel,this)))}},{key:"onMouseDown",value:function(t){this._has_drag=!1,c.default.remove(this._container),this._start_point=new y.default(t.mouseX,t.mouseY),this.stage.addEventListener(d.default.MOUSE_MOVE,v.default.delegate(this.onMouseMove,this),this.name),this.stage.addEventListener(d.default.MOUSE_UP,v.default.delegate(this.onMouseUp,this),this.name)}},{key:"onMouseMove",value:function(t){var e,t=new y.default(t.mouseX,t.mouseY);!this._has_drag&&5<y.default.distance(this._start_point,t)&&(e=this.localToGlobal(this._portrait?0:this._middle,this._portrait?this._middle:0),this._free_rect.x=this._portrait?e.x:e.x-this._length,this._free_rect.y=this._portrait?e.y-this._length:e.y,this._hold_rect.x=this._portrait?this._free_rect.x:Math.ceil(this._free_rect.x-.5*this._list_width),this._hold_rect.y=this._portrait?Math.ceil(this._free_rect.y-.5*this._list_height):this._free_rect.y,this._has_drag=!0,this._is_next=this._portrait?e.y<this._start_point.y:e.x<this._start_point.x,this.stage.startDrag(this._container,this._hold_rect,!1,this._free_rect),this._time=(new Date).getTime(),this._start_point=t),this._has_drag&&(e=this._portrait?"y":"x",this._is_next&&t[e]<=(this._temp_point||this._start_point)[e]||!this._is_next&&t[e]>=(this._temp_point||this._start_point)[e]?this._temp_point=t:(this._start_point=this._temp_point=t,this._time=(new Date).getTime(),this._is_next=!this._is_next),this._update_list())}},{key:"onMouseUp",value:function(t){var e;this.stage.removeEventListener(d.default.MOUSE_MOVE,null,this.name),this.stage.removeEventListener(d.default.MOUSE_UP,null,this.name),this._has_drag=!1,this.stage.stopDrag(),null==t?this._start_point=this._temp_point=this._time=null:(0==(t=(new Date).getTime()-this._time)||null==this._temp_point?this._move_current_item():this._move_list_by_speed(this._portrait?Math.abs(this._start_point.y-this._temp_point.y)/t:Math.abs(this._start_point.x-this._temp_point.x)/t),this._start_point=this._temp_point=this._time=null,(this._portrait?this._container.y>this._middle||this._container.y<this._middle-this._length+this._item_size:this._container.x>this._middle||this._container.x<this._middle-this._length+this._item_size)&&(t=this._portrait?0:this._container.x>this._middle?this._middle:this._container.x<this._middle-this._length+this._item_size?this._middle-this._length+this._item_size:this._container.x,e=this._portrait?this._container.y>this._middle?this._middle:this._container.y<this._middle-this._length+this._item_size?this._middle-this._length+this._item_size:this._container.y:0,c.default.to(this._container,.16,{ease:"easeoutquad",x:t,y:e,onComplete:this._complete})))}},{key:"_move_list_by_speed",value:function(t){var e;null!=t&&(0==t||t<.1?this._move_current_item():(t=h.default.format(t*(this._item_size+this.space)*this.offset),e=Math.max(.1,h.default.format(t*this.offset*.3/this._item_size)),this.moveList(t,e)))}},{key:"moveList",value:function(t,e){var i,n;null!=t&&0!=t&&(i=this._portrait?"y":"x",t=(t=(t=Math.ceil((this._container[i]+(this._is_next?-1:1)*t)/(this._item_size+this.space)))*(this._item_size+this.space)-(1<t?this.space+.5*this._item_size:.5*this._item_size))>this._middle?this._middle:t<this._middle-this._length+this._item_size?this._middle-this._length+this._item_size:t,0==e?(this._container[i]=t,this.reset_list()):((n={})[i]=t,n.onComplete=this._complete,n.onUpdate=v.default.delegate(this._update_list,this),c.default.to(this._container,e,n)))}},{key:"onTweenComplete",value:function(){this._update_items_state(),this._move_current_item()}},{key:"onMouseWheel",value:function(t){this._is_next=t.delta<0,c.default.remove(this._container),this._move_list_by_speed(Math.abs(t.delta))}},{key:"onMouseTap",value:function(t){t=t.target;null!=t&&this.goto(t.index)}},{key:"goto",value:function(t,e){var i;t<0||t>=this._datas.length||this._current==t||(c.default.remove(this._container),i=this._portrait?"y":"x",t=(t=(t+1)*(this._item_size+this.space)-(0<t?this.space:0))+this._container[i]-this._middle-this._item_size,this._is_next=0<t,i=Math.abs(t),t=e?0:Math.max(.1,h.default.format(i*this.offset*.1/this._item_size)),this.moveList(i,t))}},{key:"reset_list",value:function(){if(!(null==this._list||this._list.length<1)){var t=void 0,e=void 0,i=this._list.length,n=void 0,s=this._portrait?"y":"x",a=this._container[s],r=0<(r=Math.abs(Math.ceil((this._middle-a+.5*this._item_size)/(this._item_size+this.space))))?r-1:0,a=Math.ceil(.5*this._max_num)-(this._max_num%2==0?0:1),o=r-a;for(o=(o=r+a>this._datas.length-1?this._datas.length-this._list.length:o)<0?0:o,t=0;t<i;t++)(n=this._list[t]).index=o,n.selected=!1,n.data=this._datas[o],n[s]=o*(this._item_size+this.space),o==r&&(e=t),o++;this._update_items_state(e),this._move_current_item()}}},{key:"_create_list",value:function(){if(!(null==this._datas||this._datas.length<1)){for(var t,e=void 0,i=void 0,n=Math.min(this._datas.length,this._max_num),e=0;e<n;e++)t=this._datas[e],i=_.default.create(this._item_class),this._list.push(i),this._container.addChild(i),i.set(t,this._portrait?this._list_width:this._item_size,this._portrait?this._item_size:this._list_height),i.index=e,i.addEventListener(d.default.MOUSE_TAP,v.default.delegate(this.onMouseTap,this));f.default.tile(this._list,1,!this._portrait,new o.default(0,0,this._portrait?this._list_width:this._item_size,this._portrait?this._item_size:this._list_height),new y.default(this._portrait?0:this.space,this._portrait?this.space:0))}}},{key:"_update_list",value:function(){var t,e,i,n,s;this._update_items_state(),this._is_full&&(e=(t=this._is_next?this._list[this._list.length-1]:this._list[0]).index,this._is_next&&e>=this._datas.length-1||!this._is_next&&e<=0||(n={x:(i=this._is_next?this._list[0]:this._list[this._list.length-1]).x+this._container.x,y:i.y+this._container.y},s=this._portrait?"y":"x",this._is_next?n[s]>-this._item_size||(this._list.shift(),i.index=e+1,i.data=this._datas[i.index],i.selected=i.index==this._current,this._list.push(i),i[s]=t[s]+(this._item_size+this.space)):n[s]<(this._portrait?this._list_height:this._list_width)+this._item_size||(this._list.pop(),i.index=e-1,i.data=this._datas[i.index],i.selected=i.index==this._current,i.selected&&(this._temp_item=i),this._list.unshift(i),i[s]=t[s]-(this._item_size+this.space))))}},{key:"_update_items_state",value:function(t){if(!(null==this._list||this._list.length<1)){for(var e,i=null==t?this._middle:this._list[t][l]+this._container[l],n=void 0,s=0,a=this._list.length,r=void 0,o=void 0,l=this._portrait?"y":"x",n=0;n<a;n++)r=this._list[n],e=Math.abs(r[l]+this._container[l]-i),0==n?o=e:e<o&&(o=e,s=n),r.update(h.default.format((this._middle-e)/this._middle));this.current=this._list[s=null==t?s:t].index,this._temp_item=this._list[s],this._list[s].selected=!0}}},{key:"_move_current_item",value:function(){var t=this._portrait?"y":"x",e=this._temp_item[t]+this._container[t]-this._middle;this._container[t]-=e,this.dispatchEvent(new g.default(i.SELECT,this._datas[this._current]))}},{key:"dispose",value:function(){this.clear(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this._bg_color,this.space,this.offset,this.mouseEnabled,this._portrait,this._is_init,this._is_next,this._has_drag,this._is_full,this._temp_item,this._bg,this._temp_point,this._time,this._start_point,this._complete,this._length,this._hold_rect,this._free_rect,this._current,this._middle,this._list,this._container,this._max_num,this._max_num,this._item_class,this._list_width,this._list_height,this._item_size,this._datas}},{key:"data",get:function(){return this._datas},set:function(t){this._datas==t&&this._container||(this._datas=t,null!=this._list_height&&null!=t&&(this._container&&this.clear(),this.init()))}},{key:"listWidth",get:function(){return this._list_width},set:function(t){if(null!=t&&this._list_width!=t&&(this._list_width=t,!(null==this._list||this._list.length<1)))if(this._portrait){for(var e in this._bg&&(this._bg.width=this._list_width),this._list)this._list[e].itemWidth=this._list_width;this.mask=new o.default(0,0,this._list_width,this._list_height)}else{t=this._current;this.clear(),this.init(t)}}},{key:"listHeight",get:function(){return this._list_height},set:function(t){if(null!=t&&this._list_height!=t&&(this._list_height=t,!(null==this._list||this._list.length<1)))if(this._portrait){t=this._current;this.clear(),this.init(t)}else{for(var e in this._bg&&(this._bg.height=this._list_height),this._list)this._list[e].itemHeight=this._list_height;this.mask=new o.default(0,0,this._list_width,this._list_height)}}},{key:"current",get:function(){return this._current},set:function(t){this._current!=t&&(null!=this._current&&this._temp_item&&(this._temp_item.selected=!1),this._current=t)}}]),i}(r.default);(e.default=i).SELECT="stl_select_item",i.className="ScrollTouchList"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=g(i(5)),o=g(i(14)),l=g(i(0)),h=g(i(2)),u=g(i(17)),c=g(i(3)),d=g(i(27)),f=g(i(7)),_=g(i(23)),p=g(i(26)),v=g(i(1)),y=g(i(4));function g(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)))._thickness=0,t._fill_alpha=1,t._dash=t._rect=t._vo=t.instance=t._stroke=t._pattern=t._pattern_src=t._color=null,t.use_canvas=v.default.useCanvas,t.mouseChildren=!1,t.repeat="repeat",t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"#FF8800",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1;return t&&(this._vo&&this._vo instanceof _.default&&(t&&this._vo.type!=t.type&&this.instance.element&&(this.instance.element=null),h.default.remove(this._vo)),this._vo=t,t=(t=this._vo.properties.style)||{},delete this._vo.properties.style,this._thickness=0!=n&&(n||t.strokeWidth)||0,this._stroke=this._format_color(i)||t.stroke||"#000000",this._fill_alpha=null==s?t.fillOpacity||t.opacity||this._fill_alpha:s,null==this.instance?(this.instance=f.default.c("do",null,this.use_canvas),this.instance.hide_over=!1,this.addChild(this.instance)):this.instance.moveTo(0,0),this._vo.rect&&(this._rect=this._vo.rect.clone(),this.setSize(this._rect.width,this._rect.height)),this._color=this._format_color(e)||t.fill||"#FFFFFF",this.resize=!0),this}},{key:"_format_color",value:function(t){if(!(t&&t instanceof p.default))return t;if(this.use_canvas)return u.default.getGradientColor(t);if(null==this.instance||null==this.instance.element)return t;var e,i=this.instance.element.getElementsByTagName("defs")[0],n=(null==i&&(i=d.default.create("defs"),this.instance.element.appendChild(i)),this.instance.element.getElementById(this.name+"_gradient")),s=(n&&n.parentNode&&n.parentNode.removeChild(n),{id:this.name+"_gradient"}),a=(0==t.type?(s.x1=c.default.int(100*t.xStart/t.radiusStart)+"%",s.y1=c.default.int(100*t.yStart/t.radiusEnd)+"%",s.x2=c.default.int(100*t.xEnd/t.radiusStart)+"%",s.y2=c.default.int(100*t.yEnd/t.radiusEnd)+"%"):(s.fx=c.default.int(100*t.xStart/(2*t.radiusEnd))+"%",s.fy=c.default.int(100*t.yStart/(2*t.radiusEnd))+"%",s.cx=c.default.int(100*t.xEnd/(2*t.radiusEnd))+"%",s.cy=c.default.int(100*t.yEnd/(2*t.radiusEnd))+"%",s.r="50%"),n=d.default.create(0==t.type?"linearGradient":"radialGradient",s),void 0),r=t.offsetlist.length;for(1==t.type&&0<t.radiusStart&&t.offsetlist[0]<t.radiusStart/t.radiusEnd&&(t.offsetlist[0]=t.radiusStart/t.radiusEnd),a=0;a<r;a++)e=d.default.create("stop",{offset:t.offsetlist[a],"stop-color":t.colorList[a]}),n.appendChild(e);return i.appendChild(n),"url(#"+this.name+"_gradient)"}},{key:"redraw",value:function(){var t;this.__checkDisplayUpdate(),this.instance.width=this.width,this.instance.height=this.height,this.use_canvas&&this.instance.graphics?(0<this._thickness?this.instance.graphics.lineStyle(this._thickness,this._stroke):this.instance.graphics.stroke_style=null,this._pattern?(t=this.instance.graphics).beginBitmapFill.apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(this._pattern)):this.instance.graphics.beginFill(this._color,this._fill_alpha),this.instance.graphics.drawShape(this._vo),this.instance.graphics.endFill()):d.default.supported&&(t=void 0,null==this.instance.element?(this.instance.element=d.default.create("svg",{style:{width:this.width+"px",height:this.height+"px"}}),t=d.default.create(this._vo.type,this._vo.properties),this.instance.element.appendChild(t)):(t=this.instance.element.getElementsByTagName(this._vo.type)[0],this._vo.properties&&d.default.setAttributes(t,this._vo.properties)),t.style.stroke=this._stroke,t.style.strokeWidth=this._thickness,t.style.fillOpacity=this._fill_alpha,t.style.fill=this._pattern?"url(#"+this._pattern.id+")":this._format_color(this._color),t.setAttribute("stroke-dasharray",l.default.isEmpty(this._dash)?"":this._dash),this._parent)&&this._parent.autoSize&&this._parent._updateSize()}},{key:"clone",value:function(){var t,e=h.default.create(i);return e.param=this.param,this.origin&&(e.origin=this.origin.clone()),e.setup(this._vo.clone(),this._color,this._thickness,this._stroke,this._fill_alpha),e._dash=this._dash,this._pattern&&!l.default.isEmpty(this._pattern_src)&&((t=new Image).onload=function(){this.onload=null,e.pattern=t},t.src=this._pattern_src),e}},{key:"render",value:function(){this.resize&&this.redraw(),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"render",this).apply(this,arguments),this.resize=!1}},{key:"reset",value:function(){this._vo&&h.default.remove(this._vo),this._rect&&h.default.remove(this._rect),this._rect=this._vo=this._pattern_src=this._stroke=this.pattern=this._color=null,this.instance&&(this.instance.removeFromParent(!0),this.instance=null),a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this),this._dash=null,this._thickness=0,this._fill_alpha=1,this.autoSize=!0,this.repeat="repeat",this.mouseChildren=!1,this.use_canvas=v.default.useCanvas}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),delete this.use_canvas,this._dash,this._rect,this._vo,this._pattern_src,this._fill_alpha,this._thickness,this._stroke,this._color,this._pattern,this.repeat}},{key:"toString",value:function(){return i.name}},{key:"pattern",get:function(){return this._pattern},set:function(t){var e;this._pattern&&this._pattern.parentNode&&this._pattern.parentNode.removeChild(this._pattern),this.resize=!0,this.__checkDisplayUpdate(),(this._pattern_src=this._pattern=null)!=t&&t instanceof Image&&(this._pattern_src=t.src,e=d.default.supported,0==this._fill_alpha&&(this._fill_alpha=1),this._pattern=t&&(this.use_canvas?[t,this.repeat,this._fill_alpha]:e?d.default.create("pattern",{id:this.name+"_pattern",width:t.width,height:t.height,patternUnits:"userSpaceOnUse"}):t),null==this.instance.element&&this.redraw(),t)&&!this.use_canvas&&e&&this.instance.element&&((e=d.default.create("image",{x:0,y:0,width:t.width,height:t.height})).setAttributeNS(d.default.xlink,"href",t.src),this._pattern.appendChild(e),null==(t=this.instance.element.getElementsByTagName("defs")[0])&&(t=d.default.create("defs"),this.instance.element.appendChild(t)),t.appendChild(this._pattern))}},{key:"resize",set:function(t){t&&this._resize!=t&&(this.use_canvas&&this.instance&&this.instance.graphics.reset(),this.dispatchEvent(new y.default(o.default.RESIZE)),this.__checkDisplayUpdate()),this._resize=t},get:function(){return this._resize}},{key:"dash",get:function(){return this._dash},set:function(t){t!=this._dash&&(this._dash=t,this.resize=!0)}},{key:"color",get:function(){return this._color},set:function(t){this.pattern=null,"string"==typeof t&&l.default.isEmpty(t)?this._fill_alpha=0:0==this._fill_alpha&&(this._fill_alpha=1),null!=t&&this._color!=t&&(this._color=this._format_color(t))}},{key:"strokeColor",get:function(){return this._stroke},set:function(t){null!=t&&t!=this._stroke&&(l.default.isEmpty(t)?this.thickness=0:0==this.thickness&&(this.thickness=1),this._stroke=this._format_color(t),this.resize=!0)}},{key:"thickness",get:function(){return this._thickness},set:function(t){null!=t&&t!=this._thickness&&(this._thickness=t,this.resize=!0)}}]),i}(r.default);(e.default=i).className="Shape"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=y(i(5)),o=y(i(48)),l=y(i(18)),h=y(i(10)),u=y(i(2)),c=y(i(8)),d=y(i(9)),f=y(i(7)),_=y(i(6)),p=y(i(1)),v=y(i(4));function y(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).space=2,t.redius=20,t.length=85,t.lock=!1,t.bool=!1,t.speed=1e3,t.drag_rate=5,t.has_shadow=!0,t.color="#FFFFFF",t.bg_color="#666666",t.sd_color="#000000",t.md_color="#FFF888",t.is_drag=t.is_open=!1,t.hold_rect=t.point=t.point2=t.shadow=t.middle=t.bottom=t.bar=null,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"setup",value:function(t){t&&c.default.copyAttribute(this,t,!0),this.bottom?(this.bottom.setSize(this.length+2*this.space,2*(this.redius+this.space)),this.bottom.redius=this.redius+this.space,this.bottom.color=this.bg_color):(this.bottom=f.default.c("bs",[this.bg_color,this.length+2*this.space,2*(this.redius+this.space),this.redius+this.space]),this.addChild(this.bottom),this.bottom.mouseEnabled=!0,this.bottom.addEventListener(h.default.MOUSE_TAP,p.default.delegate(this.change_handler,this))),this.middle?(this.middle.setSize(this.length+2*this.space,2*(this.redius+this.space)),this.middle.redius=this.redius+this.space,this.middle.color=this.md_color):(this.middle=this.bottom.clone(),this.middle.color=this.md_color,this.middle.mouseEnabled=!1,this.addChild(this.middle)),this.bar?(this.bar.setSize(2*this.redius,2*this.redius),this.bar.redius=this.redius,this.bar.color=this.color):(this.bar=f.default.c("bs",[this.color,2*this.redius,2*this.redius,this.redius]),this.addChild(this.bar),this.bar.buttonMode=this.bar.mouseEnabled=!0,this.bar.addEventListener(h.default.MOUSE_DOWN,p.default.delegate(this.mouse_handler,this))),this.bar.y=this.redius+this.space,this.bar.origin={x:this.redius,y:this.redius},!this.shadow&&this.has_shadow?this.shadow=new o.default(1,30,.3*this.redius,this.sd_color,1,this.redius):this.shadow=null,this.shadow&&this.bar.instance.filters&&this.bar.instance.filters.indexOf(this.shadow)<0?this.bar.instance.filters=[this.shadow]:this.shadow||(this.bar.instance.filters=[]),this.sync_data(),this.setSize(this.length+2*this.space,2*(this.redius+this.space))}},{key:"change_handler",value:function(t){this.lock||(this.value=!this.bool)}},{key:"mouse_handler",value:function(t){this.stage&&!this.lock&&(this.point||(this.point=u.default.create(_.default)),this.point.set(t.mouseX,t.mouseY),this.is_open=!this.bool,this.is_drag=!1,this.lock=!0,this.stage.addEventListener(h.default.MOUSE_UP,p.default.delegate(this.mouse_up,this),this.name),this.stage.addEventListener(h.default.MOUSE_MOVE,p.default.delegate(this.mouse_move,this),this.name))}},{key:"mouse_move",value:function(t){this.point2||(this.point2=u.default.create(_.default));var e,i=this.point2.x;this.point2.set(t.mouseX,t.mouseY),!this.is_drag&&_.default.distance(this.point,this.point2)>this.drag_rate?(t=this.localToGlobal(this.space+this.redius,this.space+this.redius),e=this.localToGlobal(this.length+this.space-this.redius,this.space+this.redius),this.hold_rect||(this.hold_rect=new d.default),this.hold_rect.data={x:t.x,y:t.y,width:Math.abs(e.x-t.x)},this.stage.startDrag(this.bar,this.hold_rect),this.middle.visible=!0,this.is_drag=!0):this.is_drag&&(this.is_open=this.point2.x>=i,this._change_middle())}},{key:"mouse_up",value:function(t){this.stage.removeEventListener(h.default.MOUSE_UP,null,this.name),this.stage.removeEventListener(h.default.MOUSE_MOVE,null,this.name),this.lock=!1,this.is_drag?(this.stage.stopDrag(),this.bool!=this.is_open?this.value=this.is_open:this.sync_data(!0)):this.change_handler()}},{key:"_change_middle",value:function(){this.middle.width=this.redius+this.bar.x+this.space}},{key:"sync_data",value:function(t){var e=this.bool?this.length+this.space-this.redius:this.space+this.redius;t&&e!=this.bar.x?(this.lock=!0,this.middle.visible=!0,l.default.remove(this.bar),l.default.to(this.bar,Math.abs(e-this.bar.x)/this.speed,{x:e,onUpdate:p.default.delegate2(this._change_middle,this),onCompleteParams:[this],onComplete:function(t){t.lock=!1,t.bool?t.middle.width=t.bottom.width:t.middle.visible=!1}})):(this.bar.x=e,this.middle.visible=this.bool)}},{key:"reset",value:function(){this.space=2,this.redius=20,this.length=85,this.lock=!1,this.bool=!1,this.speed=1e3,this.drag_rate=5,this.has_shadow=!0,this.color="#FFFFFF",this.bg_color="#666666",this.sd_color="#000000",this.md_color="#FFF888",this.is_drag=this.is_open=!1,this.hold_rect=this.point=this.point2=this.shadow=this.middle=this.bottom=this.bar=null,a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"reset",this).call(this)}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),point&&u.default.remove(point),point2&&u.default.remove(point2),delete this.drag_rate,this.hold_rect,this.lock,this.point,this.point2,this.space,this.redius,this.length,this.bool,this.speed,this.has_shadow,this.color,this.bg_color,this.sd_color,this.shadow,this.bottom,this.bar}},{key:"value",get:function(){return this.bool},set:function(t){this.bool!=t&&(this.bool=t,this.bottom)&&(this.sync_data(!0),this.dispatchEvent(new v.default(i.CHANGE,this.bool)))}}]),i}(r.default);(e.default=i).CHANGE="switch_button_change",i.className="SwitchButton"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?a(n,e,i):void 0}var r=p(i(5)),o=p(i(10)),l=p(i(14)),h=p(i(3)),u=p(i(7)),c=p(i(1)),d=p(i(50)),f=p(i(9)),_=p(i(6));function p(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function i(){var t;if(this instanceof i)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this))).limit_rect=t.limit_scale=t._target_scaleX=t._target_scaleY=t._target_angle=t._target_rotation=t._target_distance=t._center=t._point1=t._point2=t._double_finger=t._canvas=t._target=null,t.wheel=t.rotate=t.mouseEnabled=!0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(i,[{key:"_init_transformer",value:function(){this._clear_transformer(),null==this._canvas&&(this._canvas=u.default.c("bs")),this._canvas.setup("#FFFFFF",this._target.width,this._target.height,0,0,0,0),this.contains(this._canvas)||this.addChild(this._canvas),this._canvas.mouseEnabled=!0,this._canvas.breakTouch=!0,this._canvas.addEventListener(o.default.MOUSE_DOWN,c.default.delegate(this._drag_mouse_down,this),this.name),this._canvas.matrix=this._target.matrix,this.wheel&&this._canvas.addEventListener(o.default.MOUSE_WHEEL,c.default.delegate(this._mouse_wheel_handle,this),this.name)}},{key:"_mouse_wheel_handle",value:function(t){var e=this._canvas.scaleX+.1*t.delta,i=this._canvas.globalToLocal(t.mouseX,t.mouseY),e=(this.limit_scale&&(e=h.default.clamp(e,this.limit_scale.min,this.limit_scale.max)),this._canvas.scale=e,i=this._canvas.localToGlobal(i),new _.default(h.default.format(this._canvas.x+t.mouseX-i.x),h.default.format(this._canvas.y+t.mouseY-i.y)));this.limit_rect&&(e=f.default.innerPoint(this._count_limit_area(),e)),this._canvas.moveTo(e),d.default.copyTransform(this._canvas,this._target)}},{key:"sync",value:function(){this._canvas&&this._target&&d.default.copyTransform(this._target,this._canvas)}},{key:"_drag_mouse_down",value:function(t){this._double_finger=2==t.length,this._double_finger?(this._point1=t.touchs[0],this._point2=t.touchs[1],this._target_scaleX=this._canvas.scaleX,this._target_scaleY=this._canvas.scaleY,this._target_rotation=this._canvas.rotation,this._target_angle=h.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY),this._center=new _.default(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),this._center=this._canvas.globalToLocal(this._center.x,this._center.y),this._target_distance=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY))):((this.stage||Stage.current).startDrag(this._canvas,this.limit_rect?this._count_limit_area():null),this._point1=this._point2=null),(this.stage||Stage.current).addEventListener(o.default.MOUSE_UP,c.default.delegate(this._drag_mouse_up,this),this.name),(this.stage||Stage.current).addEventListener(o.default.MOUSE_MOVE,c.default.delegate(this._drag_mouse_move,this),this.name)}},{key:"_drag_mouse_move",value:function(t){var e,i,n,s;this._double_finger?2!=t.length||this._point1.id!=t.touchs[0].id&&this._point2.id!=t.touchs[1].id&&this._point1.id!=t.touchs[1].id&&this._point2.id!=t.touchs[0].id||(this._point1.id!=t.touchs[0].id?(this._point1=t.touchs[1],this._point2=t.touchs[0]):(this._point1=t.touchs[0],this._point2=t.touchs[1]),t=void(this.rotate&&(t=h.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY),this._canvas.rotation=h.default.format(this._target_rotation+h.default.getDegreesFromRadians(t-this._target_angle)))),s=n=i=e=void 0,t=e=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY))/this._target_distance,t=h.default.format(this._target_scaleX*t),e=h.default.format(this._target_scaleY*e),this.limit_scale&&(t=h.default.clamp(t,this.limit_scale.min,this.limit_scale.max),e=h.default.clamp(e,this.limit_scale.min,this.limit_scale.max)),this._canvas.scaleX=t,this._canvas.scaleY=e,i=this._canvas.localToGlobal(this._center.x,this._center.y),n=new _.default(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),s=new _.default(h.default.format(this._canvas.x+n.x-i.x),h.default.format(this._canvas.y+n.y-i.y)),this.limit_rect&&(s=f.default.innerPoint(this._count_limit_area(),s)),this._canvas.moveTo(s),d.default.copyTransform(this._canvas,this._target)):this._target.moveTo(this._target.parent.globalToLocal(this._canvas.localToGlobal(0,0)))}},{key:"_count_limit_area",value:function(){var t=this._canvas.getHeight(),e=this._canvas.getWidth(),i=new f.default,n=e>this.limit_rect.width,s=e>this.limit_rect.height;return i.x=n?this.limit_rect.right-e:this.limit_rect.x,i.y=s?this.limit_rect.bottom-t:this.limit_rect.y,i.width=Math.abs(this.limit_rect.width-e),i.height=Math.abs(this.limit_rect.height-t),i}},{key:"_drag_mouse_up",value:function(t){this._double_finger||(this.stage||Stage.current).stopDrag(),(this.stage||Stage.current).removeEventListener(o.default.MOUSE_UP,null,this.name),(this.stage||Stage.current).removeEventListener(o.default.MOUSE_MOVE,null,this.name),this._target_scaleX=this._target_scaleY=this._target_distance=this._target_rotation=this._target_angle=this._center=this._point1=this._point2=null}},{key:"_clear_transformer",value:function(){this._canvas&&(this.contains(this._canvas)&&this._canvas.removeFromParent(!1),this._canvas.removeEventListener(o.default.MOUSE_DOWN,null,this.name),this._canvas.removeEventListener(o.default.MOUSE_WHEEL,null,this.name)),this._drag_mouse_up(null)}},{key:"dispose",value:function(){a(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this),this.target=null,delete this.limit_rect,this.limit_scale,this.wheel,this._canvas,this._target,this.rotate,this._target_scaleX,this._target_scaleY,this._target_distance,this._target_rotation,this._target_angle,this._center,this._point1,this._point2}},{key:"target",get:function(){return this._target},set:function(t){this._target=t,this._target&&this._target instanceof l.default?this._init_transformer():this._clear_transformer()}}]),i}(r.default);(e.default=i).className="TouchScale"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);return void 0!==n?"value"in n?n.value:void 0!==(n=n.get)?n.call(i):void 0:null!==(n=Object.getPrototypeOf(t))?r(n,e,i):void 0}var a=b(i(5)),o=b(i(14)),l=b(i(10)),h=b(i(73)),u=b(i(1)),c=b(i(6)),d=b(i(74)),f=b(i(50)),_=b(i(3)),p=b(i(2)),v=b(i(39)),y=b(i(22)),g=b(i(7)),m=b(i(4));function b(t){return t&&t.__esModule?t:{default:t}}i=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function a(){var t;if(this instanceof a)return(t=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this))).lineWidth=2,t.round=16,t.support_finger=!0,t.rotate=!0,t.key_control=!0,t.wheel_control=!0,t.is_free=!1,t.pos_percent={x:.5,y:.5},t.relative_data,t.min_size=0,t.adjust_pos=null,t._min_scale=t._point1=t._point2=t._finger_center=t._center=t._target=t._btn=t._redraw=t._canvas=t._color=t._point=null,t._target_center=t._move_point=t._target_angle=t._target_rotation=t._target_scaleX=t._target_scaleY=t._target_distance=t._target_offsetX=t._target_offsetY=null,t._cache_point={x:0,y:0},t._double_finger=!1,t._has_key_down=!1,t.mouseEnabled=!0,t._state=0,t;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),n(a,[{key:"setup",value:function(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"#888888";this._btn=e||d.default.getButton(this.round),this._redraw=Boolean(i),this._color=n,this.target=t}},{key:"update_relative_data",value:function(t){this._target&&this._target.parent&&(this.relative_data=this._target.parent.getMatrix().applyDisplay(),this.relative_data.radians=_.default.getRadiansFromDegrees(this.relative_data.rotation),t||this.sync_display())}},{key:"sync_display",value:function(){this._target&&this._target.parent&&(f.default.copyTransform(this._target,this._canvas,this.relative_data,!0),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this._canvas.thickness=2*this.lineWidth/(this._canvas.scaleX+this._canvas.scaleY),this._canvas.resize=!0)}},{key:"_update_target_size",value:function(){this._target_rect=this._target.getBounds(this._target),this.adjust_pos&&this.adjust_pos.x&&(this._target_rect.x+=this.adjust_pos.x),this.adjust_pos&&this.adjust_pos.y&&(this._target_rect.y+=this.adjust_pos.y),null==this._canvas&&(this._canvas=g.default.c("bs")),this._canvas.setup("#FFFFFF",this._target.width,this._target.height,0,this._redraw?this.lineWidth:0,this._color,0),u.default.useCanvas&&this._canvas.instance.moveTo(.5*-this.lineWidth,.5*-this.lineWidth),this._point||(this._point=p.default.create(c.default)),this._point.set(this._target_rect.x+this._target_rect.width,this._target_rect.y+this._target_rect.height),this._center||(this._center=p.default.create(c.default)),this._center.set(this._target_rect.x+this._target_rect.width*this.pos_percent.x,this._target_rect.y+this._target_rect.height*this.pos_percent.y),this._canvas.thickness=2*this.lineWidth/(this._canvas.scaleX+this._canvas.scaleY),this._canvas.resize=!0,0<this.min_size&&(this._min_scale=_.default.format(this.min_size/Math.min(this._target_rect.width,this._target_rect.height)))}},{key:"_init_transformer",value:function(){this._clear_transformer(),this._update_target_size(),this.contains(this._canvas)||this.addChild(this._canvas),this._canvas.syncSize=!0,this._canvas.usePolyCollision=!0,this._canvas.mouseEnabled=!0,this._canvas.breakTouch=!0,this.contains(this._btn)||(this._btn.breakTouch=!0,this.addChild(this._btn)),this._btn.addEventListener(l.default.MOUSE_DOWN,u.default.delegate(this._trans_mouse_down,this),this.name),this._canvas.addEventListener(l.default.MOUSE_DOWN,u.default.delegate(this._drag_mouse_down,this),this.name),this._canvas.matrix=this._target.matrix,this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),u.default.isPC&&(this.wheel_control&&this._canvas.addEventListener(l.default.MOUSE_WHEEL,u.default.delegate(this._mouse_wheel_handle,this),this.name),this.key_control)&&(this.stage||y.default.current).addEventListener(l.default.KEY_DOWN,u.default.delegate(this._key_down,this),this.name)}},{key:"_mouse_wheel_handle",value:function(t){var e,i;this.wheel_control&&(i=Math.max(this._min_scale,Math.abs(this._canvas.scaleX+.05*t.delta)),e=this._canvas.globalToLocal(t.mouseX,t.mouseY),this._canvas.scale=i,e=this._canvas.localToGlobal(e),i=p.default.create(c.default).set(_.default.format(this._canvas.x+t.mouseX-e.x),_.default.format(this._canvas.y+t.mouseY-e.y)),this._canvas.moveTo(i),f.default.copyTransform(this._canvas,this._target,this.relative_data),this._canvas.thickness=2*this.lineWidth/(this._canvas.scaleX+this._canvas.scaleY),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this.dispatchEvent(new m.default(a.SCALE)),p.default.remove(i))}},{key:"_key_up",value:function(t){this._has_key_down&&((this.stage||y.default.current).removeEventListener(l.default.KEY_UP,null,this.name),this.dispatchEvent(new m.default(a.MOVE))),this._has_key_down=!1}},{key:"_key_down",value:function(t){if(null!=this.stage&&null!=this._target&&this._target instanceof o.default&&null!=t&&t.target==this._canvas){var e=!1;switch(t.params){case 37:e=!0,--this._canvas.x;break;case 38:e=!0,--this._canvas.y;break;case 39:e=!0,this._canvas.x+=1;break;case 40:e=!0,this._canvas.y+=1;break;case 46:return void this.dispatchEvent(new m.default(a.DELETE))}e&&(this._has_key_down=!0,this._drag_mouse_move(null),(this.stage||y.default.current).addEventListener(l.default.KEY_UP,u.default.delegate(this._key_up,this),this.name),t.label)&&(t.label.preventDefault(),t.label.stopPropagation())}}},{key:"_drag_mouse_down",value:function(t){this._double_finger=2==t.length,this._state=this.support_finger&&this._double_finger?3:1,this.support_finger&&this._double_finger?(this._point1=t.touchs[0],this._point2=t.touchs[1],this._target_scaleX=this._canvas.scaleX,this._target_scaleY=this._canvas.scaleY,this._target_rotation=this._canvas.rotation,this._target_angle=_.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY),this._finger_center=p.default.create(c.default).set(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),this._finger_center=this._canvas.globalToLocal(this._finger_center),this._target_distance=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY))):(this._cache_point.x=this._canvas.x,this._cache_point.y=this._canvas.y,(this.stage||y.default.current).startDrag(this._canvas)),(this.stage||y.default.current).addEventListener(l.default.MOUSE_UP,u.default.delegate(this._drag_mouse_up,this),this.name),(this.stage||y.default.current).addEventListener(l.default.MOUSE_MOVE,u.default.delegate(this._drag_mouse_move,this),this.name)}},{key:"_drag_mouse_move",value:function(t){var e,i,n,s;this.support_finger&&this._double_finger?2!=t.length||this._point1.id!=t.touchs[0].id&&this._point2.id!=t.touchs[1].id&&this._point1.id!=t.touchs[1].id&&this._point2.id!=t.touchs[0].id||(this._point1.id!=t.touchs[0].id?(this._point1=t.touchs[1],this._point2=t.touchs[0]):(this._point1=t.touchs[0],this._point2=t.touchs[1]),t=_.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY),t=void(this._canvas.rotation=_.default.format(this._target_rotation+_.default.getDegreesFromRadians(t-this._target_angle))),s=n=i=e=void 0,t=e=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY))/this._target_distance,t=Math.max(this._min_scale,_.default.format(this._target_scaleX*e)),e=Math.max(this._min_scale,_.default.format(this._target_scaleY*e)),this._canvas.scaleX=t,this._canvas.scaleY=e,i=this._canvas.localToGlobal(this._finger_center.x,this._finger_center.y),n=p.default.create(c.default).set(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),s=p.default.create(c.default).set(_.default.format(this._canvas.x+n.x-i.x),_.default.format(this._canvas.y+n.y-i.y)),this._canvas.moveTo(s),f.default.copyTransform(this._canvas,this._target,this.relative_data),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this.dispatchEvent(new m.default(a.SCALING)),p.default.remove(n),p.default.remove(s)):(this._target.moveTo(this._target.parent.globalToLocal(this._canvas.localToGlobal(0,0))),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))))}},{key:"_trans_mouse_down",value:function(t){this._target_center=this._canvas.localToGlobal(this._center.x,this._center.y),this._move_point=this._canvas.localToGlobal(this._point.x,this._point.y),this._target_distance=c.default.distance(this._target_center,this._move_point),this._target_rotation=this._canvas.rotation,this._target_angle=_.default.getAngle(this._target_center.x,this._target_center.y,this._move_point.x,this._move_point.y),!this.rotate&&this.is_free&&this.relative_data&&0!=this.relative_data.radians&&c.default.rotate(this._move_point,this.relative_data,this.relative_data.radians,!0),this._target_scaleX=this._canvas.scaleX,this._target_scaleY=this._canvas.scaleY,this._target_offsetX=Math.max(0,this._move_point.x-this._target_center.x),this._target_offsetY=Math.max(0,this._move_point.y-this._target_center.y),(this.stage||y.default.current).addEventListener(l.default.MOUSE_UP,u.default.delegate(this._drag_mouse_up,this),this.name),(this.stage||y.default.current).addEventListener(l.default.MOUSE_MOVE,u.default.delegate(this._trans_mouse_move,this),this.name)}},{key:"_trans_mouse_move",value:function(t){var e=p.default.create(c.default).set(t.mouseX,t.mouseY),i=(this.rotate&&(i=_.default.getAngle(this._target_center.x,this._target_center.y,e.x,e.y),this._canvas.rotation=_.default.format(this._target_rotation+_.default.getDegreesFromRadians(i-this._target_angle))),void 0),n=void 0,s=(!this.rotate&&this.is_free?(this.relative_data&&0!=this.relative_data.radians&&c.default.rotate(e,this.relative_data,this.relative_data.radians,!0),i=Math.max(0,e.x-this._target_center.x)/this._target_offsetX,n=Math.max(0,e.y-this._target_center.y)/this._target_offsetY):i=n=c.default.distance(this._target_center,e)/this._target_distance,i=Math.max(this._min_scale,_.default.format(this._target_scaleX*i)),n=Math.max(this._min_scale,_.default.format(this._target_scaleY*n)),(this.rotate||!this.is_free||i!=this._min_scale&&n!=this._min_scale)&&(this._canvas.scaleX=i,this._canvas.scaleY=n,this._redraw)&&(this._canvas.thickness=2*this.lineWidth/(i+n)),this._canvas.localToGlobal(this._center.x,this._center.y));this._btn.moveTo(this.rotate&&i!=this._min_scale&&n!=this._min_scale?this.globalToLocal(t.mouseX,t.mouseY):this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this._canvas.moveTo(_.default.format(this._canvas.x+this._target_center.x-s.x),_.default.format(this._canvas.y+this._target_center.y-s.y)),f.default.copyTransform(this._canvas,this._target,this.relative_data),this._state=2,p.default.remove(e),this.dispatchEvent(new m.default(a.SCALING))}},{key:"_drag_mouse_up",value:function(t){(this.stage||y.default.current).stopDrag(),(this.stage||y.default.current).removeEventListener(l.default.MOUSE_UP,null,this.name),(this.stage||y.default.current).removeEventListener(l.default.MOUSE_MOVE,null,this.name),this._finger_center,this._point1=this._point2=this._target_center=this._move_point=this._target_scaleX=this._target_scaleY=this._target_distance=this._target_rotation=this._target_angle=null,1==this._state&&h.default.check()?this.dispatchEvent(new m.default(a.DOUBLE_CLICK)):1==this._state&&Math.sqrt((this._cache_point.x-this._canvas.x)*(this._cache_point.x-this._canvas.x)+(this._cache_point.y-this._canvas.y)*(this._cache_point.y-this._canvas.y))<3?this.dispatchEvent(new m.default(a.CLICK)):0<this._state&&this.dispatchEvent(new m.default(1==this._state?a.MOVE:a.SCALE)),this._state=0}},{key:"_clear_transformer",value:function(){this._canvas&&(this.contains(this._canvas)&&this._canvas.removeFromParent(!1),this._canvas.removeEventListener(l.default.MOUSE_DOWN,null,this.name),u.default.isPC&&this.wheel_control&&this._canvas.removeEventListener(l.default.MOUSE_WHEEL,null,this.name),this._canvas.reset()),this._btn&&(this._btn.removeEventListener(l.default.MOUSE_DOWN,null,this.name),this.contains(this._btn))&&this._btn.removeFromParent(!1),u.default.isPC&&this.key_control&&(this.stage||y.default.current).hasEventListener(l.default.KEY_DOWN,this.name)&&((this.stage||y.default.current).removeEventListener(l.default.KEY_DOWN,null,this.name),(this.stage||y.default.current).removeEventListener(l.default.KEY_UP,null,this.name)),this._drag_mouse_up(null)}},{key:"dispose",value:function(){r(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"dispose",this).call(this),delete this._finger_center,this._double_finger,this._point1,this._point2,this._cache_point,this._state,this.relative_data,this._center,this._color,this._target,this._btn,this._redraw,this._canvas,delete this.support_finger,this._min_scale,this.min_size,this.wheel_control,this._has_key_down,this.key_control,this.is_free,this.pos_percent,this.rotate,this.round,this.lineWidth,this._target_center,this._move_point,this._target_angle,this._target_rotation,this._target_scaleX,this._target_scaleY,this._target_distance,this._target_offsetX,this._target_offsetY}},{key:"target",get:function(){return this._target},set:function(t){this._target!=t&&(this._target&&this._target instanceof v.default&&this._target.resizeMask(this._target.width,this._target.height),this._target=t,this.visible=null!=t,this._target&&this._target instanceof o.default?this._init_transformer():this._clear_transformer(),this.update_relative_data())}}]),a}(a.default);(e.default=i).className="Transformer",i.MOVE="transformer_move",i.SCALE="transformer_scale",i.CLICK="transformer_click",i.DELETE="transformer_delete",i.SCALING="transformer_scaling",i.DOUBLE_CLICK="transformer_double_click"},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,null,[{key:"blobToBase64",value:function(n){return new Promise(function(e,t){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.readAsDataURL(n)})}},{key:"base64toBlob",value:function(t){for(var t=t.split(","),e=t[0].match(/:(.*?);/)[1],i=atob(t[1]),n=i.length,s=new Uint8Array(n);n--;)s[n]=i.charCodeAt(n);return new Blob([s],{type:e})}},{key:"toArrayBuffer",value:function(t){for(var e=new ArrayBuffer(t.length),i=new Uint8Array(e),n=0;n<t.length;++n)i[n]=t[n];return e}},{key:"getBlobURL",value:function(t){t=new Blob([t],{type:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text/javascript"});return URL.createObjectURL(t)}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(0),a=(i=i)&&i.__esModule?i:{default:i};n(r,null,[{key:"getQuery",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=(1==t?location.search:location.hash).substr(1),e=a.default.parseParams(e);return 0!=t?e:(t=a.default.parseParams(location.search.substr(1)),Object.assign(e,t))}},{key:"copy",value:function(t){if(t){try{return void navigator.clipboard.writeText(t)}catch(t){}var e=document.createElement("input");document.body.appendChild(e),e.value=t,e.focus(),e.select();try{document.execCommand("copy")}catch(t){}e.blur(),document.body.removeChild(e)}}},{key:"download",value:async function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"zip",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;t&&(t=t instanceof Blob?t:new Blob([t],{type:"application/"+i}),e=(new Date).valueOf(),window.navigator.msSaveOrOpenBlob?navigator.msSaveBlob(t,(n||e)+"."+i):r.downloadByURL((n||e)+"."+i,URL.createObjectURL(t)))}},{key:"downloadByURL",value:async function(t,e){var i=document.createElement("a"),n=window.URL||window.webkitURL;i.href=e,i.download=t,top.document.body.appendChild(i),i.click(),n.revokeObjectURL(i.href),top.document.body.removeChild(i)}},{key:"print",value:function(t){var e,i,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;t&&(e=document.createElement("iframe"),document.body.appendChild(e),(i=e.contentWindow.document).body.setAttribute("style","width:"+(n?n+"px":"100%")+";height:"+(s?s+"px":"auto")),"string"==typeof t?(i.write(t),i.close()):i.body.appendChild(t),e.contentWindow.focus(),e.contentWindow.print(),document.body.removeChild(e))}}]);i=r;function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}e.default=i},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}c(i(5));var a=c(i(18)),r=c(i(8)),o=c(i(0)),l=c(i(7)),h=c(i(22)),u=c(i(1));function c(t){return t&&t.__esModule?t:{default:t}}function d(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,e=this,i=d;if(!(e instanceof i))throw new TypeError("Cannot call a class as a function");this.config={font:"微软雅黑",space:30,max:3,maxWidth:800,percent:.9,fontColor:"#ffffff",color:"#000000",fontSize:32,delay:3,radius:12,time:.3,alpha:.5},t&&r.default.copyAttribute(this.config,t,!0),this.itemWidth=(u.default.width<this.config.maxWidth?u.default.width:this.config.maxWidth)*this.config.percent,this.popupContainer=l.default.c("dc"),this.dataList=[],this.lock=!1,this.posY=0}n(d,[{key:"push",value:function(t){o.default.isEmpty(t)||9<this.dataList.length||(this.popupContainer.parent?this.popupContainer.toTop():(h.default.current.addChild(this.popupContainer),this.resize(u.default.width)),this.popupContainer.numChildren>=this.config.max||this.lock?this.dataList.push(t):((t=this._create(t)).y=-this.posY-t.height-.5*this.config.space,this.popupContainer.addChild(t),this.posY+=t.height+this.config.space,t.alpha=0,this.lock=!0,a.default.remove(this.popupContainer),a.default.to(this.popupContainer,.4,{y:this.posY}),a.default.to(t,.4,{alpha:1,delay:.2,onComplete:this._on_ready.bind(this),onCompleteParams:[t]})))}},{key:"_create",value:function(t){var e=l.default.c("tf",{font:this.config.font,size:this.config.fontSize,color:this.config.fontColor,text:t}),i=l.default.c("bs",[this.config.color,this.itemWidth,this.config.fontSize+2*this.config.space,this.config.radius,0,"",this.config.alpha]);return i.addChild(e),e.moveTo(.5*(this.itemWidth-t.length*this.config.fontSize),this.config.space),i}},{key:"_on_ready",value:function(i){var n=this;this.lock=!1,a.default.to(i,this.config.time,{alpha:0,y:i.y+.5*i.height,delay:this.config.delay,onComplete:function(t){var e=n.popupContainer.numChildren>=n.config.max;i.removeFromParent(!0),e&&n.dataList.length?n.push(n.dataList.shift()):0==n.popupContainer.numChildren&&n.popupContainer.removeFromParent()}}),this.popupContainer.numChildren>=this.config.max||this.dataList.length&&this.push(this.dataList.shift())}},{key:"resize",value:function(t){this.popupContainer&&this.popupContainer.parent&&(this.popupContainer.x=.5*(t-this.itemWidth))}}]),e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rectangle=e.ContactPointRule=e.BottomLeftRule=e.BestAreaFit=e.BestLongSideFit=e.BestShortSideFit=e.MaxRectsBinPack=void 0;var n=function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t};function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=i(9),d=(i=i)&&i.__esModule?i:{default:i};n(a,[{key:"init",value:function(t,e,i){this.binWidth=t,this.binHeight=e,this.allowRotate=i||!1,this.usedRectangles.length=0,this.freeRectangles.length=0,this.freeRectangles.push(new d.default(0,0,t,e))}},{key:"insert",value:function(t,e,i){var n=new d.default,s={value:0},a={value:0};switch(i=i||0){case 0:n=this._findPositionForNewNodeBestShortSideFit(t,e,s,a);break;case 3:n=this._findPositionForNewNodeBottomLeft(t,e,s,a);break;case 4:n=this._findPositionForNewNodeContactPoint(t,e,s);break;case 1:n=this._findPositionForNewNodeBestLongSideFit(t,e,a,s);break;case 2:n=this._findPositionForNewNodeBestAreaFit(t,e,s,a)}return 0!==n.height&&this._placeRectangle(n),n}},{key:"insert2",value:function(t,e){for(var i=[];0<t.length;){for(var n=1/0,s=1/0,a=-1,r=new d.default,o=0;o<t.length;o++){var l={value:0},h={value:0},u=this._scoreRectangle(t[o].width,t[o].height,e,l,h);(l.value<n||l.value===n&&h.value<s)&&(n=l.value,s=h.value,r=u,a=o)}if(-1===a)return i;this._placeRectangle(r);var c=t.splice(a,1)[0];c.x=r.x,c.y=r.y,i.push(c)}return i}},{key:"_placeRectangle",value:function(t){for(var e=this.freeRectangles.length,i=0;i<e;i++)this._splitFreeNode(this.freeRectangles[i],t)&&(this.freeRectangles.splice(i,1),i--,e--);this._pruneFreeList(),this.usedRectangles.push(t)}},{key:"_scoreRectangle",value:function(t,e,i,n,s){var a=new d.default;switch(n.value=1/0,s.value=1/0,i){case 0:a=this._findPositionForNewNodeBestShortSideFit(t,e,n,s);break;case 3:a=this._findPositionForNewNodeBottomLeft(t,e,n,s);break;case 4:a=this._findPositionForNewNodeContactPoint(t,e,n),n=-n;break;case 1:a=this._findPositionForNewNodeBestLongSideFit(t,e,s,n);break;case 2:a=this._findPositionForNewNodeBestAreaFit(t,e,n,s)}return 0===a.height&&(n.value=1/0,s.value=1/0),a}},{key:"_occupancy",value:function(){for(var t=this.usedRectangles,e=0,i=0;i<t.length;i++)e+=t[i].width*t[i].height;return e/(this.binWidth*this.binHeight)}},{key:"_findPositionForNewNodeBottomLeft",value:function(t,e,i,n){for(var s,a=this.freeRectangles,r=new d.default,o=(i.value=1/0,void 0),l=0;l<a.length;l++)(s=a[l]).width>=t&&s.height>=e&&((o=s.y+e)<i.value||o===i.value&&s.x<n.value)&&(r.x=s.x,r.y=s.y,r.width=t,r.height=e,i.value=o,n.value=s.x),this.allowRotate&&s.width>=e&&s.height>=t&&((o=s.y+t)<i.value||o===i.value&&s.x<n.value)&&(r.x=s.x,r.y=s.y,r.width=e,r.height=t,i.value=o,n.value=s.x);return r}},{key:"_findPositionForNewNodeBestShortSideFit",value:function(t,e,i,n){for(var s,a=this.freeRectangles,r=new d.default,o=(i.value=1/0,0);o<a.length;o++){(s=a[o]).width>=t&&s.height>=e&&(u=Math.abs(s.width-t),l=Math.abs(s.height-e),h=Math.min(u,l),u=Math.max(u,l),h<i.value||h===i.value&&u<n.value)&&(r.x=s.x,r.y=s.y,r.width=t,r.height=e,i.value=h,n.value=u);var l,h,u,c;this.allowRotate&&s.width>=e&&s.height>=t&&(l=Math.abs(s.width-e),h=Math.abs(s.height-t),u=Math.min(l,h),c=Math.max(l,h),u<i.value||u===i.value&&c<n.value)&&(r.x=s.x,r.y=s.y,r.width=e,r.height=t,i.value=u,n.value=c)}return r}},{key:"_findPositionForNewNodeBestLongSideFit",value:function(t,e,i,n){for(var s,a=this.freeRectangles,r=new d.default,o=(n.value=1/0,void 0),l=void 0,h=void 0,u=void 0,c=0;c<a.length;c++)(s=a[c]).width>=t&&s.height>=e&&(o=Math.abs(s.width-t),l=Math.abs(s.height-e),h=Math.min(o,l),(u=Math.max(o,l))<n.value||u===n.value&&h<i.value)&&(r.x=s.x,r.y=s.y,r.width=t,r.height=e,i.value=h,n.value=u),this.allowRotate&&s.width>=e&&s.height>=t&&(o=Math.abs(s.width-e),l=Math.abs(s.height-t),h=Math.min(o,l),(u=Math.max(o,l))<n.value||u===n.value&&h<i.value)&&(r.x=s.x,r.y=s.y,r.width=e,r.height=t,i.value=h,n.value=u);return r}},{key:"_findPositionForNewNodeBestAreaFit",value:function(t,e,i,n){for(var s,a,r=this.freeRectangles,o=new d.default,l=(i.value=1/0,void 0),h=void 0,u=void 0,c=0;c<r.length;c++)a=(s=r[c]).width*s.height-t*e,s.width>=t&&s.height>=e&&(l=Math.abs(s.width-t),h=Math.abs(s.height-e),u=Math.min(l,h),a<i.value||a===i.value&&u<n.value)&&(o.x=s.x,o.y=s.y,o.width=t,o.height=e,n.value=u,i=a),this.allowRotate&&s.width>=e&&s.height>=t&&(l=Math.abs(s.width-e),h=Math.abs(s.height-t),u=Math.min(l,h),a<i.value||a===i.value&&u<n.value)&&(o.x=s.x,o.y=s.y,o.width=e,o.height=t,n.value=u,i.value=a);return o}},{key:"_commonIntervalLength",value:function(t,e,i,n){return e<i||n<t?0:Math.min(e,n)-Math.max(t,i)}},{key:"_contactPointScoreNode",value:function(t,e,i,n){for(var s,a=this.usedRectangles,r=0,o=(0!==t&&t+i!==this.binWidth||(r+=n),0!==e&&e+n!==this.binHeight||(r+=i),0);o<a.length;o++)(s=a[o]).x!==t+i&&s.x+s.width!==t||(r+=this._commonIntervalLength(s.y,s.y+s.height,e,e+n)),s.y!==e+n&&s.y+s.height!==e||(r+=this._commonIntervalLength(s.x,s.x+s.width,t,t+i));return r}},{key:"_findPositionForNewNodeContactPoint",value:function(t,e,i){for(var n,s=this.freeRectangles,a=new d.default,r=(i.value=-1,void 0),o=0;o<s.length;o++)(n=s[o]).width>=t&&n.height>=e&&(r=this._contactPointScoreNode(n.x,n.y,t,e))>i.value&&(a.x=n.x,a.y=n.y,a.width=t,a.height=e,i=r),this.allowRotate&&n.width>=e&&n.height>=t&&(r=this._contactPointScoreNode(n.x,n.y,e,t))>i.value&&(a.x=n.x,a.y=n.y,a.width=e,a.height=t,i.value=r);return a}},{key:"_splitFreeNode",value:function(t,e){var i,n=this.freeRectangles;return!(e.x>=t.x+t.width||e.x+e.width<=t.x||e.y>=t.y+t.height||e.y+e.height<=t.y||(i=void 0,e.x<t.x+t.width&&e.x+e.width>t.x&&(e.y>t.y&&e.y<t.y+t.height&&((i=t.clone()).height=e.y-i.y,n.push(i)),e.y+e.height<t.y+t.height)&&((i=t.clone()).y=e.y+e.height,i.height=t.y+t.height-(e.y+e.height),n.push(i)),e.y<t.y+t.height&&e.y+e.height>t.y&&(e.x>t.x&&e.x<t.x+t.width&&((i=t.clone()).width=e.x-i.x,n.push(i)),e.x+e.width<t.x+t.width)&&((i=t.clone()).x=e.x+e.width,i.width=t.x+t.width-(e.x+e.width),n.push(i)),0))}},{key:"_pruneFreeList",value:function(){for(var t=this.freeRectangles,e=0;e<t.length;e++)for(var i=e+1;i<t.length;i++){if(d.default.isContainedIn(t[e],t[i])){t.splice(e,1);break}d.default.isContainedIn(t[i],t[e])&&t.splice(i,1)}}}]);i=a;function a(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=this,s=a;if(!(n instanceof s))throw new TypeError("Cannot call a class as a function");this.binWidth=0,this.binHeight=0,this.allowRotate=!1,this.usedRectangles=[],this.freeRectangles=[],this.init(t,e,i)}e.default=i,e.MaxRectsBinPack=i,e.BestShortSideFit=0,e.BestLongSideFit=1,e.BestAreaFit=2,e.BottomLeftRule=3,e.ContactPointRule=4,e.Rectangle=d.default},function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,i){e&&n(t.prototype,e),i&&n(t,i)})(a,[{key:"close",value:function(){this.server_timeout_id&&clearTimeout(this.server_timeout_id),this.heart_timeout_id&&clearTimeout(this.heart_timeout_id),this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=this.server_timeout_id=this.heart_timeout_id=0,this.lock_reconnect=!1,this.isQuit=!0,this.ws&&this.ws.close(),this.currentList=null}},{key:"initWebpack",value:function(){this.uri=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:null)||this.uri,this.uri&&(this.ws=new WebSocket(this.uri),this.ws.onopen=this.wsOpenHandler.bind(this),this.ws.onerror=this.wsErrorHandler.bind(this),this.ws.onclose=this.wsCloseHandler.bind(this),this.ws.onmessage=this.wsMessageHandler.bind(this),this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=0,console.log("WebSocket init:"+this.uri))}},{key:"reconnect",value:function(){var t=this;this.lock_reconnect||this.isQuit||(this.lock_reconnect=!0,this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=setTimeout(function(){t.initWebpack(),t.lock_reconnect=!1,console.log("重连中...")},this.time))}},{key:"reset",value:function(){this.server_timeout_id&&clearTimeout(this.server_timeout_id),this.heart_timeout_id&&clearTimeout(this.heart_timeout_id),this.heart_timeout_id=this.server_timeout_id=0,this.start()}},{key:"start",value:function(){this.heart_timeout_id&&clearTimeout(this.heart_timeout_id),this.heart_timeout_id=0,this.isQuit||(this.heart_timeout_id=setTimeout(this.heartHandler.bind(this),this.delay))}},{key:"heartHandler",value:function(){if(1==this.ws.readyState)this.ws.send(this.heart);else if(!this.lock_reconnect)return void this.reconnect();this.start()}},{key:"wsOpenHandler",value:function(t){if(this.start(),this.currentList&&this.currentList.length)for(;this.currentList.length;)this.ws.send(this.currentList.shift())}},{key:"wsMessageHandler",value:function(e){e=e.data;try{e=JSON.parse(e)}catch(t){console.log(e),e=null}e&&this.callback&&this.callback(e),this.reset()}},{key:"wsErrorHandler",value:function(t){console.log("WebSocket Error!>"),console.log(t),this.reconnect()}},{key:"wsCloseHandler",value:function(t){this.reconnect()}},{key:"send",value:function(t){if(!t||!this.ws)return!1;if(1==this.ws.readyState)this.ws.send(JSON.stringify(t));else{if(this.currentList||(this.currentList=[]),5<this.currentList.length)return!1;this.currentList.push(JSON.stringify(t)),this.heartHandler()}return!0}}]);var s=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.ws=null,this.lock_reconnect=!1,this.server_timeout_id=0,this.heart_timeout_id=0,this.timeout_id=0,this.delay=8e3,this.time=4e3,this.heart="0000",this.isQuit=!1,this.uri=null,this.callback=null,this.currentList=null}(e.default=s).className="MySocket"}]);