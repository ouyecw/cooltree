{"code":"!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,\"a\",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p=\"\",i(i.s=74)}([function(t,e,i){\"use strict\";i.r(e),function(t){i.d(e,\"default\",(function(){return _}));var s=i(28),a=i(2),h=i(53),n=i(39),r=i(45),l=i(22),o=i(3),u=i(59),d=i(13);class _{static setup(t){if(a.default.isEmpty(t))return;(t=t.toLowerCase()).indexOf(s.default.OS_IPHONE)>0?(_.os=s.default.OS_IPHONE,_.ios=!0):t.indexOf(s.default.OS_IPOD)>0?(_.os=s.default.OS_IPOD,_.ios=!0):t.indexOf(s.default.OS_IPAD)>0?(_.os=s.default.OS_IPAD,_.ios=!0):t.indexOf(s.default.OS_ANDROID)>0?(_.os=s.default.OS_ANDROID,_.android=!0,_.isBrokenAndroid=null!==t.match(/android 2\\.[12]/)):t.indexOf(s.default.OS_WINDOWS_PHONE)>0?_.os=s.default.OS_WINDOWS_PHONE:t.indexOf(s.default.OS_BLACK_BERRY)>0&&(_.os=s.default.OS_BLACK_BERRY),_.isPC=_.os==s.default.OS_PC,_.isQQBrowser=/qqbrowser/i.test(t),_.isWebKit=/webkit/i.test(t),_.isOpera=/opera/i.test(t),_.isIE=/msie/i.test(t),_.isFirefox=/firefox/i.test(t),_.isChrome=/chrome/i.test(t),_.isSafari=/safari/i.test(t)&&!_.isChrome,_.isWeixin=\"micromessenger\"==t.match(/MicroMessenger/i),_.cssPrefix=_.isWebKit?\"webkit\":_.isFirefox?\"Moz\":_.isOpera?\"o\":_.isIE?\"ms\":\"\",_.supportStorage=\"localStorage\"in _.root,_.supportOrientation=\"orientation\"in _.root,_.supportDeviceMotion=\"ondevicemotion\"in _.root,_.supportTouch=\"ontouchstart\"in _.root,_.pixelRatio=_.root.devicePixelRatio,_.canUseWebAudio=_.root.AudioContext||_.root[_.cssPrefix+\"AudioContext\"],_.animationFrame=_.root.requestAnimationFrame||_.root[_.cssPrefix+\"RequestAnimationFrame\"],_.animationFrame&&(_.animationFrame=_.root[_.animationFrame.name].bind(_.root)),_.supportCanvas=null!=document.createElement(\"canvas\").getContext,_.useCanvas=_.supportCanvas;const e=document.createElement(\"div\");_.supportTransform=null!=e.style[_.cssPrefix+\"Transform\"],_.supportSVG=!!document.createElementNS&&!!document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\").createSVGRect,_.language=navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||\"\",a.default.isEmpty(_.language)||(h.default.language=h.default.format(_.language)),n.default.INIT_CLASS(),r.default.INIT_CLASS()}static reszie(t,e){_.width=Math.floor(t),_.height=Math.floor(e),d.default.current&&(d.default.current.size(t,e),d.default.current.auto_fresh=!0)}static getScreenWidth(){return _.root.screen.width}static getScreenHeight(){return _.root.screen.height}static GetQueryString(t){let e=new RegExp(\"(^|&)\"+t+\"=([^&]*)(&|$)\"),i=_.root.location.search.substr(1).match(e);return null!=i?unescape(i[2]):null}static trace(){if(!_.debug)return;let t,e=\"\";for(t=0;t<arguments.length;t++)e+=arguments[t]+\" \";a.default.isEmpty(e)||(null==console||\"function\"!=typeof console.log||_.htmlDebug?(null==_.output&&(_.output=document.createElement(\"div\"),_.output.id=\"global_output\",_.output.style.position=\"absolute\",_.output.style.zIndex=_.layer+10,_.output.style.height=Math.ceil(.5*(_.canvas?_.canvas.height:_.root.innerHeight))+\"px\",_.output.style.width=Math.ceil(.5*(_.canvas?_.canvas.width:_.root.innerWidth))+\"px\",_.output.style.fontSize=_.fontSize+\"px\",_.output.style.color=\"#880000\",_.output.style.left=\"3px\"),null==_.output_list&&(_.output_list=[]),_.output_list.push(\"<br>\"+e+\"</br>\"),_.output_list.length>12&&_.output_list.shift(),_.output.innerHTML=_.output_list.join(\" \"),null==_.output.parentNode&&(_.div?_.div.appendChild(_.output):document.body.appendChild(_.output))):console.log.apply(console,arguments))}static proxy(t,e,i,s){t[i]=function(){return e[i].apply(e,arguments)||t},s&&(t[s]=t[i])}static delegate(t,e){let i=e||_.root;if(arguments.length>2){let e=Array.prototype.slice.call(arguments,2);return function(){let s=Array.prototype.concat.apply(e,arguments);return t.apply(i,s)}}return function(){return t.apply(i,arguments)}}static delegate2(t,e){let i=e||_.root,s=arguments.length>2?Array.prototype.slice.call(arguments,2):[];return function(){let e=s.slice();for(let t=arguments.length-1;t>=0;t--)e.unshift(arguments[t]);return e.push(this),t.apply(i,e)}}static gc(t){let e=l.default.getQualifiedClassName(t);return!(_._gc_list.indexOf(e)<0)&&o.default.remove(t)}static get local(){return _.__local||(_.__local=new u.default),_.__local}static get root(){if(_.__root)return _.__root;if(\"undefined\"!=typeof self)return _.__root=self,self;if(\"undefined\"!=typeof window)return _.__root=window,window;if(void 0!==t)return _.__root=t,t;throw new Error(\"unable to locate global object\")}}_._gc_list=[\"StageEvent\",\"Shape\",\"DisplayObjectContainer\",\"Graphics\",\"DisplayObject\",\"DOMDisplay\",\"MovieClip\",\"DOMMovie\",\"BoxShape\"],_.__local=_.__local_cache=_.__root=_.canvas=_.context=null,_.version=\"\",_.layer=5,_.debug=!0,_.os=s.default.OS_PC,_.ios=!1,_.android=!1,_.isBrokenAndroid=!1,_.isIE=!1,_.isFirefox=!1,_.isOpera=!1,_.isWebKit=!1,_.isChrome=!1,_.isSafari=!1,_.isQQBrowser=!1,_.aspectRatio=s.default.NONE,_.font=\"Helvetica,Arial\",_.supportSVG=!1,_.supportTouch=!1,_.supportCanvas=!1,_.supportStorage=!1,_.supportOrientation=!1,_.supportDeviceMotion=!1,_.supportTransform=!1,_.cssPrefix=\"\",_.htmlDebug=!1,_.breakTouch=!1,_.language,_.div,_.fontSize=8,_.useCanvas=!0,_.width=0,_.height=0,_.position=\"absolute\",_.autoShapeSize=!0,_.canUseWebAudio=!1,_.isWeixin=!1,_.useCache=!0,_.isPC=!0,_.animationFrame=null,_.pixelRatio=1,_.crossdomain=\"anonymous\",_.setup(navigator.userAgent),_.root&&null==_.root.trace&&(_.root.trace=_.trace)}.call(this,i(75))},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static countTreeMax(t,e,i){let a,h,n=t.length,r=n>0?1:0;for(i=null==i?r:i,a=0;a<n;a++)h=null==e?t[a]:t[a][e],h&&h instanceof Array&&h.length>0&&(r=Math.max(r,i+s.countTreeMax(h,e,i)));return r}static sort(t,e){if(null==t||t.length<2)return;let i,s,a,h;for(let n=0;n<t.length-1;n++){i=!1;for(let n=0;n<t.length-1;n++)s=t[n],a=t[n+1],(e?e(s,a):a<s)&&(h=t[n+1],t[n+1]=t[n],t[n]=h,i=!0);if(!i)return t}return t}static int(t){if(\"string\"==typeof t)return parseInt(t);let e=.5+t|0;return e=~~(.5+t),e=.5+t<<0,e}static format(t,e=3){return Number(Number(t).toFixed(e))}static randomInt(t){return t=t||100,s.int(t*Math.random())}static clamp(t,e,i){return t<e?e:t>Math.max(i,e)?i:t}static getDegreesFromRadians(t){return 180*t/Math.PI}static getRadiansFromDegrees(t){return t%360/180*Math.PI}static getAngle(t,e,i,s){let a=Math.atan2(s-e,i-t);return a<0?a+2*Math.PI:a}static normalizeRadian(t){return t=(t+Math.PI)%(2*Math.PI),t+=t>0?-Math.PI:Math.PI}static isEquivalent(t,e){return t-1e-4<e&&t+1e-4>e}static getSizeScale(t,e,i,a,h){let n=t/e,r=i/a;return((h=null==h||h)?n>r:n<r)?s.format(i/t,3):s.format(a/e,3)}static isNumber(t){return\"number\"==typeof t&&!isNaN(t)}static sin(t){let e=Math.floor(t),i=e+1,a=s.sinInt(e);return(t-e)*s.sinInt(i)+(i-t)*a}static sinInt(t){return(t%=360)<0&&(t+=360),t<90?s._sin_map[t]:t<180?s._cos_map[t-90]:t<270?-s._sin_map[t-180]:-s._cos_map[t-270]}static cos(t){let e=Math.floor(t),i=e+1,a=s.cosInt(e);return(t-e)*s.cosInt(i)+(i-t)*a}static cosInt(t){return(t%=360)<0&&(t+=360),t<90?s._cos_map[t]:t<180?-s._sin_map[t-90]:t<270?-s._cos_map[t-180]:s._sin_map[t-270]}}s._sin_map={},s._cos_map={};for(let t=0;t<=90;t++)s._sin_map[t]=Math.sin(s.getRadiansFromDegrees(t)),s._cos_map[t]=Math.cos(s.getRadiansFromDegrees(t))},function(t,e,s){\"use strict\";s.r(e),s.d(e,\"default\",(function(){return a}));class a{static countLeftSpace(t){for(let e,i=0;i<t.length;i++)if(e=t.charCodeAt(i),e>32&&160!=e&&12288!=e)return i;return i}static ltrim(t){if(null==t)return\"\";for(let e,i=0;i<t.length;i++)if(e=t.charCodeAt(i),e>32&&160!=e&&12288!=e)return t.substring(i);return\"\"}static rtrim(t){if(null==t)return\"\";for(let e,i=t.length;i>0;i--)if(e=t.charCodeAt(i-1),e>32&&160!=e&&12288!=e)return t.substring(0,i);return\"\"}static trim(t){return null==t?\"\":a.ltrim(a.rtrim(t))}static isEmpty(t){return null==t||null==t||\"undefined\"==t||\"null\"==t||0==(t=a.trim(\"\"+t)).length}static substitute(t,e){if(a.isEmpty(t)||null==e||!(e instanceof Array)||0==e.length)return t;for(let i=0;i<e.length;i++)t=t.replace(new RegExp(\"\\\\{\"+i+\"\\\\}\",\"g\"),e[i]);return t}static countToString(t,e){let i=String(t).length-String(e).length;return(\"\"+e).padStart(i,\"0\")}static toArray(t,e){if(a.isEmpty(t))return[];if(t.length<=e)return[t];let i=[];for(;t.length>e;)i.push(t.slice(0,e)),t=t.slice(e);return a.isEmpty(t)||i.push(t),i}static validateEmail(t){return/^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/.test(t)}static replace(t,e,i){return a.isEmpty(t)?\"\":(\"\"+t).split(e).join(i)}static remove(t,e){return a.replace(t,e,\"\")}static replaceAll(t,e,i){if(null==e||null==i)return t;let s,h=Math.min(e.length,i.length);for(s=0;s<h;s++)t=a.replace(t,e[s],i[s]);return t}static exist(t){if(arguments.length<=1||a.isEmpty(t))return!1;let e,i,s=arguments.length;for(e=1;e<s;e++)if(i=arguments[e],!a.isEmpty(i)&&-1!=t.indexOf(i))return!0;return!1}static getNumber(t){if(a.isEmpty(t))return[\"\"];let e=\"\",i=t.length,s=t.substr(--i,1);for(;!isNaN(parseInt(s))&&i>=1;)e=s+e,s=t.substr(--i,1);return a.isEmpty(e)?[t]:[a.rtrim(t.slice(0,++i)),Number(e)]}static getPathExt(t){let e=t.split(\".\"),i=e[e.length-1];return i=i.split(\"?\")[0],i.toLowerCase()}static getBase64Type(t){if(a.isEmpty(t))return\"\";let e=t.indexOf(\"/\")+1,i=t.indexOf(\";\");return e<0||i<0||e>=i?\"\":t.substring(e,i).toLowerCase()}static getFileName(t,e){e=e||2;let i=t.replace(/%20/g,\" \");i=i.split(\"?\")[0];let s=/(.*[\\\\\\/])?(.+)(\\.[\\w]{1,4})/.exec(i);return s&&4==s.length?s[e]:\"\"}static escapeXML(t){let e=t;for(e=e.replace(/&/gi,\"&amp;\");-1!=e.indexOf(\"<\");)e=e.replace(\"<\",\"&lt;\");for(;-1!=e.indexOf(\">\");)e=e.replace(\">\",\"&gt;\");return e}static htmlEncode(t){return t=a.replace(t,\"&\",\"&amp;\"),t=a.replace(t,'\"',\"&quot;\"),t=a.replace(t,\"'\",\"&apos;\"),t=a.replace(t,\"<\",\"&lt;\"),t=a.replace(t,\">\",\"&gt;\")}static htmlDecode(t){return t=a.replace(t,\"&amp;\",\"&\"),t=a.replace(t,\"&quot;\",'\"'),t=a.replace(t,\"&apos;\",\"'\"),t=a.replace(t,\"&lt;\",\"<\"),t=a.replace(t,\"&gt;\",\">\")}static formatTime(t,e,i){e=e||0,i=i||\":\",t=Math.max(0,MathUtil.int(t));let s=String(t%60),a=String(MathUtil.int(t/60)%60),h=String(MathUtil.int(t/3600)%60);return s.length<2&&(s=\"0\"+s),a.length<2&&(a=\"0\"+a),h.length<2&&(h=\"0\"+h),3==e?s:2==e?a+i+s:1==e?h+i+a:h+i+a+i+s}static parseParams(t,e=!1,i=!0){if(a.isEmpty(t))return{};let s,h,n,r,l=t.split(e?\";\":\"&\"),o={},u=i?decodeURIComponent:unescape;for(s=0,h=l.length;s<h;s++)r=l[s],a.isEmpty(r)||!e&&r.indexOf(\"=\")<0||e&&r.indexOf(\":\")<0||(r=r.split(e?\":\":\"=\"),n=a.trim(r[0]),e&&n&&n.indexOf(\"-\")>0&&(n=a.decodeName(n)),o[n]=r.length<2||a.isEmpty(r[1])?null:u(a.trim(r[1])));return o}static decodeName(t){if(a.isEmpty(t))return\"\";let e,i,s,h=t.toLowerCase().split(/-/);for(e=1,i=h.length;e<i;e++)s=h[e],a.isEmpty(s)||(h[e]=s.substring(0,1).toUpperCase()+s.substring(1));return h.join(\"\")}static encodeName(t){if(a.isEmpty(t))return\"\";return t.split(/(?=[A-Z])/).join(\"-\").toLowerCase()}static buildParams(t,e=!1,i=!0){if(null==t)return\"\";let s,h=!1,n=\"\",r=i?encodeURIComponent:escape;for(s in t)h&&(n+=e?\";\":\"&\"),!a.isEmpty(s)&&t[s]&&(n+=e?a.encodeName(s)+\":\"+t[s]:s+\"=\"+(0==i?t[s]:r(t[s])),h=!0);return h?n:\"\"}static html2object(t){let e;if(\"string\"==typeof t){if(a.isEmpty(t))return null;e=document.createElement(\"div\"),e.innerHTML=t,e=e.getElementsByTagName(\"*\")[0]}else e=t;if(!e||1!=e.nodeType)return null;let i={};i.tagName=e.nodeName.toLowerCase();let s=(e.textContent||\"\").replace(/(\\r|\\n)/g,\"\").replace(/^\\s+|\\s+$/g,\"\");if(s&&1==e.childNodes.length&&(i.text=s),e.attributes.length>0)for(let t=0;t<e.attributes.length;t++){let s=e.attributes.item(t),h=s.nodeName,n=s.nodeValue;i[h]=isNaN(n)?n:Number(n),\"style\"==h.toLowerCase()&&(i[h]=a.parseParams(i[h],!0))}if(e.childNodes.length>0){let t=[];for(let i=0;i<e.childNodes.length;i++){let e=e.childNodes.item(i),s=a.html2object(e);s&&t.push(s)}t.length>0&&(i.children=t)}return i}static toUniqueChar(t){if(a.isEmpty(t))return\"\";let e=\"\";for(let i,s=0,a=t.length;s<a;s++)i=t.charAt(s),e.indexOf(i)<0&&(e+=i);return e}static html2text(t){if(a.isEmpty(t))return;let e=t;return\"string\"==typeof t&&(e=document.createElement(\"div\"),e.innerHTML=t),a._get_string_by_node(e,\"\")}static _get_string_by_node(t,e){if(null==t)return e;let i=t.firstElementChild,s=String(t.textContent||t.innerText||\"\");if(e+=s,null==i||!a.isEmpty(s))return e;for(;i;)i.childElementCount&&i.childElementCount>0?e=a._get_string_by_node(i,e):e+=String(i.textContent||i.data||i.value||i.innerText||\"\"),i=i.nextSibling;return e}static utf16to8(t){let e,i,s=\"\",a=t.length;for(e=0;e<a;e++)i=t.charCodeAt(e),i>=1&&i<=127?s+=t.charAt(e):i>2047?(s+=String.fromCharCode(224|i>>12&15),s+=String.fromCharCode(128|i>>6&63),s+=String.fromCharCode(128|i>>0&63)):(s+=String.fromCharCode(192|i>>6&31),s+=String.fromCharCode(128|i>>0&63));return s}static utf8to16(t){let e,i,s,a=\"\",h=0,n=t.length;for(;h<n;)switch(e=t.charCodeAt(h++),e>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:a+=t.charAt(h-1);break;case 12:case 13:i=t.charCodeAt(h++),a+=String.fromCharCode((31&e)<<6|63&i);break;case 14:i=t.charCodeAt(h++),s=t.charCodeAt(h++),a+=String.fromCharCode((15&e)<<12|(63&i)<<6|(63&s)<<0)}return a}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(2),a=i(22);class h{static create(t,e){if(!t)return null;let i,s=a.default.getQualifiedClassName(t),n=h._dic[s];return n&&n.length?(i=n.pop(),0==n.length&&delete h._dic[s],i&&e&&e instanceof Array&&i.reset&&\"function\"==typeof i.reset&&i.reset(...e)):i=e&&e instanceof Array?new t(...e):new t,i}static length(t){const e=\"string\"==typeof t?t:a.default.getQualifiedClassName(t),i=h._dic[e];return i?i.length:0}static remove(t){if(null==t)return;let e,i=a.default.getQualifiedClassName(t);h._dic[i]||(h._dic[i]=[]),t.hasOwnProperty(\"name\")&&!s.default.isEmpty(t.name)&&(e=t.name,e=e.split(\"_\"),e.pop(),h.COUNT>9e5?h.COUNT=0:h.COUNT++,e.push(\"pool\"+h.COUNT),e=e.join(\"_\"));try{t.reset()}catch(e){return t.dispose(),!1}if(h.max>0&&h._dic[i].length>=h.max){try{t.dispose()}catch(t){}return t=null,!1}return-1==h._dic[i].indexOf(t)&&(s.default.isEmpty(e)||(t.name=e),h._dic[i].push(t)),!0}static clear(t){if(null==t)h._dic={};else{const e=a.default.getQualifiedClassName(t);delete h._dic[e]}}static getInfo(){let t,e=\"[\";for(t in h._dic)e+=t+\":\"+h._dic[t].length+\"; \";return e+\"]\"}}h.max=50,h._dic={},h.COUNT=0},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(5),a=i(6);class h extends s.default{constructor(t,e,i,s){super(t,e,i,s),this.length=this.delta=this.mouseY=this.mouseX=0,this.touchs=null}setup(t,e,i,s,a,h,n,r,l){return this.type=t,this.label=i,this.params=e,this.target=s,this.length=r,this.touchs=l,this.delta=null==n?0:n,this.mouseY=null==h?0:h,this.mouseX=null==a?0:a,this}reset(...t){super.reset(...t),this.length=this.delta=this.mouseY=this.mouseX=0,this.touchs=null}clone(){return a.default.c(\"se\").setup(this.type,this.params,this.label,this.target,mouseX,mouseY,delta,length,touchs)}dispose(){super.dispose(),delete this.delta,this.mouseY,this.mouseX,this.length,this.touchs}toString(){return\"[StageEvent length=\"+this.length+\", type=\"+this.type+\", mouseX=\"+this.mouseX+\", mouseY=\"+this.mouseY+\", delta=\"+this.delta+\"]\"}}h.MESSAGE=\"win_message\",h.ENTER_FRAME=\"enterframe\",h.MOUSE_WHEEL=\"mousewheel\",h.MOUSE_CLICK=\"mouseclick\",h.MOUSE_DOWN=\"mousedown\",h.MOUSE_MOVE=\"mousemove\",h.MOUSE_OVER=\"mouseover\",h.MOUSE_TAP=\"mousetap\",h.MOUSE_OUT=\"mouseout\",h.MOUSE_UP=\"mouseup\",h.RESIZE=\"resize\",h.DRAG_MOVE=\"drag_move\",h.KEY_DOWN=\"keydown\",h.KEY_UP=\"keyup\",h.UPDATE=\"update\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{constructor(t,e=null,i=null,s=null){this.type=t,this.label=i,this.params=e,this.target=s}clone(){return new s(this.type,this.params,this.label,this.target)}reset(t=null,e=null,i=null,s=null){this.type=t,this.label=i,this.params=e,this.target=s}dispose(){delete this.type,this.target,this.params,this.label}toString(){return this.label.toString()}}s.PLAY_OVER=\"play_over\",s.COMPLETE=\"complete\",s.RESIZE=\"resize\",s.ERROR=\"error\",s.CLOSE=\"close\",s.INIT=\"init\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return v}));var s=i(11),a=i(21),h=i(26),n=i(4),r=i(2),l=i(19),o=i(3),u=i(60),d=i(61),_=i(22),c=i(62),f=i(63),p=i(64),m=i(37),g=i(24),y=i(0);class v{constructor(t,e=null,i=null){this.generator=\"string\"==typeof t?_.default.getDefinitionByName(t):t,this.properties=e,this.params=i}newInstance(){if(null==this.generator)return null;let t,e=o.default.create(this.generator,this.params);if(null!=this.properties)for(t in this.properties)e[t]=this.properties[t];return e}static c(t,e,i=null){if(r.default.isEmpty(t))return null;let _;switch(i=null==i?y.default.useCanvas:i,t){case\"se\":const t=!e||!(e instanceof Array)||e.length<1;if(_=o.default.create(n.default,t?null:e),!t)return _;break;case\"dc\":_=o.default.create(s.default);break;case\"do\":_=o.default.create(i?a.default:h.default);break;case\"mc\":_=o.default.create(i?u.default:d.default);break;case\"bs\":if(_=o.default.create(p.default),_.use_canvas=i,e&&\"array\"==l.default.getType(e))return _.setup.apply(_,e),_;break;case\"tf\":if(null==e)return null;e.font&&m.default.has(e.font)?(_=new BitmapText,_.setup(e.text,e.font,e.lineWidth,e.align)):_=i?new c.default(e.text,e.font,e.color,e.size):new f.default(e.isInput,e.multiline,e.tabindex,e.password);break;case\"ef\":return _=o.default.create(g.default),null==e||null==e.length||0==e.length?_:(_.setup.apply(_,e),_)}return _&&e&&l.default.copyAttribute(_,e,!0),_}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return n}));var s=i(1),a=i(19),h=i(3);class n{constructor(t=0,e=0,i=0){this.y=this.x=this.z=0,this.set(t,e,i)}set data(t){null!=t&&null!=t&&a.default.copyAttribute(this,t,!0)}get data(){const t=this.toString();return JSON.parse(t)}get radians(){return Math.atan2(this.y,this.x)}rotation(t){if(0==t)return;t+=this.radians;let e=this.length();this.x=s.default.format(Math.cos(t)*e),this.y=s.default.format(Math.sin(t)*e)}clone(){return h.default.create(n).set(this.x,this.y,this.z)}add(t){this.x+=t.x,this.y+=t.y,this.z+=t.z||0}subtract(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}multiply(t){this.x*=t,this.y*=t,this.z*=t}offset(t,e,i){this.x+=t,this.y+=e,this.z+=i}abs(){this.x=Math.abs(this.x),this.y=Math.abs(this.y),this.z=Math.abs(this.z)}length(){return s.default.format(Math.hypot(this.x,this.y,this.z))}normalize(){let t=this.length();if(t<Number.MIN_VALUE)return 0;let e=1/t;return this.x*=e,this.y*=e,this.z*=e,s.default.format(t)}min(t){this.x=this.x<t.x?this.x:t.x,this.y=this.y<t.y?this.y:t.y,this.z=this.z<t.z?this.z:t.z}max(t){this.x=this.x>t.x?this.x:t.x,this.y=this.y>t.y?this.y:t.y,this.z=this.z>t.z?this.z:t.z}set(t,e,i){return this.x=s.default.format(t||0),this.y=s.default.format(e||0),this.z=s.default.format(i||0),this}equals(t){return this.x==t.x&&this.y==t.y&&this.z==t.z}toString(){return String('{\"x\":'+this.x+',\"y\":'+this.y+',\"z\":'+this.z+\"}\")}reset(t=0,e=0,i=0){this.set(t,e,i)}static distance(t,e=new n){return Math.hypot(t.x-e.x,t.y-e.y,t.hasOwnProperty(\"z\")&&e.hasOwnProperty(\"z\")?t.z-e.z:0)}static toPoint(t){if(t&&t instanceof Array&&t.length)return h.default.create(n).set(t[0],t.length>1?t[1]:0,t.length>2?t[2]:0);if(StringUtil.isEmpty(t))return null;let e;t=-1==(t=t.toLocaleLowerCase()).indexOf(\"x\")?'{\"x\":'+(t=(t=StringUtil.replaceAll(t,[\"(\",\")\",\"{\",\"}\"],[\"\",\"\",\"\",\"\"])).split(\",\"))[0]+',\"y\":'+t[1]+(t.length>2?',\"z\":'+t[2]:\"\")+\"}\":StringUtil.replaceAll(t,[\"(\",\")\",\"x\",\"y\",\"z\",\"=\"],[\"{\",\"}\",'\"x\"','\"y\"','\"z\"',\":\"]);try{e=JSON.parse(t)}catch(t){}return e?h.default.create(n).set(e.x,e.y,e.z):null}static getMiddlePoint(t,e){return new n(.5*(t.x+e.x),.5*(t.y+e.y),.5*(t.z+e.z))}static clamp(t,e,i){return e>0&&(Math.abs(t.x)<e||Math.abs(t.y)<e)&&(Math.abs(t.x)<Math.abs(t.y)?(t.y=t.y*e/Math.abs(t.x),t.x=(t.x>=0?1:-1)*e):(t.x=t.x*e/Math.abs(t.y),t.y=(t.y>=0?1:-1)*e)),i>0&&(Math.abs(t.x)>i||Math.abs(t.y)>i)&&(Math.abs(t.x)>Math.abs(t.y)?(t.y=t.y*i/Math.abs(t.x),t.x=(t.x>=0?1:-1)*i):(t.x=t.x*i/Math.abs(t.y),t.y=(t.y>=0?1:-1)*i)),t}static rotate(t,e,i,s,a){if(!t||!e||!i)return t;let r=n.distance(t,e);if(0==r)return t;let l=h.default.create(n).set(t.x-e.x,t.y-e.y),o=e.x+r*Math.cos(l.radians+i*(s?-1:1)),u=e.y+r*Math.sin(l.radians+i*(s?-1:1));return a?l.set(o,u):(h.default.remove(l),t.x=o,t.y=u),a?l:t}static rotateLine(t,e,i,s){return n.rotate(h.default.create(n).set(e.x+t,e.y),e,i,s)}static scale(t,e,i){if(!t||1==e&&1==i)return t;for(let s,a=0,h=(t=t instanceof Array?t:[t]).length;a<h;a++)s=t[a],s&&(s.x*=e,s.y*=i)}static offset(t,e,i){if(!t||0==e&&0==i)return t;for(let s,a=0,h=(t=t instanceof Array?t:[t]).length;a<h;a++)s=t[a],s&&(s.x+=e,s.y+=i)}static matrix(t,e){if(t&&e){t=t instanceof Array?t:[t],n.scale(t,e.scaleX,e.scaleY);for(let i,a=0,h=t.length;a<h;a++)i=t[a],i&&(n.rotate(i,e.center,s.default.getRadiansFromDegrees(e.rotation)),i.x=s.default.format(i.x+e.x),i.y=s.default.format(i.y+e.y))}}static verticalPoint(t,e,i){let s=e.y-t.y,a=t.x-e.x,r=e.x*t.y-t.x*e.y;if(s*i.x+a*i.y==-r)return i;if(e.y==t.y)return h.default.create(n).set(i.x,t.y);let l=(t.x-e.x)/(e.y-t.y),o=l,u=i.y-l*i.x,d=-1*s-o*a,_=(a*u- -1*r)/d,c=(o*r-s*u)/d;return h.default.create(n).set(_,c)}static interval(t,e,i,s){if(!s)return i.x>=Math.min(t.x,e.x)&&i.x<=Math.max(t.x,e.x)&&i.y>=Math.min(t.y,e.y)&&i.y<=Math.max(t.y,e.y);let a=e.y-t.y,h=t.x-e.x,n=t.x*e.y-e.x*t.y;return a*i.x+h*i.y==n}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return r}));var s=i(10),a=i(38),h=i(13),n=i(4);class r{static init(){r._inited=!0,r.register(\"easenone\",s.default.easeNone),r.register(\"linear\",s.default.easeNone),r.register(\"easeinquad\",s.default.easeInQuad),r.register(\"easeoutquad\",s.default.easeOutQuad),r.register(\"easeinoutquad\",s.default.easeInOutQuad),r.register(\"easeoutinquad\",s.default.easeOutInQuad),r.register(\"easeincubic\",s.default.easeInCubic),r.register(\"easeoutcubic\",s.default.easeOutCubic),r.register(\"easeinoutcubic\",s.default.easeInOutCubic),r.register(\"easeoutincubic\",s.default.easeOutInCubic),r.register(\"easeinquart\",s.default.easeInQuart),r.register(\"easeoutquart\",s.default.easeOutQuart),r.register(\"easeinoutquart\",s.default.easeInOutQuart),r.register(\"easeoutinquart\",s.default.easeOutInQuart),r.register(\"easeinquint\",s.default.easeInQuint),r.register(\"easeoutquint\",s.default.easeOutQuint),r.register(\"easeinoutquint\",s.default.easeInOutQuint),r.register(\"easeoutinquint\",s.default.easeOutInQuint),r.register(\"easeinsine\",s.default.easeInSine),r.register(\"easeoutsine\",s.default.easeOutSine),r.register(\"easeinoutsine\",s.default.easeInOutSine),r.register(\"easeoutinsine\",s.default.easeOutInSine),r.register(\"easeincirc\",s.default.easeInCirc),r.register(\"easeoutcirc\",s.default.easeOutCirc),r.register(\"easeinoutcirc\",s.default.easeInOutCirc),r.register(\"easeoutincirc\",s.default.easeOutInCirc),r.register(\"easeinexpo\",s.default.easeInExpo),r.register(\"easeoutexpo\",s.default.easeOutExpo),r.register(\"easeinoutexpo\",s.default.easeInOutExpo),r.register(\"easeoutinexpo\",s.default.easeOutInExpo),r.register(\"easeinelastic\",s.default.easeInElastic),r.register(\"easeoutelastic\",s.default.easeOutElastic),r.register(\"easeinoutelastic\",s.default.easeInOutElastic),r.register(\"easeoutinelastic\",s.default.easeOutInElastic),r.register(\"easeinback\",s.default.easeInBack),r.register(\"easeoutback\",s.default.easeOutBack),r.register(\"easeinoutback\",s.default.easeInOutBack),r.register(\"easeoutinback\",s.default.easeOutInBack),r.register(\"easeinbounce\",s.default.easeInBounce),r.register(\"easeoutbounce\",s.default.easeOutBounce),r.register(\"easeinoutbounce\",s.default.easeInOutBounce),r.register(\"easeoutinbounce\",s.default.easeOutInBounce),r.register(\"easeinstrong\",s.default.easeInStrong),r.register(\"easeoutstrong\",s.default.easeOutStrong),r.register(\"easeinoutstrong\",s.default.easeInOutStrong)}static register(t,e){r._transitionList[t]=e}static count(t,e,i,s,a,h,n){r._inited||r.init();const l=r.getEaseName(t,e);return r._tween(l,a,s,s-i,h,n)}static getEaseName(t,e){return t==r.LINEAR?r.LINEAR:\"ease\"+(t==r.NONE?r.NONE:e+t)}static _tween(t,e,i,s,a,h){return r._inited||r.init(),r._transitionList.hasOwnProperty(t)?r._transitionList[t](s,e,i,a,h):i}static to(t,e,i){if(null==t||e<=0||null==i)return;0==r._tweens.length&&(!r._locked&&h.default.current?h.default.current.addEventListener(n.default.ENTER_FRAME,r._enterFrame):(null==r._timer&&(r._timer=new a.default),r._timer.addEventListener(a.default.TIME,r._enterFrame),r._timer.start()));const s={target:t,duration:e,vars:i};let l;for(l in s.max=Math.ceil(e*a.default.fps),s.min=0,s.vars.hasOwnProperty(\"delay\")&&s.vars.delay?(s.delay=Math.ceil(Number(s.vars.delay)*a.default.fps),delete s.vars.delay):s.delay=0,s.vars.hasOwnProperty(\"ease\")&&s.vars.ease?(s.ease=s.vars.ease,delete s.vars.ease):s.ease=\"easeoutquad\",s.vars.hasOwnProperty(\"easeParams\")&&s.vars.easeParams&&(s.easeParams=s.vars.easeParams,delete s.vars.easeParams),s.vars.hasOwnProperty(\"onStart\")&&s.vars.onStart&&(s.onStart=s.vars.onStart,delete s.vars.onStart),s.vars.hasOwnProperty(\"onStartParams\")&&s.vars.onStartParams&&(s.onStartParams=s.vars.onStartParams,delete s.vars.onStartParams),s.vars.hasOwnProperty(\"onUpdate\")&&s.vars.onUpdate&&(s.onUpdate=s.vars.onUpdate,delete s.vars.onUpdate),s.vars.hasOwnProperty(\"onUpdateParams\")&&s.vars.onUpdateParams&&(s.onUpdateParams=s.vars.onUpdateParams,delete s.vars.onUpdateParams),s.vars.hasOwnProperty(\"onComplete\")&&s.vars.onComplete&&(s.onComplete=s.vars.onComplete,delete s.vars.onComplete),s.vars.hasOwnProperty(\"onCompleteParams\")&&s.vars.onCompleteParams&&(s.onCompleteParams=s.vars.onCompleteParams,delete s.vars.onCompleteParams),s.vars)null==s.first&&(s.first={}),s.first[l]=null==t[l]?0:t[l],s.vars[l]-=s.first[l];r._tweens.push(s)}static pause(){r._timer&&r._timer.isStart()?(r._timer.stop(),r._timer.removeEventListener(a.default.TIME,r._enterFrame)):h.default.current&&h.default.current.removeEventListener(n.default.ENTER_FRAME,r._enterFrame)}static resume(){r._timer&&r._tweens.length>0&&!r._timer.isStart()?(r._timer.addEventListener(a.default.TIME,r._enterFrame),r._timer.start()):h.default.current&&h.default.current.addEventListener(n.default.ENTER_FRAME,r._enterFrame)}static remove(t){if(null==t||0==r._tweens.length)return;let e,i,s=r._tweens.length;for(e=0;e<s;e++)i=r._tweens[e],i.target==t&&(r._tweens.splice(e,1),s--,e--);0==r._tweens.length&&r.pause()}static _enterFrame(t){if(0==r._tweens.length)return;let e,i;r._default_params;const s=r._tweens.length;for(e=0;e<s;e++)i=r._tweens[e],r._setAttribute(i)}static _setAttribute(t){if(null==t)return;let e;const i=t.target;if(t.delay<=1&&0==t.min&&t.hasOwnProperty(\"onStart\")&&t.onStart&&(t.onStart.apply(null,t.hasOwnProperty(\"onStartParams\")?t.onStartParams:null),delete t.onStartParams,delete t.onStart),t.delay>0)t.delay--;else{for(e in t.min++,t.vars)i[e]=t.min>=t.max?t.vars[e]+t.first[e]:r._tween(t.ease,t.first[e],t.vars[e],t.min,t.max,t.easeParams);if(t.min>=t.max){const e=r._tweens.indexOf(t);return r._tweens.splice(e,1),0==r._tweens.length&&r.pause(),void(t.hasOwnProperty(\"onComplete\")&&t.onComplete&&t.onComplete.apply(null,t.hasOwnProperty(\"onCompleteParams\")?t.onCompleteParams:null))}t.hasOwnProperty(\"onUpdate\")&&t.onUpdate&&t.onUpdate.apply(null,t.hasOwnProperty(\"onUpdateParams\")?t.onUpdateParams:null)}}}r.NONE=\"none\",r.LINEAR=\"linear\",r.QUAD=\"quad\",r.CUBIC=\"cubic\",r.QUART=\"quart\",r.QUINT=\"quint\",r.SINE=\"sine\",r.CIRC=\"circ\",r.EXPO=\"expo\",r.ELASTIC=\"elastic\",r.BACK=\"back\",r.BOUNCE=\"bounce\",r.STRONG=\"strong\",r.IN=\"in\",r.OUT=\"out\",r.IN_OUT=\"inout\",r.OUT_IN=\"outin\",r._timer,r._tweens=[],r._inited=!1,r._locked=!1,r._transitionList={}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return r}));var s=i(7),a=i(1),h=i(19),n=(i(3),i(2));class r{constructor(t=0,e=0,i=0,s=0){this.x=this.y=this.width=this.height=0,this.set(t,e,i,s)}get data(){const t=this.toString();return JSON.parse(t)}set data(t){null!=t&&null!=t&&this.set(t.x,t.y,t.width,t.height)}get topLeft(){return new s.default(this.x,this.y)}get bottomRight(){return new s.default(this.x+this.width,this.y+this.height)}get right(){return this.x+this.width}get bottom(){return this.y+this.height}set(t,e,i,s){return this.x=a.default.format(t||0),this.y=a.default.format(e||0),this.width=Math.abs(a.default.format(i||0)),this.height=Math.abs(a.default.format(s||0)),this}move(t,e){return this.x=a.default.format(null==e?t.x:t+this.x),this.y=a.default.format(null==e?t.y:e+this.y),this}add(t){this.x=a.default.format(t.x+this.x),this.y=a.default.format(t.y+this.y),this.width=a.default.format(t.width+this.width),this.height=a.default.format(t.height+this.height)}multiply(t,e){t=Math.abs(t),e=Math.abs(e||t),this.x=a.default.format(this.x*t),this.y=a.default.format(this.y*e),this.width=a.default.format(this.width*t),this.height=a.default.format(this.height*e)}contains(t,e){return null!=t&&(t instanceof s.default?this.x<=t.x&&this.y<=t.y&&t.x<=this.right&&t.y<=this.bottom:t instanceof r?this.x<=t.x&&this.y<=t.y&&t.right<=this.right&&t.bottom<=this.bottom:null!=e&&(this.x<=t&&this.y<=e&&t<=this.right&&e<=this.bottom))}intersects(t){return this.x<=t.x+t.width&&this.y<=t.y+t.height&&t.x<=this.x+this.width&&t.y<=this.y+this.height}intersection(t){if(!this.intersects(t))return new r;let e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width)-e,a=Math.min(this.y+this.height,t.y+t.height)-i;return new r(e,i,s,a)}getPoints(t,e){let i=t?-1:1,a=e?-1:1;return[new s.default(this.x,this.y),new s.default(this.x+this.width*i,this.y),new s.default(this.x+this.width*i,this.y+this.height*a),new s.default(this.x,this.y+this.height*a)]}rotation(t,e,i,a,h){e=e||new s.default;let n,r,l,o,u,d=this.getPoints(a,h);for(l=0;l<d.length;l++)d[l].subtract(e),u=d[l].length(),o=d[l].radians,n=Math.sin(o+t),r=Math.cos(o+t),d[l].x=e.x+u*r+(i?i.x:0),d[l].y=e.y+u*n+(i?i.y:0);return d}union(t,e=!0){const i=Math.min(this.x,t.x),s=Math.min(this.y,t.y),a=Math.max(this.x+this.width,t.x+t.width)-i,h=Math.max(this.y+this.height,t.y+t.height)-s;return e?new r(i,s,a,h):(this.x=i,this.y=s,this.width=a,this.height=h,this)}clone(){return new r(this.x,this.y,this.width,this.height)}reset(t=0,e=0,i=0,s=0){this.set(t,e,i,s)}toArray(t){return[this.x,this.y,t?this.right:this.width,t?this.bottom:this.height]}toString(){return'{\"x\":'+this.x+',\"y\":'+this.y+',\"width\":'+this.width+',\"height\":'+this.height+\"}\"}static toRectangle(t){if(n.default.isEmpty(t))return null;if(t=t.toLowerCase(),!n.default.exist(t,\"x\",\"y\",\"w\",\"h\",\":\",\"=\")){let e=(t=n.default.replaceAll(t,[\"(\",\")\",\"{\",\"}\"],[\"\",\"\",\"\",\"\"])).split(\",\");return e.length<4?null:new r(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3]))}let e;t=-1==(t=-1==(t=n.default.replaceAll(t,[\"(\",\")\"],[\"{\",\"}\"])).indexOf(\"height\")?n.default.replace(t,\"h\",\"height\"):t).indexOf(\"width\")?n.default.replace(t,\"w\",\"width\"):t,t=n.default.exist(t,'\"',\"'\",\":\")?t:n.default.replaceAll(t,[\"=\",\"x\",\"y\",\"width\",\"height\"],[\":\",'\"x\"','\"y\"','\"width\"','\"height\"']);try{e=JSON.parse(t)}catch(t){}return e?h.default.copyAttribute(new r,e,!0):null}static getRectanglePoint(t,e,i){return e=e||.5,i=i||.5,t?new s.default(a.default.format(t.x+t.width*e),a.default.format(t.y+t.height*i)):null}static setRectangleCenter(t,e,i,s){null!=t&&null!=e&&(i=i||.5,s=s||.5,t.x=a.default.format(e.x-t.width*i),t.y=a.default.format(e.y-t.height*s))}static innerPoint(t,e){if(null!=t&&null!=e)return e.x=a.default.clamp(e.x,t.x,t.right),e.y=a.default.clamp(e.y,t.y,t.bottom),e}static createRectangle(t,e,i,s){i=i||t,s=s||e;const a=Math.min(t.x,e.x,i.x,s.x),h=Math.max(t.x,e.x,i.x,s.x),n=Math.min(t.y,e.y,i.y,s.y);return{x:a,y:n,width:h-a,height:Math.max(t.y,e.y,i.y,s.y)-n}}static rectangleByRadians(t,e,i,s,a,n){let l=t.rotation(e,i,s,a,n);return h.default.copyAttribute(l,r.createRectangle(l[0],l[1],l[2],l[3])),l}static getPointsBounds(t){if(!t||!t.length)return null;let[e,i,s,a]=[0,0,0,0],h=t[0]instanceof Array;for(let r,l=0,o=t.length;l<o;l++)r=t[l],!n.default.isEmpty(r)&&(h?r.length:r.hasOwnProperty(\"x\"))&&(0!=l?(e=Math.min(e,h?parseFloat(r[0]):r.x),i=Math.min(i,h?parseFloat(r[1]):r.y),s=Math.max(s,h?parseFloat(r[0]):r.x),a=Math.max(a,h?parseFloat(r[1]):r.y)):(e=s=h?parseFloat(r[0]):r.x,i=a=h?parseFloat(r[1]):r.y));return{x:e,y:i,width:s-e,height:a-i}}static isContainedIn(t,e){return t.contains(e)}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static easeNone(t,e,i,s,a){return i*t/s+e}static easeInQuad(t,e,i,s,a){return i*(t/=s)*t+e}static easeOutQuad(t,e,i,s,a){return-i*(t/=s)*(t-2)+e}static easeInOutQuad(t,e,i,s,a){return(t/=s/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}static easeOutInQuad(t,e,i,a,h){return t<a/2?s.easeOutQuad(2*t,e,i/2,a,h):s.easeInQuad(2*t-a,e+i/2,i/2,a,h)}static easeInCubic(t,e,i,s,a){return i*(t/=s)*t*t+e}static easeOutCubic(t,e,i,s,a){return i*((t=t/s-1)*t*t+1)+e}static easeInOutCubic(t,e,i,s,a){return(t/=s/2)<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}static easeOutInCubic(t,e,i,a,h){return t<a/2?s.easeOutCubic(2*t,e,i/2,a,h):s.easeInCubic(2*t-a,e+i/2,i/2,a,h)}static easeInQuart(t,e,i,s,a){return i*(t/=s)*t*t*t+e}static easeOutQuart(t,e,i,s,a){return-i*((t=t/s-1)*t*t*t-1)+e}static easeInOutQuart(t,e,i,s,a){return(t/=s/2)<1?i/2*t*t*t*t+e:-i/2*((t-=2)*t*t*t-2)+e}static easeOutInQuart(t,e,i,a,h){return t<a/2?s.easeOutQuart(2*t,e,i/2,a,h):s.easeInQuart(2*t-a,e+i/2,i/2,a,h)}static easeInQuint(t,e,i,s,a){return i*(t/=s)*t*t*t*t+e}static easeOutQuint(t,e,i,s,a){return i*((t=t/s-1)*t*t*t*t+1)+e}static easeInOutQuint(t,e,i,s,a){return(t/=s/2)<1?i/2*t*t*t*t*t+e:i/2*((t-=2)*t*t*t*t+2)+e}static easeOutInQuint(t,e,i,a,h){return t<a/2?s.easeOutQuint(2*t,e,i/2,a,h):s.easeInQuint(2*t-a,e+i/2,i/2,a,h)}static easeInSine(t,e,i,s,a){return-i*Math.cos(t/s*(Math.PI/2))+i+e}static easeOutSine(t,e,i,s,a){return i*Math.sin(t/s*(Math.PI/2))+e}static easeInOutSine(t,e,i,s,a){return-i/2*(Math.cos(Math.PI*t/s)-1)+e}static easeOutInSine(t,e,i,a,h){return t<a/2?s.easeOutSine(2*t,e,i/2,a,h):s.easeInSine(2*t-a,e+i/2,i/2,a,h)}static easeInExpo(t,e,i,s,a){return 0==t?e:i*Math.pow(2,10*(t/s-1))+e-.001*i}static easeOutExpo(t,e,i,s,a){return t==s?e+i:1.001*i*(1-Math.pow(2,-10*t/s))+e}static easeInOutExpo(t,e,i,s,a){return 0==t?e:t==s?e+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+e-5e-4*i:i/2*1.0005*(2-Math.pow(2,-10*--t))+e}static easeOutInExpo(t,e,i,a,h){return t<a/2?s.easeOutExpo(2*t,e,i/2,a,h):s.easeInExpo(2*t-a,e+i/2,i/2,a,h)}static easeInCirc(t,e,i,s,a){return-i*(Math.sqrt(1-(t/=s)*t)-1)+e}static easeOutCirc(t,e,i,s,a){return i*Math.sqrt(1-(t=t/s-1)*t)+e}static easeInOutCirc(t,e,i,s,a){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+e:i/2*(Math.sqrt(1-(t-=2)*t)+1)+e}static easeOutInCirc(t,e,i,a,h){return t<a/2?s.easeOutCirc(2*t,e,i/2,a,h):s.easeInCirc(2*t-a,e+i/2,i/2,a,h)}static easeInElastic(t,e,i,s,a){if(0==t)return e;if(1==(t/=s))return e+i;let h,n=!Boolean(a)||isNaN(a.period)?.3*s:a.period,r=!Boolean(a)||isNaN(a.amplitude)?0:a.amplitude;return!Boolean(r)||r<Math.abs(i)?(r=i,h=n/4):h=n/(2*Math.PI)*Math.asin(i/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*s-h)*(2*Math.PI)/n)+e}static easeOutElastic(t,e,i,s,a){if(0==t)return e;if(1==(t/=s))return e+i;let h,n=!Boolean(a)||isNaN(a.period)?.3*s:a.period,r=!Boolean(a)||isNaN(a.amplitude)?0:a.amplitude;return!Boolean(r)||r<Math.abs(i)?(r=i,h=n/4):h=n/(2*Math.PI)*Math.asin(i/r),r*Math.pow(2,-10*t)*Math.sin((t*s-h)*(2*Math.PI)/n)+i+e}static easeInOutElastic(t,e,i,s,a){if(0==t)return e;if(2==(t/=s/2))return e+i;let h,n=!Boolean(a)||isNaN(a.period)?s*(.3*1.5):a.period,r=!Boolean(a)||isNaN(a.amplitude)?0:a.amplitude;return!Boolean(r)||r<Math.abs(i)?(r=i,h=n/4):h=n/(2*Math.PI)*Math.asin(i/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*s-h)*(2*Math.PI)/n)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*s-h)*(2*Math.PI)/n)*.5+i+e}static easeOutInElastic(t,e,i,a,h){return t<a/2?s.easeOutElastic(2*t,e,i/2,a,h):s.easeInElastic(2*t-a,e+i/2,i/2,a,h)}static easeInBack(t,e,i,s,a){let h=!Boolean(a)||isNaN(a.overshoot)?1.70158:a.overshoot;return i*(t/=s)*t*((h+1)*t-h)+e}static easeOutBack(t,e,i,s,a){let h=!Boolean(a)||isNaN(a.overshoot)?1.70158:a.overshoot;return i*((t=t/s-1)*t*((h+1)*t+h)+1)+e}static easeInOutBack(t,e,i,s,a){let h=!Boolean(a)||isNaN(a.overshoot)?1.70158:a.overshoot;return(t/=s/2)<1?i/2*(t*t*((1+(h*=1.525))*t-h))+e:i/2*((t-=2)*t*((1+(h*=1.525))*t+h)+2)+e}static easeOutInBack(t,e,i,a,h){return t<a/2?s.easeOutBack(2*t,e,i/2,a,h):s.easeInBack(2*t-a,e+i/2,i/2,a,h)}static easeInBounce(t,e,i,a,h){return i-s.easeOutBounce(a-t,0,i,a)+e}static easeOutBounce(t,e,i,s,a){return(t/=s)<1/2.75?i*(7.5625*t*t)+e:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+e:i*(7.5625*(t-=2.625/2.75)*t+.984375)+e}static easeInOutBounce(t,e,i,a,h){return t<a/2?.5*s.easeInBounce(2*t,0,i,a)+e:.5*s.easeOutBounce(2*t-a,0,i,a)+.5*i+e}static easeOutInBounce(t,e,i,a,h){return t<a/2?s.easeOutBounce(2*t,e,i/2,a,h):s.easeInBounce(2*t-a,e+i/2,i/2,a,h)}static easeInStrong(t,e,i,s,a){return i*(t/=s)*t*t*t*t+e}static easeOutStrong(t,e,i,s,a){return i*((t=t/s-1)*t*t*t*t+1)+e}static easeInOutStrong(t,e,i,s,a){return(t/=.5*s)<1?.5*i*t*t*t*t*t+e:.5*i*((t-=2)*t*t*t*t+2)+e}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return c}));var s=i(0),a=i(26),h=i(15),n=i(9),r=i(21),l=i(23),o=i(31),u=i(3),d=i(2),_=i(32);class c extends h.default{constructor(){super(),this.name=l.default.getName(\"display_object_container\"),this.use_canvas=s.default.useCanvas,this.mouseChildren=!0,this.autoSize=!1,this._parentNode=null,this._children=[]}get stage(){return this._stage}set stage(t){if(this._stage==t)return;if(this._stage=t,null==this._children||this._children.length<1)return;let e,i,s;for(e=0,s=this._children.length;e<s;e++)i=this._children[e],i.stage=t}get alpha(){return this._alpha}set alpha(t){this._alpha!=t&&(this._alpha=t,this.__checkDisplayUpdate(),this._update_parent_alpha())}get visible(){return this._visible}set visible(t){this._visible!=t&&(this._visible=t,this.__checkDisplayUpdate(),this._children.length<1||this._update_child_visible())}get updateMatrix(){return this._updateMatrix}set updateMatrix(t){if(t&&this.__checkDisplayUpdate(),this._updateMatrix==t)return;if(this._updateMatrix=t,t&&this._bounds&&(this._bounds.width=this._bounds.heigth=0),!t||this._children.length<1)return;let e,i,s;for(e=0,s=this._children.length;e<s;e++)i=this._children[e],i.updateMatrix=!0}get parentNode(){return this._parentNode}set parentNode(t){if(this._parentNode==t)return;if(this._parentNode=t,this._children.length<1)return;let e,i,s;for(e=0,s=this._children.length;e<s;e++)i=this._children[e],i instanceof r.default||(i.parentNode=t)}get numChildren(){return this._children.length}_update_parent_alpha(){if(this._children.length<1)return;let t,e,i;for(t=0,i=this._children.length;t<i;t++)e=this._children[t],e._parent_alpha=this._alpha*this._parent_alpha,e instanceof c&&e._update_parent_alpha()}_update_child_visible(){let t,e,i;for(t=0,i=this._children.length;t<i;t++)e=this._children[t],e instanceof c?e._update_child_visible():e instanceof a.default&&e._update_visible()}addChild(t){if(!(null==t||!t instanceof h.default))return this.addChildAt(t,this._children.length)}addChildAt(t,e){if(!(null==t||!t instanceof h.default))return t.parent&&t.parent.removeChild(t),this._children.splice(e,0,t),t instanceof r.default?c._num_canvas_target++:t.parentNode=this._parentNode,t.stage=this.stage,t.parent=this,t.updateMatrix=!0,t._parent_alpha=this._alpha*this._parent_alpha,this.autoSize?this._updateSize():(this.width=Math.max(this.width,t.getWidth()),this.height=Math.max(this.height,t.getHeight())),t}_updateSize(){if(null==this._children||0==this._children.length)return;let t,e,i,s,a=u.default.create(n.default);for(t=0,i=this._children.length;t<i;t++)e=this._children[t],s=e.getBounds(this),a=a.union(s);this._minX=Math.floor(a.x),this._minY=Math.floor(a.y),this.width=Math.ceil(a.width),this.height=Math.ceil(a.height),u.default.remove(a)}removeChild(t){return this.removeChildAt(this._children.indexOf(t))}removeChildAt(t){if(t<0||t>this._children.length-1)return null;let e=this._children[t];return e.stage=e.parent=null,this._children.splice(t,1),e._parent_alpha=1,0==this._children.length?this.width=this.height=0:this.autoSize&&this._updateSize(),e instanceof r.default?c._num_canvas_target--:e.parentNode=null,e}getChildByName(t){if(d.default.isEmpty(t))return;let e,i=this._children.length;for(e=0;e<i;e++)if(this._children[e].name==t)return this._children[e];return null}getChildAt(t){return t<0||t>this._children.length-1?null:this._children[t]}removeAllChildren(t){if(null==this._children||this._children.length<1)return;let e,i,a;for(e=0,a=this._children.length;e<a;e++)if(i=this._children[e],i.stage=i.parent=null,i._parent_alpha=1,i instanceof r.default?c._num_canvas_target--:i.parentNode=null,t&&!s.default.gc(i))try{i.dispose()}catch(t){}this._children=[],this.width=this.height=0}contains(t){return-1!=this._children.indexOf(t)}render(t){if(null==this._children||0==this._children.length)return;let e,i;for(this.updateMatrix&&this.getMatrix(t,!0),e=0;e<this._children.length;e++)i=this._children[e],!this.visible&&i instanceof r.default||i.render(...arguments);this.updateMatrix=!1}swapChildrenAt(t,e){const i=this._children.length;if(0==i||t>=i||t<0)return;e=e<0?0:e>=i?i-1:e;const s=this._children[t];this._children[t]=this._children[e],this._children[e]=s}setChildIndex(t,e){const i=this._children.indexOf(t);null==t||i<0||i==e||(this._children.splice(i,1),this._children.splice(e,0,t))}getObjectUnderPoint(t,e,i,s){let a;s&&(a=[]);for(let h=this._children.length-1;h>=0;h--){let n=this._children[h];if(null!=n&&n.visible)if(n instanceof c&&n.mouseChildren&&n.numChildren>0){let h=n.getObjectUnderPoint(t,e,i,s);if(h){if(!s)return h;h.length>0&&(a=a.concat(h))}else if(n.mouseEnabled&&n.hitTestPoint(t,e,i)){if(!s)return n;a.push(n)}}else if(n.mouseEnabled&&n.hitTestPoint(t,e,i)){if(!s)return n;a.push(n)}}return s?a:null}hitTestPoint(t,e,i){if(this._children.length<=0)return!1;if(!this.mouseChildren&&this.autoSize)return _.default.hitTestPoint(this,t,e,this.usePolyCollision)>0;for(let s=this._children.length-1;s>=0;s--){let a=this._children[s];if(this.usePolyCollision&&!a.usePolyCollision&&(a.usePolyCollision=!0),a.hitTestPoint(t,e,i))return!0}return!1}hitTestObject(t,e){let i,s,a,h;for(i=this._children.length-1;i>=0;i--)if(s=this._children[i],t instanceof c){for(a=t._children.length-1;a>=0;a--)if(h=t._children[i],s.hitTestObject(h,e))return!0}else if(s.hitTestObject(t,e))return!0;return!1}catchAsImage(){if(this._children.length<=1)return;this._updateSize();const t=o.default.containerToImage(this);this.removeAllChildren(!0);let e=Factory.c(\"do\");e.setInstance(t),this.addChild(e)}reset(){this.parentNode=null,this.removeAllChildren(!0),this.name=null,this.autoSize=!1,this.mouseChildren=!0,this.use_canvas=s.default.useCanvas,super.reset()}dispose(){super.dispose(),delete this.use_canvas,this._parentNode,this.autoSize,this._children,this.mouseChildren}toString(){return c.name}}c._num_canvas_target=0},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return n}));var s=i(1),a=i(3),h=i(9);class n{static getRect(t){if(null==t)return null;const e=t.documentElement?t.documentElement:t,i=e.width,a=e.height,n=i instanceof SVGAnimatedLength,r=a instanceof SVGAnimatedLength;return new h.default(n?i.baseVal.value:0,r?a.baseVal.value:0,n?i.animVal.value:s.default.int(i),r?a.animVal.value:s.default.int(a))}static getElement(t){if(null==t)return null;const e=a.default.create(DOMDisplay),i=n.getRect(t),s=DOMUtil.createDOM(\"div\",{style:{width:i.width+\"px\",height:i.height+\"px\"}});try{s.innerHTML=(new XMLSerializer).serializeToString(t)}catch(e){s.innerHTML=t}return e.element=s,e}static create(t,e){if(null==t)return;let i=document.createElementNS(n.ns,t);return null==e&&(e={}),\"svg\"!=t.toLowerCase()||e.hasOwnProperty(\"xmlns\")||(e.xmlns=n.ns),n.setAttributes(i,e),i}static setAttributes(t,e){if(null!=t&&null!=e)for(let i in e){let s=e[i];if(null!=s)if(\"style\"==i)for(let e in s)t.style[e]=s[e];else\"innerHTML\"==i||\"outerHTML\"==i?t.innerHTML=s:t.setAttribute(i,s)}}static getElementsById(t,e,i){let s=t.getElementsByTagName(e);if(!s.length)return null;for(let t,e=0,a=s.length;e<a;e++)if(t=s[e],t.id==i)return t}static get supported(){return null!=document.createElementNS&&null!=document.createElementNS(n.ns,\"svg\").createSVGRect}}n.ns=\"http://www.w3.org/2000/svg\",n.xlink=\"http://www.w3.org/1999/xlink\",n.xmlns=\"http://www.w3.org/2000/xmlns/\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return p}));var s=i(11),a=i(4),h=i(3),n=i(23),r=i(9),l=i(27),o=i(6),u=i(26),d=i(0),_=i(40),c=i(7),f=i(5);class p extends s.default{constructor(){super(),this.usePixelTrace=!1,this.traceMouseTarget=!0,this.timer=this.dragTarget=this.mouseTarget=this._mouseDownTarget=null,this.stageX=this.stageY=0,this.mouseX=this.mouseY=0,this.isFullScreen=!1,this.auto_clear=!0,this.last_fresh=!0,this.auto_fresh=!0,this.block_ratio=.05,this._dragMouseX=this._dragMouseY=0,this.stageWidth=this.stageHeight=0,this.name=n.default.getName(\"stage\"),this.startPoint={x:0,y:0,n:0},this._parent_node=null,this._activate=!1,this._isTap=!1,this._graphics=null,this._block=null,this._area=null,this._layer=-1,this.interactive=!0,this._enable=!1,this.stage=this,this.context,this.canvas,this.div,p.current=this}get graphics(){return this._graphics}initCanvas(t,e,i,s){let a=!1;if(this.canvas=i,null==i){try{this.canvas=document.createElement(\"canvas\")}catch(t){a=!0,this.canvas={style:{},context:{}},trace(\"[WARN] Stage initCanvas()\",t)}this.canvas.width=t,this.canvas.height=e,s&&(this.canvas.contenteditable=this.canvas.draggable=this.canvas.dropzone=!0),this.canvas.tabindex=0,this.canvas.style.left=this.canvas.style.top=\"0px\",this.canvas.style.position=d.default.position,this.canvas.style.zIndex=d.default.layer,this.canvas.style.padding=0,this.canvas.style.margin=0,null==this.div&&(this.div=l.default.createDOM(\"div\",{id:\"container_\"+this.name,style:{overflow:\"hidden\",position:d.default.position,height:e+\"px\",width:t+\"px\",padding:\"0\",margin:\"0\",cursor:\"\"}}),document.body.appendChild(this.div),this._parentNode=this.div),a||this.div.appendChild(this.canvas)}this.stageWidth=t,this.stageHeight=e,this.context=a?this.canvas.context:this.canvas.getContext(\"2d\"),this.updatePosition(),p.current==this&&(d.default.context=this.context,d.default.canvas=this.canvas,d.default.div=this.div,d.default.height=e,d.default.width=t),a||(this._graphics=new _.default(this.context)),this.enable(!0)}size(t,e){null!=t&&null!=e&&null!=this.div&&(t=Math.floor(t),e=Math.floor(e),this.div&&(this.div.style.height=e+\"px\",this.div.style.width=t+\"px\"),this.canvas&&(this.canvas.width=t,this.canvas.height=e),this.stageWidth=t,this.stageHeight=e,d.default.autoShapeSize&&this.dispatchEvent(new f.default(a.default.UPDATE)))}enable(t){if(this.__enter_frame=this.__enter_frame?this.__enter_frame:d.default.delegate(this._enterFrame,this),this._enable=t,t?d.default.animationFrame?this._enterFrame():(this.timer=this.timer?this.timer:new Timer,this.timer.addEventListener(Timer.TIME,this.__enter_frame,!1),this.timer.start()):this.timer&&(this.timer.removeEventListener(Timer.TIME,this.__enter_frame),this.timer.stop()),!this.interactive)return;this.__message_handler=this.__message_handler?this.__message_handler:d.default.delegate(this._message_handler,this),this.__touch_handler=this.__touch_handler?this.__touch_handler:d.default.delegate(this._touchHandler,this),this.__mouse_handler=this.__mouse_handler?this.__mouse_handler:d.default.delegate(this._mouseHandler,this),this.__key_handler=this.__key_handler?this.__key_handler:d.default.delegate(this._keyHandler,this);const e=this.div?this.div:document;d.default.supportTouch?t?(e.addEventListener(\"touchstart\",this.__touch_handler,{passive:!1}),e.addEventListener(\"touchmove\",this.__touch_handler,{passive:!1}),document.addEventListener(\"touchend\",this.__touch_handler,{passive:!1})):(e.removeEventListener(\"touchstart\",this.__touch_handler),e.removeEventListener(\"touchmove\",this.__touch_handler),document.removeEventListener(\"touchend\",this.__touch_handler)):(t?(e.addEventListener(d.default.isFirefox?\"DOMMouseScroll\":\"mousewheel\",this.__mouse_handler),e.addEventListener(\"mousedown\",this.__mouse_handler),e.addEventListener(\"mousemove\",this.__mouse_handler),e.addEventListener(\"mouseenter\",this.__mouse_handler),e.addEventListener(\"mouseleave\",this.__mouse_handler),document.addEventListener(\"mouseup\",this.__mouse_handler)):(e.removeEventListener(d.default.isFirefox?\"DOMMouseScroll\":\"mousewheel\",this.__mouse_handler),e.removeEventListener(\"mousedown\",this.__mouse_handler),e.removeEventListener(\"mousemove\",this.__mouse_handler),e.removeEventListener(\"mouseenter\",this.__mouse_handler),e.removeEventListener(\"mouseleave\",this.__mouse_handler),document.removeEventListener(\"mouseup\",this.__mouse_handler)),t?(d.default.root.addEventListener(\"message\",this.__message_handler),document.addEventListener(\"keydown\",this.__key_handler),document.addEventListener(\"keyup\",this.__key_handler)):(d.default.root.removeEventListener(\"message\",this.__message_handler),document.removeEventListener(\"keydown\",this.__key_handler),document.removeEventListener(\"keyup\",this.__key_handler)))}_message_handler(t){this.dispatchEvent(new f.default(a.default.MESSAGE,t&&t.data?t.data:t))}resize(t,e){this.dispatchEvent(new f.default(a.default.RESIZE,{width:t,height:e}))}_enterFrame(t){if(this.dispatchEvent(new f.default(a.default.ENTER_FRAME)),this.auto_clear&&(s.default._num_canvas_target>0||this.last_fresh)&&(this.auto_fresh&&this.clear(),!s.default._num_canvas_target>0&&this.last_fresh&&(this.last_fresh=!1,this.canvas))){let t=this._parent_node;this._parent_node=this.canvas.parentNode,this._parent_node?this._parent_node.removeChild(this.canvas):this._parent_node=t||this.div}if(this._enable&&d.default.animationFrame&&d.default.animationFrame(this.__enter_frame),this.numChildren<=0)return;const e=this;Promise.resolve().then((function(){e.render()}))}render(){!this.last_fresh&&s.default._num_canvas_target>0&&(this.last_fresh=!0,this.canvas&&this._parent_node&&this._parent_node.appendChild(this.canvas)),u.default._depth_count=0,this.auto_fresh&&(this.auto_fresh=!1,super.render())}_dragHandler(){let t,e=this._dragMouseX,i=this._dragMouseY,s=this.dragTarget.origin,n=this.dragTarget.localToGlobal(s?s.x:0,s?s.y:0);s=this.dragTarget.localToGlobal(e,i),e=Math.round(this.mouseX-(s.x-n.x)),i=Math.round(this.mouseY-(s.y-n.y)),this._block&&!this._block.contains(e,i)&&(t=this.dragTarget.localToGlobal(0,0),e=t.x+(e-t.x)*this.block_ratio,i=t.y+(i-t.y)*this.block_ratio,h.default.remove(t)),this._area&&(t=h.default.create(c.default).set(e,i),t=r.default.innerPoint(this._area,t),e=t.x,i=t.y,h.default.remove(t)),s&&h.default.remove(s),s=this.dragTarget.parent.globalToLocal(e,i),this.dragTarget.x=s.x,this.dragTarget.y=s.y,this._isTap||this.dragTarget.dispatchEvent(new f.default(a.default.DRAG_MOVE)),n&&h.default.remove(n),s&&h.default.remove(s)}clear(){this.context&&this.canvas&&this.canvas.parentNode&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}_touchHandler(t){let e=t.touches&&t.touches.length>0?t.touches[0]:t.changedTouches&&t.changedTouches.length>0?t.changedTouches[0]:null,i=(e.pageX||e.clientX)-this.stageX,s=(e.pageY||e.clientY)-this.stageY,n=i==this.mouseX&&s==this.mouseY;if(this.mouseX=i,this.mouseY=s,this.traceMouseTarget&&this._getMouseTarget(t),e={id:e?e.identifier:0,target:this.mouseTarget||this,mouseX:this.mouseX,mouseY:this.mouseY,button:0},e.type=p.translationType(t.type),e=o.default.c(\"se\",e),e.touchs=[],n&&e.type==a.default.MOUSE_MOVE&&(e.type=a.default.MOUSE_OVER),e.type==a.default.MOUSE_DOWN?(this.startPoint.x=i,this.startPoint.y=s,this.startPoint.n=t.touches.length):!n&&t.touches.length==this.startPoint.n&&Math.hypot(this.startPoint.x-i,this.startPoint.y-s)<p.maxTap&&(n=!0),this.mouseTarget&&this.mouseTarget.onMouseEvent&&(this.mouseTarget.onMouseEvent(e),e.type==a.default.MOUSE_UP)){const t=o.default.c(\"se\",{type:a.default.MOUSE_OUT});this.mouseTarget.onMouseEvent(t),h.default.remove(t)}let r,u,_,c=t.touches.length;for(r=0;r<c;r++)u=t.touches[r],null!=u.target&&(_=p.translationType(u.type),(_==a.default.MOUSE_UP||l.default.contains(this.div,u.target))&&(i=(u.pageX||u.clientX)-this.stageX,s=(u.pageY||u.clientY)-this.stageY,e.touchs.push({mouseX:i,mouseY:s,type:_,id:u.identifier})));e.length=e.touchs?e.touchs.length:0,e.type==a.default.MOUSE_MOVE&&this.dragTarget&&this._dragHandler();let f=e.target.breakTouch,m=e.target!=this?o.default.c(\"se\",e):null,g=this._checkMouseClick(e,n);e.target.dispatchEvent(e),m&&this.dispatchEvent(m),(d.default.breakTouch||f||g||this.breakTouch)&&e.type!=a.default.MOUSE_UP&&(t.preventDefault(),t.stopPropagation())}_mouseHandler(t){if(null==t.target||\"mouseleave\"==t.type||!l.default.contains(this.div,t.target)&&\"mouseup\"!=t.type)return this._activate=!1,void this.dispatchEvent(o.default.c(\"se\",[a.default.MOUSE_OUT,this._activate]));let e=t.pageX-this.stageX,i=t.pageY-this.stageY,s=o.default.c(\"se\",{type:t.type}),h=e==this.mouseX&&i==this.mouseY;\"mouseenter\"==t.type?(this._activate=!0,s.type=a.default.MOUSE_OVER,this.dispatchEvent(o.default.c(\"se\",[a.default.MOUSE_OVER,this._activate]))):!this.isFullScreen&&this._activate&&(e<0||i<0||e>this.stageWidth||i>this.stageHeight)?(this._activate=!1,this.dispatchEvent(o.default.c(\"se\",[a.default.MOUSE_OUT,this._activate]))):this._activate||\"mouseup\"==t.type||(this._activate=!0,this.dispatchEvent(o.default.c(\"se\",[a.default.MOUSE_OVER,this._activate]))),h&&t.type==a.default.MOUSE_MOVE&&(s.type=a.default.MOUSE_OVER),\"DOMMouseScroll\"==t.type&&(s.type=a.default.MOUSE_WHEEL),this.mouseX=e,this.mouseY=i,this.traceMouseTarget&&this._getMouseTarget(t),s.type==a.default.MOUSE_DOWN?(this.startPoint.x=e,this.startPoint.y=i):!h&&Math.hypot(this.startPoint.x-e,this.startPoint.y-i)<p.maxTap&&(h=!0),s.target=this.mouseTarget||this,s.mouseX=this.mouseX,s.mouseY=this.mouseY,s.delta=t.wheelDelta?t.wheelDelta/120:-t.detail/3,this.mouseTarget&&this.mouseTarget.onMouseEvent&&this.mouseTarget.onMouseEvent(s),s.type==a.default.MOUSE_MOVE&&this.dragTarget&&this._dragHandler(),this.setCursor(this.mouseTarget);let n=s.target.breakTouch,r=s.target!=this?o.default.c(\"se\",s):null,u=this._checkMouseClick(s,h);s.target.dispatchEvent(s),r&&this.dispatchEvent(r),(d.default.breakTouch||n||u||this.breakTouch)&&s.type!=a.default.MOUSE_UP&&(t.preventDefault(),t.stopPropagation())}_checkMouseClick(t,e){if(t.type==a.default.MOUSE_DOWN&&this.mouseTarget&&(this._mouseDownTarget=this.mouseTarget,this._isTap=!0),t.type==a.default.MOUSE_UP){if(null!=this._mouseDownTarget&&t.target!=this&&t.target==this._mouseDownTarget&&(t.target.dispatchEvent(this.__copyStageEvent(t,this._mouseDownTarget,a.default.MOUSE_CLICK)),this._isTap)){let e=this.__copyStageEvent(t,this._mouseDownTarget,a.default.MOUSE_TAP);this.__transmitEvent(e),t.target.dispatchEvent(e)}this._mouseDownTarget=null,this._isTap=!1}return t.type!=a.default.MOUSE_MOVE||e?t.target!=this&&this.__transmitEvent(t):(this._isTap=!1,!1)}__transmitEvent(t){if(null==t||null==t.target)return!1;let e,i=t.target;for(i=i.parent;null!=i&&i!=this;i=i.parent){if(i.breakTouch)return!0;i.mouseEnabled&&(t.type==a.default.MOUSE_OVER||t.type==a.default.MOUSE_OUT?(e=i.hitTestPoint(this.mouseX,this.mouseY),(t.type==a.default.MOUSE_OVER&&e||t.type==a.default.MOUSE_OUT&&!e)&&i.dispatchEvent(this.__copyStageEvent(t,i))):i.dispatchEvent(this.__copyStageEvent(t,i)))}return!1}__copyStageEvent(t,e,i){let s=o.default.c(\"se\",t);return s.target=e,s.type=i||s.type,s}_getMouseTarget(t){let e,i=this.getObjectUnderPoint(this.mouseX,this.mouseY,this.usePixelTrace,!1);var s=this.mouseTarget;this.mouseTarget=i,s&&s!=i&&(e=o.default.c(\"se\",[a.default.MOUSE_OUT]),e.target=s,e.mouseX=this.mouseX,e.mouseY=this.mouseY,this.__transmitEvent(e),s.onMouseEvent&&s.onMouseEvent(e),s.dispatchEvent&&s.dispatchEvent(e),this._mouseDownTarget==s&&(this._mouseDownTarget=null)),i&&s!=i&&(e=o.default.c(\"se\",[a.default.MOUSE_OVER]),e.target=i,e.mouseX=this.mouseX,e.mouseY=this.mouseY,this.__transmitEvent(e),i.onMouseEvent&&i.onMouseEvent(e),i.dispatchEvent&&i.dispatchEvent(e))}startDrag(t,e,i,s){if(null==t||null==t.parent)return;this.dragTarget&&this.stopDrag(),this.dragTarget=t,i?(this._layer=t.getIndex(),this.dragTarget.toTop()):this._layer=-1,this._area=e&&e instanceof r.default?e:null,this._block=s&&s instanceof r.default?s:null;let a=this.dragTarget.globalToLocal(this.mouseX,this.mouseY);this._dragMouseX=a.x,this._dragMouseY=a.y}stopDrag(){null!=this.dragTarget&&null!=this.dragTarget&&(this._layer>=0&&this.dragTarget&&this.dragTarget.parent&&this.dragTarget.parent.addChildAt(this.dragTarget,this._layer),this._dragMouseX=this._dragMouseY=0,this.dragTarget=null,this._block=null,this._area=null,this._layer=-1)}_keyHandler(t){this.dispatchEvent(new f.default(t.type,(t||d.default.root.event).keyCode,t,this.mouseTarget))}setCursor(t){this.div.style.cursor=null==this.cursor||\"\"==this.cursor?t?null==t.cursor?\"\":t.cursor:\"\":this.cursor}updatePosition(){if(!(null!=this.div&&l.default.contains(document,this.div)||null!=this.canvas&&l.default.contains(document,this.canvas)))return;let t=l.default.getElementOffset(this.div||this.canvas);this.stageX=t.left,this.stageY=t.top}toString(){return p.name}dispose(){this.enable(!1),this.timer&&this.timer.dispose(),this._graphics&&this._graphics.dispose(),p.current==this&&(p.current=null),this.stage=this.context=this.canvas=this.div=null,super.dispose(),delete this._graphics,this.traceMouseTarget,this._parent_node,this.dragTarget,this.mouseTarget,this._mouseDownTarget,this.timer,delete this.startPoint,this.isFullScreen,this.stageX,this.stageY,this.mouseX,this.mouseY,this._dragMouseX,this._dragMouseY,delete this.__message_handler,this.__touch_handler,this.__mouse_handler,this.__key_handler,this.__enter_frame,delete this._enable,this.interactive,this._activate,this.block_ratio,this._block,this.context,this.canvas,this.div,this.auto_clear,this.last_fresh,this.auto_fresh}static translationType(t){switch(t){case\"touchstart\":return a.default.MOUSE_DOWN;case\"touchmove\":return a.default.MOUSE_MOVE;case\"touchend\":return a.default.MOUSE_UP}return\"\"}}p.maxTap=8,p.current=null},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{}s.LINE=\"line\",s.POLYLINE=\"polyline\",s.RECT=\"rect\",s.CIRCLE=\"circle\",s.ELLIPSE=\"ellipse\",s.POLYGON=\"polygon\",s.PATH=\"path\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return b}));var s=i(29),a=i(3),h=i(19),n=i(1),r=i(0),l=i(5),o=i(48),u=i(7);const d=Symbol(\"draggable\"),_=Symbol(\"x\"),c=Symbol(\"y\"),f=Symbol(\"skewX\"),p=Symbol(\"skewY\"),m=Symbol(\"width\"),g=Symbol(\"height\"),y=Symbol(\"scaleX\"),v=Symbol(\"scaleY\"),x=Symbol(\"rotation\");class b extends s.default{constructor(){super(),this._cursor=this.name=this.register_point=this._parent=this._temp_matrix=this._matrix=this.polyArea=this._stage=this._bounds=null,this[g]=this[m]=this[c]=this[_]=this[x]=this[f]=this[p]=this._minX=this._minY=0,this[v]=this[y]=this._alpha=this._parent_alpha=1,this._refresh=this._resize=this.mouseEnabled=!1,this.usePolyCollision=!1,this._updateMatrix=!0,this.breakTouch=!1,this[d]=!1,this._visible=!0}set buttonMode(t){this._cursor=t?\"pointer\":\"\"}get buttonMode(){return\"pointer\"==this._cursor}set resize(t){this._resize=t,this._resize&&(this.dispatchEvent(new l.default(b.RESIZE)),this.__checkDisplayUpdate())}get resize(){return this._resize}get stage(){return this._stage}set stage(t){this._stage!=t&&(this._stage=t)}set visible(t){t=Boolean(t),this._visible!=t&&(this._visible=t,this.__checkDisplayUpdate())}get visible(){return this._visible}set parent(t){this._parent!=t&&(this._parent=t)}get parent(){return this._parent}set alpha(t){this._alpha==t||Number.isNaN(t)||(this._alpha=n.default.clamp(t,0,1),this.__checkDisplayUpdate(),this.updateMatrix=!0)}get alpha(){return this._alpha}get updateMatrix(){return this._updateMatrix}set updateMatrix(t){t&&this.__checkDisplayUpdate(),this._updateMatrix!=t&&(this._updateMatrix=t,t&&this._bounds&&(this._bounds.width=this._bounds.heigth=0))}get skewX(){return this[f]}set skewX(t){this[f]==t||Number.isNaN(t)||(this[f]=n.default.format(t),this.updateMatrix=!0)}get skewY(){return this[p]}set skewY(t){this[p]==t||Number.isNaN(t)||(this[p]=n.default.format(t),this.updateMatrix=!0)}get x(){return this[_]}set x(t){this[_]==t||Number.isNaN(t)||(this[_]=n.default.format(t),this.updateMatrix=!0)}get y(){return this[c]}set y(t){this[c]==t||Number.isNaN(t)||(this[c]=n.default.format(t),this.updateMatrix=!0)}get width(){return this[m]}set width(t){this[m]==t||Number.isNaN(t)||(this[m]=n.default.format(Math.max(0,t)),this.updateMatrix=!0,this.resize=!0)}get height(){return this[g]}set height(t){this[g]==t||Number.isNaN(t)||(this[g]=n.default.format(Math.max(0,t)),this.updateMatrix=!0,this.resize=!0)}get scaleX(){return this[y]}set scaleX(t){this[y]==t||Number.isNaN(t)||(this[y]=n.default.format(t),this.updateMatrix=!0)}get scaleY(){return this[v]}set scaleY(t){this[v]==t||Number.isNaN(t)||(this[v]=n.default.format(t),this.updateMatrix=!0)}get rotation(){return this[x]}set rotation(t){this[x]==t||Number.isNaN(t)||(this[x]=n.default.format(t),this.updateMatrix=!0)}get param(){const t=b.toString(this);return JSON.parse(t)}set param(t){null!=t&&null!=t&&(t.hasOwnProperty(\"matrix\")&&delete t.matrix,t.hasOwnProperty(\"name\")&&delete t.name,h.default.copyAttribute(this,t,!0),this.updateMatrix=!0,this.resize=!0)}get origin(){return this.register_point}set origin(t){null!=t&&null!=t&&(null==this.register_point&&(t instanceof u.default?(this.register_point=t,this.updateMatrix=!0):this.register_point=a.default.create(u.default)),(this.register_point.x!=t.x||this.register_point.y!=t.y||t.x>0&&t.x<=1&&t.y>0&&t.y<=1)&&(this.register_point.x=this.width&&t.x>0&&t.x<=1?n.default.format(this.width*t.x):t.x,this.register_point.y=this.height&&t.y>0&&t.y<=1?n.default.format(this.height*t.y):t.y,t instanceof u.default&&a.default.remove(t),this.updateMatrix=!0))}get matrix(){return this.updateMatrix&&(this.getMatrix(null,!0),this._refresh=!0),this._matrix?this._matrix:this.getMatrix()}set matrix(t){if(null==t||null==t||!(t instanceof o.default))return;let e=this.getMatrix().clone(),i=this.getMatrix(this);e.invert(),e.concat(i),t.concat(e),a.default.remove(e),t.applyDisplay(this)}get scale(){return this[y]==this[v]?this[y]:NaN}set scale(t){null==t||null==t||Number.isNaN(t)||(this[y]=this[v]=n.default.format(t),this.updateMatrix=!0)}get cursor(){return this._cursor}set cursor(t){t!=this._cursor&&(this._cursor=t)}get draggable(){return this[d]}set draggable(t){null!=t&&null!=t&&this[d]!=t&&(this[d]=t,this.breakTouch=this.mouseEnabled=t)}__checkDisplayUpdate(){this._stage&&!this._stage.auto_fresh&&(this._stage.auto_fresh=!0)}setSize(t,e){null==t||Number.isNaN(t)||null==e||Number.isNaN(e)||this[m]==t&&this[g]==e||(this.height=e,this.width=t)}getMatrix(t,e){if(this._matrix&&!this.updateMatrix&&!t&&e)return this._matrix;if(this._temp_matrix?this._temp_matrix.reset():this._temp_matrix=a.default.create(o.default),this._matrix&&!this.updateMatrix&&!t&&!e)return this._temp_matrix.setup(this._matrix.a,this._matrix.b,this._matrix.c,this._matrix.d,this._matrix.tx,this._matrix.ty),this._temp_matrix;if(t==this)return this._temp_matrix;const i=this.origin?this.origin.x:0,s=this.origin?this.origin.y:0;if(this._temp_matrix.concatTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,i,s,this.skewX,this.skewY),this.parent&&t!=this.parent&&(this._temp_matrix.concat(this.parent.matrix),t&&t.matrix)){const e=t.matrix.clone().invert();this._temp_matrix.concat(e),a.default.remove(e)}return this.updateMatrix&&!t&&e&&(this._matrix?this._matrix.setup(this._temp_matrix.a,this._temp_matrix.b,this._temp_matrix.c,this._temp_matrix.d,this._temp_matrix.tx,this._temp_matrix.ty):this._matrix=this._temp_matrix.clone(),this.updateMatrix=!1),this._temp_matrix}localToGlobal(t,e){null==e&&t instanceof u.default&&(e=t.y,t=t.x);const i=this.getMatrix(),s=a.default.create(o.default);s.setup(1,0,0,1,t,e),s.concat(i);const h=a.default.create(u.default).set(s.tx,s.ty);return a.default.remove(s),h}globalToLocal(t,e){null==e&&t instanceof u.default&&(e=t.y,t=t.x);const i=this.getMatrix();i.invert();const s=a.default.create(o.default);s.setup(1,0,0,1,t,e),s.concat(i);const h=a.default.create(u.default).set(s.tx,s.ty);return a.default.remove(s),h}localToTarget(t,e,i){return null==i||null==i?this.localToGlobal(t,e):i.globalToLocal(this.localToGlobal(t,e))}getWidth(){return Math.ceil(Math.abs(this.width*this.scaleX))}getHeight(){return Math.ceil(Math.abs(this.height*this.scaleY))}getBounds(t){let e,i,s=this.getWidth()/Math.abs(this.scaleX),a=this.getHeight()/Math.abs(this.scaleY),n=this._minX,r=this._minY,l=null==t&&this._bounds;if(this.polyArea){if(null==this._bounds)this._bounds=h.default.cloneObj(this.polyArea);else for(e=0;e<this.polyArea.length;e++)this._bounds[e].x=this.polyArea[e].x,this._bounds[e].y=this.polyArea[e].y;i=this._bounds}else if(l){if(this._bounds.width>0&&this._bounds.height>0)return this._bounds;this._bounds[0].x=n,this._bounds[0].y=r,this._bounds[1].x=n+s,this._bounds[1].y=r,this._bounds[2].x=n+s,this._bounds[2].y=r+a,this._bounds[3].x=n,this._bounds[3].y=r+a}let o=this.getMatrix(t);i=i||(l?this._bounds:[{x:n,y:r},{x:n+s,y:r},{x:n+s,y:r+a},{x:n,y:r+a}]);let u,d,_,c,f,p=l?this._bounds:[],m=i.length;u=o.transformPoint(i[0],!0,!1),d=_=u.x,c=f=u.y,p[0]=u;for(let t=1;t<m;t++)u=o.transformPoint(i[t],!0,!1),d>u.x?d=u.x:_<u.x&&(_=u.x),c>u.y?c=u.y:f<u.y&&(f=u.y),p[t]=u;return p.x=d,p.y=c,p.width=_-d,p.height=f-c,null==t&&null==this._bounds&&(this._bounds=p),p}getIndex(){return null!=this.parent&&this.parent.contains(this)?this.parent._children.indexOf(this):-1}toTop(){null!=this.parent&&this.parent.contains(this)&&this.parent.setChildIndex(this,this.parent.numChildren-1)}toBottom(){null!=this.parent&&this.parent.contains(this)&&this.parent.setChildIndex(this,0)}moveTo(t,e){null==e&&t instanceof u.default&&(e=t.y,t=t.x),this[_]==t&&this[c]==e||Number.isNaN(t)||Number.isNaN(e)||(this[_]=t,this[c]=e,this.updateMatrix=!0)}removeFromParent(t){null!=this.parent&&this.parent.contains(this)?(this.parent.removeChild(this),t&&!r.default.gc(this)&&this.dispose()):t&&!r.default.gc(this)&&this.dispose()}reset(){this._parent&&this.removeFromParent(!1),this._matrix&&a.default.remove(this._matrix),this._temp_matrix&&a.default.remove(this._temp_matrix),this.register_point&&a.default.remove(this.register_point),super.reset(),this.stage=null,this._visible=this._updateMatrix=!0,this[v]=this[y]=this._alpha=this._parent_alpha=1,this._minX=this._minY=this[f]=this[p]=this[g]=this[m]=this[c]=this[_]=this[x]=0,this._refresh=this._resize=this.mouseEnabled=this.usePolyCollision=this.breakTouch=this[d]=!1,this._cursor=this._bounds=this._matrix=this._temp_matrix=this.register_point=this.parent=this.polyArea=this.name=null}dispose(){this.reset(),super.dispose(),delete this._refresh,this._cursor,this._bounds,this._minX,this._minY,this._temp_matrix,this.breakTouch,this._resize,this[f],this[p],this._stage,this._updateMatrix,this.polyArea,this[d],this.usePolyCollision,this._matrix,this.register_point,this[g],this[m],this[c],this[_],this[x],this[v],this[y],this._alpha,this.mouseEnabled,this._visible,this.name,this._parent,this._parent_alpha}render(){}static toString(t){let e=\"{\";return e+='\"x\":'+t.x+\",\",e+='\"y\":'+t.y+\",\",e+='\"width\":'+t.width+\",\",e+='\"height\":'+t.height+\",\",e+='\"rotation\":'+t.rotation+\",\",e+='\"scaleX\":'+t.scaleX+\",\",e+='\"scaleY\":'+t.scaleY+\",\",e+='\"skewX\":'+t.skewX+\",\",e+='\"skewY\":'+t.skewY+\",\",e+='\"_minX\":'+t._minX+\",\",e+='\"_minY\":'+t._minY+\",\",e+='\"origin\":'+(t.origin?t.origin.toString():\"null\")+\",\",e+='\"mouseEnabled\":'+t.mouseEnabled+\",\",e+='\"visible\":'+t.visible+\",\",e+='\"name\":\"'+t.name+'\",',e+='\"breakTouch\":\"'+t.breakTouch+'\",',e+='\"alpha\":'+t.alpha+\",\",e+='\"draggable\":'+t.draggable+\",\",e+='\"_cursor\":\"'+(t._cursor?t._cursor:\"\")+'\",',this.polyArea&&(e+='\"polyArea\":'+t.polyArea.toString()+\",\"),e+='\"usePolyCollision\":'+t.usePolyCollision+\",\",e+='\"matrix\":'+(t._matrix?t._matrix.toString():'\"\"'),e+\"}\"}}b.RESIZE=\"display_base_resize\",b.RESET_INSTANCE=\"display_reset_instance\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return u}));var s=i(0),a=i(5),h=i(27),n=i(66),r=i(23),l=i(2),o=i(21);class u extends o.default{constructor(){super(),this.__over_handler=this.__update_handler=this.__load_handler=this.__error_handler=null,this.loadFail=this.once=this.auto_play=this.is_init=this.loading=this.loaded=this.playing=!1,this.list=this._type=this.element=null,this.auto_next=!0,this.seed_time=0,this.length=0,this.current=0,this.volume=1,this.delay_id=0,this.delay_max=30,this.delay_count=0,this.delay_time=500}init(){this.is_init||(this.is_init=!0,this.name=r.default.getName(this._type),this.element=document.createElement(this._type),this.element.id=this.name,this.element.controls=\"\",this.element.preload=\"auto\",this.list=[],u.Container.add(this),this.canvas=this.element,this.__delay_handler=s.default.delegate(this._delay,this),this.__over_handler=s.default.delegate(this._play_over,this),this.__load_handler=s.default.delegate(this._load_handler,this),this.__update_handler=s.default.delegate(this._time_update,this),this.__error_handler=s.default.delegate(this._error_handler,this),this.element.addEventListener(\"error\",this.__error_handler,!1))}_delay(){if(this.element.readyState>0)this._load_complete();else{if(this.delay_count<=0)return trace(\"[ERROR] MEDIA ERROR !!\"),void this.dispatchEvent(new a.default(u.MEDIA_ERROR));this.delay_count--,this.delay_id=setTimeout(this.__delay_handler,this.delay_time)}}_load_handler(t){this.length=null==this.element.duration?0:Math.max(0,this.element.duration),0!=t.type.indexOf(\"canplay\")||this.loaded||this._load_complete()}_load_complete(){this.dispatchEvent(new a.default(u.MEDIA_LOAD_COMPLETE)),this.delay_id&&clearTimeout(this.delay_id),this.delay_id=0,this.loaded=!0,this.loading=!1,this.auto_play&&!this.playing&&(this.once&&(this.auto_play=this.once=!1),this.play())}_error_handler(t){this.loading=!1,this.loadFail=!0,trace(\"[ERROR] Media\",t),this.dispatchEvent(new a.default(u.MEDIA_ERROR)),this.auto_next&&this.list.length>1?(this.current=this.current>=this.list.length?0:this.current+1,this._start_load()):this.close()}_play_over(t){this.dispatchEvent(new a.default(u.MEDIA_PLAY_COMPLETE)),this.auto_next&&this.list.length>1?(this.current=this.current>=this.list.length?0:this.current+1,this._start_load()):this.close()}_time_update(t){this.length=null==this.element.duration?0:Math.max(0,this.element.duration),this.seed_time=this.element.currentTime}setVolume(t){this.volume!=t&&(this.volume=t,this.playing&&(this.element.volume=this.volume,this.volume>0&&(this.element.muted=!1)))}getVolume(){return this.volume}setCurrentTime(t){if(this.element&&null!=t&&t>=0&&t<this.length)try{this.element.currentTime=t}catch(t){}}getCurrentTime(){return this.element?this.element.currentTime:0}load(t){if(this.is_init||this.init(),\"number\"!=typeof t){\"string\"==typeof t&&t.indexOf(\",\")>0&&(t=t.split(\",\")),t instanceof Array?ArrayUtil.each(t,(function(e,i){\"string\"==typeof e&&(t[i]={url:e})})):(\"string\"==typeof t&&(t={url:t}),t=[t]);for(let e,i,s,a,n=0,r=t.length;n<r;n++)i=t[n],l.default.isEmpty(i.url)||(s=this._type+\"/\"+this._fit_name(l.default.getPathExt(i.url))+(\"codecs\"in i?';codecs=\"'+i.codecs+'\"':\"\"),a=this.element.canPlayType(s),(a||0==i.url.indexOf(\"blob:\"))&&(a&&(e=h.default.createDOM(\"source\",{type:s,src:i.url}),this.element.appendChild(e)),this.list.push(i)));!this.loading&&this.list.length>0?this._start_load():t.length>0&&0==this.list.length&&this.dispatchEvent(new a.default(u.MEDIA_ERROR))}else if(!this.loading){let e=this.current;this.current=t,this._start_load()||(this.current=e)}}_fit_name(t){switch(t){case\"mov\":return\"quicktime\";case\"3gp\":return\"3gpp\";case\"mid\":return\"midi\";case\"ogv\":return\"ogg\";case\"m4a\":return\"acc\";default:return t}}_start_load(){return!(!this.element||this.current<0||0==this.list.length||this.current>=this.list.length)&&(this.close(),this.loading=!0,this.element.addEventListener(\"loadedmetadata\",this.__load_handler,!1),this.element.addEventListener(\"canplaythrough\",this.__load_handler,!1),this.element.addEventListener(\"loadeddata\",this.__load_handler,!1),this.element.addEventListener(\"canplay\",this.__load_handler,!1),this.element.src=this.list[this.current].url,this.element.load(),s.default.ios&&(this.delay_count=this.delay_max,this.delay_id=setTimeout(this.__delay_handler,this.delay_time)),!0)}close(){this.element&&(this.element.removeEventListener(\"loadedmetadata\",this.__load_handler),this.element.removeEventListener(\"canplaythrough\",this.__load_handler),this.element.removeEventListener(\"loadeddata\",this.__load_handler),this.element.removeEventListener(\"canplay\",this.__load_handler),this.delay_id&&clearTimeout(this.delay_id),this.delay_id=0,this.playing&&this.stop(),this.loadFail=this.loaded=this.loading=this.playing=!1,this.seed_time=0)}play(t){if(this.element)if(this.loaded){if(this.playing&&this.stop(),t&&(this.seed_time=0),this.seed_time>0)try{this.element.currentTime=this.seed_time}catch(t){}this.element.addEventListener(\"timeupdate\",this.__update_handler,!1),this.element.addEventListener(\"ended\",this.__over_handler,!1),this.volume>0?this.element.volume=this.volume:this.element.muted=!0,this.playing=!0,this.element.play()}else!this.loading&&this.list.length>0&&(this.auto_play||(this.once=this.auto_play=!0),this._start_load())}stop(){this.element&&(this.seed_time=this.element.currentTime,this.element.removeEventListener(\"timeupdate\",this.__update_handler),this.element.removeEventListener(\"ended\",this.__over_handler),this.playing=!1,this.element.pause())}dispose(){this.close(),super.dispose(),this.list=this.canvas=null,u.Container.remove(this),delete this.delay_id,this.delay_max,this.delay_count,this.delay_time,this.loadFail,this.once,this.loaded,this.list,this.loading,this.playing,this.element,this.seed_time,this.length,this.current,this.volume,this.auto_play,this._type,this.auto_next,this.__over_handler,this.__update_handler,this.__load_handler,this.__error_handler}}u.MEDIA_ERROR=\"mediaError\",u.MEDIA_LOAD_COMPLETE=\"mediaLoadComplete\",u.MEDIA_PLAY_COMPLETE=\"mediaPlayComplete\",u.Container=new n.default},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return l}));var s=i(2),a=i(31),h=i(3),n=i(1),r=i(0);class l{constructor(t=null,e=null){this.x=this.y=this.regX=this.regY=this.index=this.width=this.height=this.frame_width=this.frame_height=0,this.image=this.name=this.animation=this.label=this.url=null,this.isClone=!1,this.scale=1,t&&e&&this.setup(t,e)}setup(t,e,i){if(!t)return;let h=!!(i=1==i)&&!(e.sourceSize.w==e.spriteSourceSize.w&&e.sourceSize.h==e.spriteSourceSize.h),l=String(i&&e.name.indexOf(\".\")>=0?s.default.replaceAll(e.name,[\".png\",\".jpg\",\".gif\"],[\"\",\"\",\"\"]):e.name).split(\"|\");if(this.animation=l.length>1?l[0]:\"\",this.name=l.length>1?l[1]:l[0],l=s.default.getNumber(this.name),this.label=l.length>0?l[0]:\"\",this.index=l.length>1?n.default.int(l[1]):0,this.x=n.default.format(i?e.frame.x:e.x),this.y=n.default.format(i?e.frame.y:e.y),this.width=n.default.format(i?e.frame.w:e.width),this.height=n.default.format(i?e.frame.h:e.height),this.frame_width=i?h?e.sourceSize.w:0:e.hasOwnProperty(\"frameWidth\")?n.default.format(e.frameWidth):0,this.frame_height=i?h?e.sourceSize.h:0:e.hasOwnProperty(\"frameHeight\")?n.default.format(e.frameHeight):0,this.regX=n.default.format(i?e.hasOwnProperty(\"pivot\")?Number(e.pivot)*(this.frame_width>0?this.frame_width:this.width):-e.spriteSourceSize.x:e.frameX),this.regY=n.default.format(i?e.hasOwnProperty(\"pivot\")?Number(e.pivot)*(this.frame_height>0?this.frame_height:this.height):-e.spriteSourceSize.y:e.frameY),this.url=t.src,r.default.useCanvas&&r.default.useCache&&(this.width!=t.width||this.height!=t.height)){let e=a.default.splitFrames(t,this.x,this.y,this.width,this.height);e?(this.image=e,this.x=this.y=0):this.image=t}else this.image=t;this.isClone=!1}clone(){let t=h.default.create(l);return t.animation=this.animation,t.name=this.name,t.label=this.label,t.index=this.index,t.regX=this.regX,t.regY=this.regY,t.x=this.x,t.y=this.y,t.scale=this.scale,t.image=this.image,t.width=this.width,t.height=this.height,t.frame_width=this.frame_width,t.frame_height=this.frame_height,t.url=this.url,t.isClone=!0,t}reset(t=null,e=null){this.x=this.y=this.regX=this.regY=this.index=this.width=this.height=this.frame_width=this.frame_height=0,this.image=this.name=this.animation=this.label=this.url=null,this.isClone=!1,this.scale=1,t&&e&&this.setup(t,e)}dispose(){this.reset(),delete this.x,this.y,this.scale,this.name,this.animation,this.label,this.url,this.regX,this.regY,this.frame_width,this.frame_height,this.image,this.index,this.width,this.height,this.isClone}toString(){let t=\"{\";return t+='\"name\":'+this.name+\",\",t+='\"regX\":'+this.regX+\",\",t+='\"regY\":'+this.regY+\",\",t+='\"label\":'+this.label+\",\",t+='\"index\":'+this.index+\",\",t+='\"width\":'+this.width+\",\",t+='\"height\":'+this.height+\",\",t+='\"animation\":'+this.animation+\",\",t+='\"frame_width\":'+this.frame_width+\",\",t+='\"frame_height\":'+this.frame_height+\",\",t+='\"x\":'+this.x+\",\",t+='\"y\":'+this.y+\",\",t+='\"url\":'+this.url+\",\",t+='\"scale\":'+this.scale,t+\"}\"}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(2),a=i(0);class h{static getRed(t){return t>>16&255}static getGreen(t){return t>>8&255}static getBlue(t){return 255&t}static getAlpha(t){return t>>24&255}static darkenColor(t,e){const i=Math.min(255,h.getRed(t)*e),s=Math.min(255,h.getGreen(t)*e),a=Math.min(255,h.getBlue(t)*e);return h.toInt(i,s,a)}static colorToRGBA(t,e){let i=h.toColor(t),s=h.getGreen(i),a=h.getBlue(i),n=h.getRed(i);return null==e?\"rgb(\"+n+\",\"+s+\",\"+a+\")\":\"rgba(\"+n+\",\"+s+\",\"+a+\",\"+MathUtil.clamp(e,0,1)+\")\"}static toInt(t,e,i){return t<<16|e<<8|i}static toInt32(t,e,i,s){return s<<24|t<<16|e<<8|i}static toHex(t){let e=h.getGreen(t),i=h.getBlue(t),s=[h.getRed(t).toString(16),e.toString(16),i.toString(16)];for(let t=0;t<3;t++)1==s[t].length&&(s[t]=\"0\"+s[t]);return\"#\"+s.join(\"\")}static toColor(t){if(t=String(t),!s.default.isEmpty(t))return t=s.default.replaceAll(t,[\"0x\",\"0X\",\"#\"],[\"\",\"\",\"\"]),Number(\"0x\"+t)}static formatColor(t){return isNaN(Number(t))?t:h.toHex(Number(t))}static getLinearGradient(t,e,i){const s=t.createLinearGradient.apply(t,e);let a,n,r=i.length;for(a=0;a<r;a++)n=i[a],null==n||n.length<2||s.addColorStop(n[0],h.formatColor(n[1]));return s}static getRadialGradient(t,e,i){const s=t.createRadialGradient.apply(t,e);let a,n,r=i.length;for(a=0;a<r;a++)n=i[a],null==n||n.length<2||s.addColorStop(n[0],h.formatColor(n[1]));return s}static getGradientColor(t){if(null==t||null==a.default.context)return t;let e,i=0==t.type?\"getLinearGradient\":\"getRadialGradient\",s=0==t.type?[t.xStart,t.yStart,t.xEnd,t.yEnd]:[t.xStart,t.yStart,t.radiusStart,t.xEnd,t.yEnd,t.radiusEnd],n=[],r=t.offsetlist.length;for(e=0;e<r;e++)n.push([t.offsetlist[e],t.colorList[e]]);return h[i](a.default.context,s,n)}static interpolateColor(t,e,i){if(null==t||null==e||null==i)return 0;let s=1-(i=i>1?.01*i:i);return((t=h.toColor(t))>>24&255)*s+((e=h.toColor(e))>>24&255)*i<<24|(t>>16&255)*s+(e>>16&255)*i<<16|(t>>8&255)*s+(e>>8&255)*i<<8|(255&t)*s+(255&e)*i}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(3),a=i(2);class h{static getType(t){if(null==t||null==t)return\"null\";let e;return(\"object\"==(e=typeof t)?null==t?\"null\":Object.prototype.toString.call(t).slice(8,-1):e).toLowerCase()}static removeUndefinedKeys(t){for(let e in t)void 0===t[e]&&delete t[e];return t}static toString(t){return t?JSON.stringify(t):\"boolean\"==h.getType(t)?\"false\":\"null\"}static getAttribute(t,e){if(null==t||a.default.isEmpty(e))return null;let i=e.split(\".\");for(let e,s=0,h=i.length;s<h;s++)if(e=i[s],!a.default.isEmpty(e)){if(!t||!t[e])return null;t=t[e]}return t}static toArray(t){if(!t)return null;const e=[];for(let i in t)e.push({name:i,value:t[i]});return e}static getLabels(t){return null==t?null:Object.getOwnPropertyNames(t)}static clearAttribute(t,e,i){if(null==t||null==e||e.length<1)return;let s,a;for(s in t)a=\"function\"==typeof t[s],a&&(null==i||i.indexOf(s)>=0)||!a&&(null==e||e.indexOf(s)>=0)||delete t[s]}static copyAttribute(t,e,i,s,a){if(null==t||null==e)return;let n,r,l;for(n in e)if(r=e[n],!(i&&!(n in t)||s&&s.indexOf(n)>=0)){try{l=typeof t[n]}catch(t){continue}switch(l=\"null\"==l||\"undefined\"==l?typeof r:l,l){case\"number\":t[n]=isNaN(r)?r:Number(r);break;case\"boolean\":t[n]=null!=r&&(\"string\"==typeof r?\"true\"==r:r);break;case\"string\":t[n]=r;break;default:t[n]=null!=r&&\"string\"!=typeof r&&a?h.cloneObj(r):r}}return t}static cloneObj(t){if(null==t||null==t)return null;let e=Object.getPrototypeOf(t);return Object.assign(Object.create(e),t)}static equal(t,e){if(null==t||null==e)return t==e;if(typeof t!=typeof e)return!1;if(\"object\"!=typeof t)return t==e;let i,s,a,n;if(t instanceof Array&&e instanceof Array){if(t.length!=e.length)return!1;for(a=0,l=t.length;a<l;a++)if(!h.equal(t[a],e[a]))return!1}else{if(t instanceof Array||e instanceof Array)return!1;if(i=Object.getOwnPropertyNames(t),s=Object.getOwnPropertyNames(e),i.length!=s.length)return;for(a=0;a<i.length;a++)if(n=i[a],!h.equal(t[n],e[n]))return!1}return!0}static remove_attribute(t,e){if(null!=t&&null!=t&&e&&\"\"!=e&&\"object\"==typeof t)if(t instanceof Array)for(let i=0,s=t.length;i<s;i++)h.remove_attribute(t[i],e);else{t.hasOwnProperty(e)&&delete t[e];for(let i in t)h.remove_attribute(t[i],e)}}static copy(t,e,i,a){if(!t||\"object\"!=typeof t)return t;let n,r;if(t instanceof t.constructor&&t.constructor!==Object)if(e)for(r in n=s.default.create(e),t)(a||\"function\"!=typeof t[r])&&n.hasOwnProperty(r)&&(n[r]=t[r]);else n=h.cloneObj(t);else for(r in n={},t)n[r]=t[r];if(i)for(r in i)n[r]=i[r];return n}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(3),a=i(19),h=i(23),n=i(2),r=i(30),l=i(9);class o{constructor(t=null,e=null){this.id=h.default.getName(\"shape_vo\"),this.type=this.rect=this.properties=null,t&&e&&this.setup(t,e)}setup(t,e){return this.type=t.toLowerCase(),this.properties=e,this.rect=s.default.create(l.default),this.rect.data=r.default.getShapeBounds(this),this}reset(t=null,e=null){this.id=h.default.getName(\"shape_vo\"),this.rect&&this.rect instanceof l.default&&s.default.remove(this.rect),this.rect=this.type=this.properties=null,t&&e&&this.setup(t,e)}clone(){let t=s.default.create(o);return t.type=this.type,this.rect&&(t.rect=this.rect.clone()),t.properties=a.default.copyAttribute({},this.properties,!1),t}dispose(){this.rect&&s.default.remove(this.rect),delete this.id,this.rect,this.type,this.properties}toString(){return'{\"id\":\"'+this.id+'\",\"type\":\"'+this.type+'\",\"rect\":'+(this.rect?this.rect.toString():\"\")+'\",\"properties\":'+JSON.stringify(this.properties)+\"}\"}static create(t,e){if(n.default.isEmpty(t))return null;e=e?1==e?{x:0,y:0}:e:null;let i=s.default.create(o),a=n.default.html2object(t);return a?(a.children&&delete a.children,a.transform&&delete a.transform,i.type=a.tagName,delete a.tagName,i.properties=a,i.rect=s.default.create(l.default),i.rect.data=r.default.getShapeBounds(i),e?r.default.replace(i,e):i):null}static string(t){if(!t)return\"\";let e=\"<\"+t.type+\" \";for(let i in t.properties)e+=i+'=\"'+(\"style\"==i?n.default.buildParams(t.properties[i],!0):t.properties[i])+'\" ';return e+=\"/>\",e}}o.CILP=\"_clip\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return m}));var s=i(20),a=i(15),h=i(23),n=i(32),r=i(3),l=i(45),o=i(2),u=i(39),d=i(22),_=i(55),c=(i(58),i(5)),f=i(17);i(7);const p=Symbol(\"graphics\");class m extends a.default{constructor(){super(),this.use_canvas=!0,this._repeat=!1,this._mask=null,this.name=h.default.getName(\"display_object\"),this.colorTransform=null,this[p]=null,this._blendMode=null,this._context=null,this.polyArea=null,this._cache=null,this.canvas=null,this.filters=[]}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode!=t&&(this._blendMode=t,this.__checkDisplayUpdate())}set cache(t){if(t||this._cache){if(this.canvas=null,!t)return r.default.remove(this._cache),void(this._cache=null);if(t&&t instanceof _.default)return this._cache&&r.default.remove(this._cache),this._cache=t,void(this.canvas=this._cache.canvas);if(this._cache)this._cache.clear();else if(this._cache=_.default.instance,!this._cache)return;this._cache.setSize(this.width,this.height),this._render(this._cache,!0),this.canvas=this._cache.canvas}}get mask(){return this._mask}set mask(t){t&&t instanceof s.default&&this.instance?(this._mask=t,this.__checkDisplayUpdate()):this._mask=null}get graphics(){return this[p]=this[p]?this[p]:r.default.create(l.default),this[p]}set graphics(t){this[p]=!t||t instanceof l.default?t:null}get context(){return this._context=this._context?this._context:r.default.create(u.default),this._context}set context(t){this._context=t}repeat(t,e,i){null==this.instance||\"no-repeat\"==i||t<=this.instance.width&&e<=this.instance.height?this._repeat=!1:(i=i||\"repeat\",this.width=t,this.height=e,this._repeat=!0,this.graphics.reset(),this.graphics.beginBitmapFill(this.instance.image,i),this.graphics.drawRect(0,0,this.width,this.height),this.graphics.endFill())}_transform(t,e){let i=null==e?this.stage.context:e.context,s=this.getMatrix(t,!0);i.transform(s.a,s.b,s.c,s.d,s.tx,s.ty),i.globalAlpha*=this.alpha*this._parent_alpha}setInstance(t){if(t&&t instanceof f.default&&!t.image&&(t=null),this.instance!=t&&(this.instance&&this.instance instanceof f.default&&this.instance.isClone&&r.default.remove(this.instance),this.instance=null,this.width=this.height=0),null==t||null==t||this.instance==t)return t;if(t instanceof Image||\"HTMLImageElement\"==d.default.getQualifiedClassName(t)){const e=t;(t=r.default.create(f.default)).image=e,t.isClone=!0,t.width=e.width,t.height=e.height}return this.instance&&this.instance instanceof f.default&&this.instance.isClone&&r.default.remove(this.instance),this.instance=t,o.default.isEmpty(t.name)||(this.name=t.name),this.width=this.instance.width,this.height=this.instance.height,this.origin={x:t.regX,y:t.regY},this.updateMatrix=!0,this.__checkDisplayUpdate(),this.dispatchEvent(new c.default(a.default.RESET_INSTANCE)),this.instance}do_actions(t,e,i=!1){if(!t||!t.context||!e)return;const s=i?t:t.context,a=e.getValue();let h;if(a)for(let t in a)s[t]!=a[t]&&(s[t]=a[t]);for(h of e.actions)s[h.method].apply(s,h.data)}_render(t=null,e=!1,i=null){if(this.visible&&!(this.alpha<=0)&&(t||this.stage)){if(null==t&&this.stage.context.save(),e||this._transform(i,t),this._mask&&((t||this.stage.graphics).drawShape(this._mask),(t?t.context:this.stage.context).clip()),null!=this._blendMode&&((t?t.context:this.stage.context).globalCompositeOperation=this._blendMode),this.filters&&this.filters.length>0){let e;for(e of this.filters)null!=e&&e.show(null!=t?t.context:this.stage.context)}this.canvas?(null!=t?t.context:this.stage.context).drawImage(this.canvas,0,0):this[p]?this.do_actions(t||this.stage.graphics,this.graphics,!0):this.instance?(null!=t?t.context:this.stage.context).drawImage(this.instance.image,this.instance.x,this.instance.y,this.instance.width,this.instance.height,0,0,this.instance.width/this.instance.scale,this.instance.height/this.instance.scale):this.context&&this.do_actions(t||this.stage,this.context),null==t&&this.stage.context.restore()}}render(){this._render.apply(this,arguments)}hitTestPoint(t,e){return n.default.hitTestPoint(this,t,e,this.usePolyCollision)>0}hitTestObject(t){return null!=t&&t instanceof a.default&&(t==this||n.default.hitTestObject(this,t,this.usePolyCollision))}reset(){super.reset(),this._parent&&this.removeFromParent(!1),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.instance&&this.instance instanceof f.default&&this.instance.isClone&&r.default.remove(this.instance),this._mask&&this._mask instanceof s.default&&r.default.remove(this._mask),this[p]&&r.default.remove(this[p]),this.context&&r.default.remove(this.context),this._cache&&r.default.remove(this._cache),this.mask=this.instance=this._cache=this[p]=this.colorTransform=this._context=this.canvas=this._blendMode=null,this.use_canvas=!0,this._repeat=!1,this.filters=[]}dispose(){super.dispose(),delete this._repeat,this._cache,this.filters,this._mask,this.instance,this.colorTransform,this._blendMode,this._context,this.canvas}toString(){return m.name}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(0),a=i(2);class h{static getQualifiedClassName(t){if(!t)return null;if(t.constructor&&t.constructor.name)return\"Function\"==t.constructor.name?t.name:t.constructor.name;let e;try{e=t.prototype?t.prototype:Object.getPrototypeOf(t)}catch(t){return void trace(\"[ERROR] ClassUtil.getQualifiedClassName\",t)}if(e.hasOwnProperty(\"__class__\"))return e.__class__;let i=e.constructor.toString(),s=i.indexOf(\"(\"),a=i.substring(9,s);return Object.defineProperty(e,\"__class__\",{value:a,enumerable:!1,writable:!0}),a}static getQualifiedSuperclassName(t){let e=t.prototype?t.prototype:Object.getPrototypeOf(t);if(e.hasOwnProperty(\"__superclass__\"))return e.__superclass__;let i,s=h.getQualifiedClassName(t),a=Object.getPrototypeOf(e);for(;a&&a.constructor;)i=h.getQualifiedClassName(a.constructor),i&&\"\"!=i.trim()&&\"Object\"!=i.trim()&&(s=i.trim()+\".\"+s),a=a.constructor.prototype?Object.getPrototypeOf(a.constructor.prototype):null;return Object.defineProperty(e,\"__superclass__\",{value:s,enumerable:!1,writable:!0}),s}static getDefinitionByName(t){if(a.default.isEmpty(t))return null;let e=h.__getDefinitionByName__cache[t];if(e)return e;let i=t.split(\".\"),n=i.length;e=s.default.root;for(let t=0;t<n;t++){if(e=e[i[t]],!e)return null}return h.__getDefinitionByName__cache[t]=e,e}}h.__getDefinitionByName__cache={}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static getName(t){return s.dic.hasOwnProperty(t)&&Number.isFinite(s.dic[t])?s.dic[t]++:s.dic[t]=0,t+s.dic[t]}}s.dic={}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return d}));var s=i(11),a=i(49),h=i(8),n=i(3),r=i(18),l=i(22),o=i(1),u=i(7);class d{constructor(t,e,i,s,a){this.type=this.value=this.time=this.align=this.tween=null,this.setup(t,e,i,s,a)}setup(t,e,i,s,a){this.type=t,this.time=i||0,this.value=e,this.align=s||0,this.tween=a}clone(){let t=n.default.create(d);return t.value=this.value,t.align=this.align,t.tween=this.tween,t.type=this.type,t.time=this.time,t}reset(t=null,e=null,i=0,s=0,a=null){this.setup(t,e,i,s,a)}dispose(){delete this.type,this.value,this.time,this.align,this.tween}static run(t,e){if(null!=t&&null!=e)if(h.default.remove(t),e instanceof d)d._execute(t,e);else if(e instanceof Array){let i,s;for(i=0,s=e.length;i<s;i++)d._execute(t,e[i])}}static _execute(t,e){if(null==t||null==e)return;e.align==d.CENTER&&(t.origin={x:.5*t.width,y:.5*t.height});let i,n,_,c=e.type==d.SHADOW;if(e.type!=d.MOVE&&e.type!=d.OFFSET||(_=u.default.toPoint(e.value),e.type==d.OFFSET&&_.offset(t.x,t.y),c=!0),(null!=t[e.type]||c)&&(e.time<=0&&(c?t.moveTo(_.x,_.y):t[e.type]=e.value),t.parent&&t.parent.autoSize&&t._parent._updateSize(),!(e.time<=0))){if(e.type==d.COLOR)return n=t.color,t.__temp_num=0,void h.default.to(t,e.time,{ease:e.tween,__temp_num:1,onUpdate:function(){t.__checkDisplayUpdate(),t.color=r.default.formatColor(r.default.interpolateColor(n,e.value,t.__temp_num))},onComplete:function(){t.__checkDisplayUpdate(),t.color=e.value}});if(e.type==d.SHADOW){if(null==t.filters){if(!(t instanceof s.default&&1==t.numChildren&&t.getChildAt(0).filters))return;t=t.getChildAt(0)}if(_=\"string\"==typeof e.value?JSON.parse(e.value):e.value,0==t.filters.length)i=new a.default(0,0,0),t.filters.push(i);else for(let e,s=0,a=t.filters.length;s<a;s++)e=t.filters[s],e&&\"DropShadowFilter\"==l.default.getQualifiedClassName(e)&&(i=e);if(null==i||null==_||null==_.length||_.length<1)return;if(1==_.length&&_[0]==i.distance||2==_.length&&_[0]==i.distance&&_[1]==i.angle||3==_.length&&_[0]==i.distance&&_[1]==i.angle&&_[2]==i.shadowBlur||4==_.length&&_[0]==i.distance&&_[1]==i.angle&&_[2]==i.shadowBlur&&_[3]==i.shadowColor||5==_.length&&_[0]==i.distance&&_[1]==i.angle&&_[2]==i.shadowBlur&&_[3]==i.shadowColor&&_[4]==i.alpha||6==_.length&&_[0]==i.distance&&_[1]==i.angle&&_[2]==i.shadowBlur&&_[3]==i.shadowColor&&_[4]==i.alpha&&_[5]==i.radius)return;return t.__temp_num=0,void h.default.to(t,e.time,{ease:e.tween,__temp_num:1,onUpdateParams:[i,_,i.distance,i.angle,i.shadowColor,i.shadowBlur,i.alpha,i.radius],onUpdate:function(e,i,s,a,h,n,l,u){e.distance=o.default.format(s+(i[0]-s)*t.__temp_num),i.length>1&&(e.angle=o.default.format(a+(i[1]-a)*t.__temp_num)),i.length>2&&(e.shadowBlur=o.default.format(n+(i[2]-n)*t.__temp_num)),i.length>3&&(e.shadowColor=r.default.formatColor(r.default.interpolateColor(h,i[3],t.__temp_num))),i.length>4&&(e.alpha=o.default.format(l+(i[4]-l)*t.__temp_num)),i.length>5&&(e.radius=o.default.format(u+(i[5]-u)*t.__temp_num)),i.length>1&&e.setShadowOffset(),t.__checkDisplayUpdate()},onCompleteParams:[i,_],onComplete:function(e,i){e.distance=i[0],i.length>1&&(e.angle=i[1]),i.length>2&&(e.shadowBlur=i[2]),i.length>3&&(e.shadowColor=i[3]),i.length>4&&(e.alpha=i[4]),i.length>5&&(e.radius=i[5]),i.length>1&&e.setShadowOffset(),t.__checkDisplayUpdate()}})}i={ease:e.tween},(c||e.type==d.SCALE)&&(i.onUpdate=function(){t.parent&&t.parent.autoSize&&t._parent._updateSize()}),c?(i.x=_.x,i.y=_.y):i[e.type]=e.value,h.default.to(t,e.time,i)}}}d.MOVE=\"move\",d.COLOR=\"color\",d.SCALE=\"scale\",d.ALPHA=\"alpha\",d.OFFSET=\"offset\",d.SHADOW=\"shadow\",d.CENTER=1},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(2),a=i(1);class h{static indexByProperty(t,e,i){return null==t||t.length<1||s.default.isEmpty(e)?-1:t.findIndex((function(t,s,a){return t[e]==i}))}static sort(t,e,i,h){if(!(null==t||t.length<2))return a.default.sort(t,(function(t,a){let n=s.default.isEmpty(e)?t:t[e],r=s.default.isEmpty(e)?a:a[e],l=!isNaN(parseFloat(n));return n=l?parseFloat(n):s.default.trim(n),r=l?parseFloat(r):s.default.trim(r),l||(n=n.length>0?n.toLowerCase():\"\",r=r.length>0?r.toLowerCase():\"\",n=h&&n.length>h?n.substr(0,h):n,r=h&&r.length>h?r.substr(0,h):r),i?r>n:n>r}))}static createUniqueCopy(t){return[...new Set(t)]}static buildNumberArray(t,e){if(null==t||isNaN(Number(t)))return null;t=a.default.int(t);let i=[],s=e?t-1:0;for(;e?s>0:s<t;)i.push(s),s=e?s-1:s+1;return i}static mixArray(t){if(null==t)return;let e,i,s=t.length,h=a.default.randomInt(s);for(e=0;e<s;e++)h!=e&&(i=t[h],t[h]=t[e],t[e]=i),h=a.default.randomInt(s);return t}static sameItems(t,e,i){if(null==t||null==e)return null;if(1==i)return t.join(\",\")==e.join(\",\");if(t.length!=e.length)return!1;for(let i in t)if(e.indexOf(t[i])<0)return!1;return!0}static copyArray(t=[],e){return t.push(...e),t}static each(t,e,i){if(!t||!t.length)return t;for(let[s,a]of t.entries())e.apply(i,[a,s,t]);return t}static format(t){if(!t||!t.length)return[];let e,i=0,a=t.length;for(i=0;i<a;i++)e=t[i],s.default.isEmpty(e)&&(t.splice(i,1),a--,i--);return t}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return x}));var s=i(32),a=i(23),h=i(2),n=i(22),r=i(31),l=i(19),o=i(3),u=i(21),d=(i(58),i(1)),_=i(27),c=i(15),f=i(5),p=i(0),m=i(17),g=i(40),y=i(7);const v=Symbol(\"element\");class x extends c.default{constructor(){super(),this._blendMode=this.instance=this._rect=this._mask=this._parent_node=this[v]=null,this.name=a.default.getName(\"dom_display\"),this.hide_over=this._global_visible=!0,this._layer=this._depth=0,this.use_canvas=!1,this.filters=[]}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode!=t&&(this._blendMode=t||\"normal\",this.__checkDisplayUpdate())}get layer(){return this._layer||this._depth}set layer(t){this._layer!=t&&(this._layer=t)}get visible(){return this._visible}set visible(t){this._visible!=t&&(this._visible=t,this[v]&&(this[v].style.display=this._visible&&this._global_visible?\"\":\"none\"))}get stage(){return this._stage}set stage(t){null==t&&(this._global_visible=!0),this._stage!=t&&(this._stage=t,t&&(this._update_visible(),this.updateMatrix=!0),this._display(null!=t))}get element(){return this[v]}set element(t){if(this[v]==t)return;let e;this[v]&&this[v].parentNode?(e=this[v].parentNode,e.removeChild(this[v])):this._stage&&(e=this._parent_node?this._parent_node:this._stage.div),t&&t.parentNode&&t.parentNode.removeChild(t),this[v]=t,null!=t?(h.default.isEmpty(this[v].id)&&(this[v].id=this.name),this.width=null==this[v].width||\"number\"!=typeof this[v].width?h.default.isEmpty(this[v].style.width)?this.width:d.default.int(this[v].style.width):this[v].width,this.height=null==this[v].height||\"number\"!=typeof this[v].height?h.default.isEmpty(this[v].style.height)?this.height:d.default.int(this[v].style.height):this[v].height,this.origin&&this.width&&this.height&&this.origin.x>0&&this.origin.x<=1&&this.origin.y>0&&this.origin.y<=1&&(this.origin=this.origin),e&&e.appendChild(this[v])):this.width=this.height=0}get mask(){return this._mask}set mask(t){this._mask&&this._mask instanceof ShapeVO&&this._mask!=t&&o.default.remove(this._mask),this._mask=t,this.__checkDisplayUpdate()}get parentNode(){return this._parent_node}set parentNode(t){this._parent_node!=t&&(this._parent_node=t,null!=this[v]&&this[v].parentNode!=this._parent_node&&this[v]&&this._stage&&(this[v].parentNode&&this[v].parentNode.removeChild(this[v]),this._display(!0)))}render(t){null!=this[v]&&(this._depth=this._layer?this._layer:++x._depth_count,this._transform(t))}_render(){}setInstance(t){if(null==t||null==t||this.instance==t)return this.instance!=t&&(this.element=this.instance=null),t;if(this._rect=null,t instanceof HTMLImageElement)t.style.display=\"none\",this.element=t;else if(t instanceof HTMLCanvasElement)this.element=r.default.toImage(t);else if(t instanceof u.default)this.setInstance(t.canvas?t.canvas:t.instance),this.param=t.param;else if(t instanceof m.default)this.register_point=o.default.create(y.default).set(t.regX,t.regY),this._rect=t,null==this[v]?this.element=_.default.createDOM(\"div\",{id:this.name,style:{width:t.width+\"px\",height:t.height+\"px\",backgroundImage:\"url(\"+t.image.src+\")\",backgroundRepeat:\"no-repeat\"}}):this.instance.image!=t.image&&(this[v].style.backgroundImage=\"url(\"+t.image.src+\")\");else if(t instanceof g.default)this.setInstance(t.canvas);else if(t instanceof HTMLDivElement)this.element=t;else{if(!(t instanceof SVGSVGElement))return trace(\"DOMDisplay:: set instance with a invalid value.\",n.default.getQualifiedClassName(t),\"-\",l.default.getType(t)),null;this.element=t}return this.instance=t,this[v]&&this._stage&&this._display(!0),t instanceof m.default&&this._transform(),this.updateMatrix=!0,this.__checkDisplayUpdate(),this.dispatchEvent(new f.default(c.default.RESET_INSTANCE)),this.instance}_transform(t){let e=this._visible&&this._global_visible;if(this[v].style.display=e?\"\":\"none\",!e)return;const i=this.updateMatrix||this._refresh,s=this.getMatrix(t,!0);let a=p.default.cssPrefix,n=h.default.isEmpty(a),r=n?\"transformOrigin\":a+\"TransformOrigin\",l=n?\"transform\":a+\"Transform\";if(this[v].style.position=p.default.position,this[v].style.opacity=this._alpha*this._parent_alpha,this[v].style.overflow=this.hide_over?\"hidden\":\"visible\",this[v].style.zIndex=p.default.layer+this._depth,this._rect&&(this.width=this._rect.width,this.height=this._rect.height,this[v].style.backgroundPosition=-this._rect.x+\"px \"+-this._rect.y+\"px\"),null!=this._blendMode&&(this[v].style.mixBlendMode=this._blendMode),i){const t=this.width>0?\"width\":\"height\",e=\"width\"==t?\"height\":\"width\";this[v].style[t]=this[t]>0?this[t]+\"px\":\"100%\",this[e]<=0&&(this[e]=this[v][\"offset\"+e.substring(0,1).toUpperCase()+e.substring(1)]),this[v].style[e]=this[e]>0?this[e]+\"px\":\"100%\",p.default.supportTransform?(this[v].style[r]=\"0% 0%\",this[v].style.top=this[v].style.left=\"0px\",this[v].style[l]=this._get_transform_css(s)):(this[v].style.top=s.ty+\"px\",this[v].style.left=s.tx+\"px\"),this._refresh=!1}if(this._mask){let t=\"string\"==typeof this._mask||this._mask instanceof ShapeVO,e=this._mask instanceof m.default;t?this[v].style[a+\"ClipPath\"]=this[v].style.clipPath=\"url(#\"+(\"string\"==typeof this._mask?this._mask:this._mask.id+ShapeVO.CILP)+\")\":(this[v].style[a+\"MaskImage\"]=\"url(\"+(e?this._mask.image:this._mask).src+\")\",this[v].style[a+\"MaskRepeat\"]=\"no-repeat\",this[v].style[a+\"MaskPosition\"]=s.tx+\"px \"+s.ty+\"px\")}else this[v].style[a+\"ClipPath\"]=this[v].style.clipPath=this[v].style[a+\"MaskImage\"]=this[v].style[a+\"MaskPosition\"]=\"\";if(this.filters&&this.filters.length>0){let t;for(let e=0,i=this.filters.length;e<i;e++)t=this.filters[e],null!=t&&t.show(this[v])}else this[v].style[p.default.cssPrefix+\"BoxShadow\"]=this[v].style.textShadow=\"\";this[v].style.cursor=null==this._cursor?\"\":this._cursor,this[v].style.pointerEvents=this.mouseEnabled?\"auto\":\"none\"}_get_transform_css(t){return t.toCSS()}_update_visible(){if(null==this.parent)return;let t=!0,e=this;for(e=e.parent;null!=e&&(t=t&&e.visible,t);e=e.parent);this._global_visible=t}hitTestPoint(t,e,i){return s.default.hitTestPoint(this,t,e,this.usePolyCollision)>0}hitTestObject(t,e){return s.default.hitTestObject(this,t,this.usePolyCollision)>0}_display(t){if(t)try{this[v]&&null==this[v].parentNode&&(this._parent_node?this._parent_node:this.stage.div?this.stage.div:this.stage.canvas.parentNode).appendChild(this[v])}catch(t){trace(\"[ERROR]DOMDisplay _display()\",this.name,t.message)}else this[v]&&(this[v].parentNode&&this[v].parentNode.removeChild(this[v]),this[v].style.display=\"none\")}reset(){super.reset(),this._parent&&this.removeFromParent(!1),this[v]&&this[v].parentNode&&this[v].parentNode.removeChild(this[v]),this.instance&&this.instance instanceof m.default&&this.instance.isClone&&o.default.remove(this.instance),this._mask&&this._mask instanceof ShapeVO&&o.default.remove(this._mask),this._blendMode=this.instance=this._rect=this._mask=this._parent_node=this[v]=null,this.hide_over=this._global_visible=!0,this._layer=this._depth=0,this.use_canvas=!1,this.filters=[]}dispose(){super.dispose(),delete this._blendMode,this.hide_over,this._global_visible,this.filters,this._layer,this.instance,this._rect,this._depth,this[v],this._parent_node,this._mask}toString(){return x.name}}x._depth_count=0},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(2);class a{static getDOM(t){return document.getElementById(t)}static createDOM(t,e){const i=document.createElement(t);return null==e?i:a.setAttributes(i,e)}static setAttributes(t,e){if(null!=t&&null!=e){for(let i in e){let s=e[i];if(\"style\"==i){t.style||(t.style={});for(let e in s)t.style[e]=s[e]}else s&&(t[i]=s)}return t}}static createDOMDrawable(t,e){let i=t.tagName||\"div\",s=e.image,h=t.width||s&&s.width,n=t.height||s&&s.height,r=a.createDOM(i);if(t.id&&(r.id=t.id),r.style.position=\"absolute\",r.style.left=(t.left||0)+\"px\",r.style.top=(t.top||0)+\"px\",r.style.width=h+\"px\",r.style.height=n+\"px\",\"canvas\"==i){if(r.width=h,r.height=n,s){let i=r.getContext(\"2d\"),a=e.rect||[0,0,h,n];i.drawImage(s,a[0],a[1],a[2],a[3],t.x||0,t.y||0,t.width||a[2],t.height||a[3])}}else if(r.style.opacity=null!=t.alpha?t.alpha:1,r.style.overflow=\"hidden\",s&&s.src){r.style.backgroundImage=\"url(\"+s.src+\")\";let e=t.rectX||0,i=t.rectY||0;r.style.backgroundPosition=-e+\"px \"+-i+\"px\"}return r}static getElementOffset(t){let e=t.offsetLeft,i=t.offsetTop;for(;(t=t.offsetParent)&&t!=document;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}}static contains(t,e){if(!t||!e)return!1;if(t===e)return!0;if(!(\"compareDocumentPosition\"in document)&&!(\"contains\"in document))return a._contains_manual(t,e);let i=9===t.nodeType?t.documentElement:t,s=e&&e.parentNode;return t===s||!(!s||1!==s.nodeType||!(i.contains?i.contains(s):t.compareDocumentPosition&&16&t.compareDocumentPosition(s)))}static _contains_manual(t,e){if(!e)return!1;for(;e=e.parentNode;)if(e===t)return!0;return!1}static each(t,e){if(s.default.isEmpty(t)||!e||\"function\"!=typeof e)return;let i=document.createElement(\"div\");return i.innerHTML=t,a._each_do(i,e),i.innerHTML}static _each_do(t,e){let i,s=t.childElementCount;for(let h=0;h<s;h++)null!=t&&null!=t.children[h]&&(i=t.children[h],i.childElementCount>0&&a._each_do(i,e),e&&e(i))}static dispatchEvent(t,e,i){let s=document.createEvent(t);s.initEvent(e,!0,!1),(i||document).dispatchEvent(s)}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{}s.OS_PC=\"pc\",s.OS_IPHONE=\"iphone\",s.OS_IPOD=\"ipod\",s.OS_IPAD=\"ipad\",s.OS_ANDROID=\"android\",s.OS_BLACK_BERRY=\"blackberry\",s.OS_WINDOWS_PHONE=\"windows phone\",s.LANDSCAPE=\"landscape\",s.PORTRAIT=\"portrait\",s.NONE=\"none\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(2),a=i(0);class h{constructor(){this.caches=null,this.listeners={}}reset(){this.caches=null,this.listeners={}}hasEventListener(t,e){return!s.default.isEmpty(e)&&this.caches?null!=this.caches[t+\"#\"+e]:this.listeners&&null!=this.listeners[t]}addEventListener(t,e,i){\"string\"==typeof t&&\"function\"==typeof e&&(!s.default.isEmpty(i)&&this.hasEventListener(t,i)||(null==this.listeners[t]&&(this.listeners[t]=[]),-1==this.listeners[t].indexOf(e)&&this.listeners[t].push(e),i&&(this.caches=this.caches||{},this.caches[t+\"#\"+i]=e)))}removeEventListener(t,e,i=null){if(null==this.listeners||null==this.listeners[t])return;if(null==e){if(s.default.isEmpty(i)||null==this.caches)return void this._remove_listeners(t);e=this.caches[t+\"#\"+i],delete this.caches[t+\"#\"+i]}if(\"function\"!=typeof e)return;let a=this.listeners[t].length;for(let i=0;i<a;i++){if(this.listeners[t][i]==e){this.listeners[t].splice(i,1),a--,i--;break}}0==this.listeners[t].length&&this._remove_listeners(t)}_remove_listeners(t){if(delete this.listeners[t],null!=this.caches)for(let e in this.caches)0==e.indexOf(t)&&delete this.caches[e]}dispatchEvent(t){const e=this.listeners;if(null==t||!t.hasOwnProperty(\"type\")||!t.type||null==e||null==e[t.type]){if(t&&!a.default.gc(t))try{t.dispose()}catch(t){}return!1}let i;const s=e[t.type].slice();for(i of(null==t.target&&(t.target=this),s))i.call(this,t);return t&&!a.default.gc(t)&&t.dispose(),!0}dispose(){if(this.caches=null,null!=this.listeners){for(let t in this.listeners)delete this.listeners[t];delete this.listeners,this.caches}}toString(){return'{\"listeners\":'+ObjectUtil.toString(this.listeners)+\"}\"}static instance(){return h._current_instance=h._current_instance||new h,h._current_instance}}h._current_instance=null},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return d}));var s=i(1),a=i(7),h=i(25),n=i(3),r=i(2),l=i(14),o=i(20),u=i(9);class d{static pointsToPath(t,e,i){if(!t||t.length<2)return\"\";let s,a=\"\";for(let e=0,i=t.length;e<i;e++)s=t[e],a+=(0==e?\"M \":1==e?\" L \":\", \")+(s instanceof Array?s[0]:s.x)+\" \"+(s instanceof Array?s[1]:s.y);return s=t[0],a+=e?\" Z\":\"\",i?'<path d=\"'+a+'\" />':a}static rectToPath(t,e){let i=Number(t.x||0),s=Number(t.y||0),a=Number(t.width),h=Number(t.height),n=Number(t.rx||0),r=Number(t.ry||n||0);n=n>.5*a?.5*a:n,r=r>.5*h?.5*h:r;let l,o=a-2*n,u=h-2*r,d=.5522847498307933,_=d*n,c=d*r;return l=0==n||0==r?\"M\"+i+\" \"+s+\" L\"+(i+a)+\" \"+s+\" L\"+(i+a)+\" \"+(s+h)+\" L\"+i+\" \"+(s+h)+\" Z\":\"M\"+(i+a)+\" \"+(s+r)+\" C\"+(i+a)+\" \"+(s+r-c)+\" \"+(i+o+n+_)+\" \"+s+\" \"+(i+o+n)+\" \"+s+\" L\"+(i+n)+\" \"+s+\" C\"+(i+n-_)+\" \"+s+\" \"+i+\" \"+(s+r-c)+\" \"+i+\" \"+(s+r)+\" L\"+i+\" \"+(s+u+r)+\" C\"+i+\" \"+(s+u+r+c)+\" \"+(i+n-_)+\" \"+(s+h)+\" \"+(i+n)+\" \"+(s+h)+\" L\"+(i+n+o)+\" \"+(s+h)+\" C\"+(i+o+n+_)+\" \"+(s+h)+\" \"+(i+a)+\" \"+(s+u+r+c)+\" \"+(i+a)+\" \"+(s+u+r)+\" Z\",e?'<path d=\"'+l+'\" />':l}static ellipseToPath(t,e){let i=Number(t.cx||0),a=Number(t.cy||0),h=Number(t.r||0),n=Number(t.rx||0),r=Number(t.ry||0),l=.5522848,o=0==h?n:h,u=0==h?r:h,d=o*l,_=u*l,c=\"M\"+s.default.format(i-o)+\" \"+a+\" C\"+s.default.format(i-o)+\" \"+s.default.format(a-_)+\" \"+s.default.format(i-d)+\" \"+s.default.format(a-u)+\" \"+i+\" \"+s.default.format(a-u)+\" C\"+s.default.format(i+d)+\" \"+s.default.format(a-u)+\" \"+s.default.format(i+o)+\" \"+s.default.format(a-_)+\" \"+s.default.format(i+o)+\" \"+a+\" C\"+s.default.format(i+o)+\" \"+s.default.format(a+_)+\" \"+s.default.format(i+d)+\" \"+s.default.format(a+u)+\" \"+i+\" \"+s.default.format(a+u)+\" C\"+s.default.format(i-d)+\" \"+s.default.format(a+u)+\" \"+s.default.format(i-o)+\" \"+s.default.format(a+_)+\" \"+s.default.format(i-o)+\" \"+a+\" Z\";return e?'<path d=\"'+c+'\" />':c}static getShapeBounds(t,e){if(!t)return null;let i=[];switch(t.type){case l.default.LINE:i.push([t.properties.x1,t.properties.y1]),i.push([t.properties.x2,t.properties.y2]);break;case l.default.POLYLINE:case l.default.POLYGON:i=h.default.each(t.properties.points.split(/ /),(function(t,e,i){i[e]=t.split(/,/)}));break;case l.default.RECT:i.push([t.properties.x||0,t.properties.y||0]),i.push([(t.properties.x||0)+t.properties.width,(t.properties.y||0)+t.properties.height]);break;case l.default.CIRCLE:i.push([(t.properties.cx||0)-t.properties.r,(t.properties.cy||0)-t.properties.r]),i.push([(t.properties.cx||0)+t.properties.r,(t.properties.cy||0)+t.properties.r]);break;case l.default.ELLIPSE:i.push([(t.properties.cx||0)-t.properties.rx,(t.properties.cy||0)-t.properties.ry]),i.push([(t.properties.cx||0)+t.properties.rx,(t.properties.cy||0)+t.properties.ry]);break;case l.default.PATH:let s=t.properties.d.split(/[a-zA-Z]/);for(let t,l,o,u,d,_=0,c=s.length;_<c;_++)if(u=s[_],!r.default.isEmpty(u))for(u=h.default.format(r.default.trim(u).split(/,| |-/)),t=0,d=u.length;t<d;t+=2)l=u[t],o=u[t+1],r.default.isEmpty(l)||r.default.isEmpty(o)||i.push(e?n.default.create(a.default).set(l,o):[l,o])}return e?i:u.default.getPointsBounds(i)}static replace(t,e){if(!(t&&e&&t.rect&&(e.x!=t.rect.x||e.y!=t.rect.y||e.s&&1!=e.s)))return t;if(t.type==l.default.PATH&&/A|V|S|T|H/.test(t.properties.d.toUpperCase()))return trace(\"[ERROR] ShapeUtil.replace path won't support some attributes.\"),t;let i=e.s?e.s:1;t.rect.multiply(i);let a,n=e.x-t.rect.x,r=e.y-t.rect.y;switch(t.rect.x=e.x,t.rect.y=e.y,t.type){case l.default.LINE:t.properties.x1=s.default.format(parseFloat(t.properties.x1)*i+n),t.properties.y1=s.default.format(parseFloat(t.properties.y1)*i+r),t.properties.x2=s.default.format(parseFloat(t.properties.x2)*i+n),t.properties.y2=s.default.format(parseFloat(t.properties.y2)*i+r);break;case l.default.POLYLINE:case l.default.POLYGON:a=h.default.each(h.default.format(t.properties.points.split(/ /)),(function(t,e,a){let h=t.split(/,/);a[e]=s.default.format(parseFloat(h[0])*i+n)+\",\"+s.default.format(parseFloat(h[1])*i+r)})),t.properties.points=a.join(\" \");break;case l.default.RECT:t.properties.x=s.default.format(parseFloat(t.properties.x||0)*i+n),t.properties.y=s.default.format(parseFloat(t.properties.y||0)*i+r),t.properties.height=t.properties.height*i,t.properties.width=t.properties.width*i,t.properties.hasOwnProperty(\"rx\")&&t.properties.rx&&(t.properties.rx=t.properties.rx*i),t.properties.hasOwnProperty(\"ry\")&&t.properties.ry&&(t.properties.ry=t.properties.ry*i);break;case l.default.CIRCLE:case l.default.ELLIPSE:t.properties.cx=s.default.format(parseFloat(t.properties.cx||0)*i+n),t.properties.cy=s.default.format(parseFloat(t.properties.cy||0)*i+r),t.properties.hasOwnProperty(\"r\")&&t.properties.r&&(t.properties.r=t.properties.r*i),t.properties.hasOwnProperty(\"rx\")&&t.properties.rx&&(t.properties.rx=t.properties.rx*i),t.properties.hasOwnProperty(\"ry\")&&t.properties.ry&&(t.properties.ry=t.properties.ry*i);break;case l.default.PATH:a=d.getShapeBounds(t,!0),a=h.default.each(a,(function(t){t.x=s.default.format(t.x*i+n),t.y=s.default.format(t.y*i+r)}));let e=\"\",o=h.default.format(t.properties.d.split(/,| |-|(?=[a-zA-Z])/));for(let t,i=0,s=0,h=o.length;i<h;i++)t=o[i],/[a-zA-Z]/.test(t)&&(e+=t[0]+\" \",1==t.length&&(o.splice(i,1),t=o[i],h--)),s>=a.length||(t=a[s],e+=t[i%2==0?\"x\":\"y\"]+\" \",i%2==1&&s++);t.properties.d=e}return t}static getRect(t,e,i,s,a,h){return a=a||0,h=h||a||0,n.default.create(o.default).setup(l.default.RECT,{x:t,y:e,width:i,height:s,rx:a,ry:h})}static getCircle(t,e,i,s){return s=s||i,n.default.create(o.default).setup(s==i?l.default.CIRCLE:l.default.ELLIPSE,s==i?{cx:t,cy:e,r:i}:{cx:t,cy:e,rx:i,ry:s})}static getPolygon(t){if(!t||!(t instanceof Array)||t.length<3)return;let e=\"\";return h.default.each(t,(function(i,s){e+=(i instanceof Array?i.join(\",\"):i.x+\",\"+i.y)+(s<t.length-1?\" \":\"\")})),n.default.create(o.default).setup(l.default.POLYGON,{points:e})}static getLine(t){if(!t||!(t instanceof Array)||t.length<2)return;let e=\"\";return h.default.each(t,(function(i,s){e+=(i instanceof Array?i.join(\",\"):i.x+\",\"+i.y)+(s<t.length-1?\" \":\"\")})),n.default.create(o.default).setup(l.default.POLYLINE,{points:e})}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(11),a=i(40),h=i(2),n=i(3),r=i(22),l=i(1);class o{static create(t){let e=t||{};return e.canvas||(e.canvas=document.createElement(\"canvas\"),e.context=e.canvas.getContext(\"2d\")),e}static getCache(t,e){let i=o.create();return i.canvas.width=t.width,i.canvas.height=t.height,i.context.drawImage(t,0,0,t.width,t.height),i.canvas.toDataURL(e||\"image/png\")}static splitFrames(t,e,i,s,a){if(!t||!s||!a)return null;let h=document.createElement(\"canvas\"),n=h.getContext(\"2d\");return h.height=a,h.width=s,n.drawImage(t,e,i,s,a,0,0,s,a),h}static toImage(t,e){if(null==t)return;const i=new Image;try{i.src=t.toDataURL(e||\"image/png\")}catch(t){return trace(\"[ERROR]\",t),null}return i.height=l.default.int(t.height),i.width=l.default.int(t.width),i}static cutImage(t,e,i,s){if(null==t||t.width==e&&t.height==i)return t;let a=l.default.getSizeScale(t.width,t.height,e,i,s),h=o.create();return h.canvas.width=e,h.canvas.height=i,h.context.scale(a,a),h.context.translate(.5*(e-t.width*a),.5*(i-t.height*a)),h.context.drawImage(t,0,0,t.width,t.height,0,0,t.width,t.height),o.toImage(h.canvas)}static toCanvas(t,e,i){if(null!=t)return i=null==i||1==i,e=e||o.create(),i&&e.context.clearRect(0,0,e.canvas.width,e.canvas.height),e.canvas.height=t.height,e.canvas.width=t.width,e.context.drawImage(t,0,0),e.canvas}static getPixelAphla(t,e,i){return null==t||e>t.width||i>t.height?255:t.getImageData(e,i,1,1).data[3]}static clearContext(t){t&&t.clear(0,0,t.width,t.height)}static containerToImage(t,e,i,s,r){if(null==t)return;const l=n.default.create(a.default);let u;if(l.canvas.width=Math.ceil(i||t.width),l.canvas.height=Math.ceil(s||t.height),h.default.isEmpty(r)||(l.beginFill(r),l.drawRect(0,0,l.canvas.width,l.canvas.height),l.endFill()),o._renderContainer(l,t,t),e)try{u=l.canvas.toDataURL(e||\"image/png\")}catch(t){return trace(\"[ERROR]\",t),null}else u=o.toImage(l.canvas,h.default.isEmpty(r)?null:\"image/jpg\");return n.default.remove(l),u}static _renderContainer(t,e,i){let a,h,n;for(a=0,n=e._children.length;a<n;a++)if(h=e._children[a],h instanceof s.default)try{r.default.getQualifiedSuperclassName(h).split(\".\").indexOf(\"Sprite\")>=0||0==h.name.indexOf(\"sprite\")?h.render(t,i):o._renderContainer(t,h,i)}catch(t){trace(\"[ERROR]\",t)}else t.context.save(),h._render(t,!1,i),t.context.restore()}static colorTransform(t,e,i,s,a){const h=e.x>>0,n=e.y>>0,r=e.width>>0,l=e.height>>0,o=s&&a?s.getImageData(a.x,a.y,a.width,a.height).data:null,u=t.getImageData(h,n,r,l),d=u.data;for(let t=0,e=d.length;t<e;t+=4){let e=t,s=t+1,a=t+2,h=t+3;o&&o[h]<1||d[h]<1||(d[e]=d[e]*i.redMultiplier+i.redOffset,d[s]=d[s]*i.greenMultiplier+i.greenOffset,d[a]=d[a]*i.blueMultiplier+i.blueOffset,d[h]=d[h]*i.alphaMultiplier+i.alphaOffset)}t.putImageData(u,h,n,0,0,r,l)}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static hitTestPoint(t,e,i,s){let a=t.getBounds?t.getBounds(t.stage):t,h=a.length,n=e>=a.x&&e<=a.x+a.width&&i>=a.y&&i<=a.y+a.height;if(n&&s&&h){let t,s,n,r,l=0,o=!1;for(let u=0;u<h;u++){let d=a[u],_=a[(u+1)%h];if(d.y==_.y&&i==d.y&&(d.x>_.x?(t=_.x,s=d.x):(t=d.x,s=_.x),e>=t&&e<=s)){o=!0;continue}if(d.y>_.y?(n=_.y,r=d.y):(n=d.y,r=_.y),i<n||i>r)continue;let c=(i-d.y)*(_.x-d.x)/(_.y-d.y)+d.x;c>e?l++:c==e&&(o=!0)}return o?0:l%2==1?1:-1}return n?1:-1}static hitTestObject(t,e,i){let a=t.getBounds(t.stage),h=e.getBounds(e.stage),n=a.x<=h.x+h.width&&h.x<=a.x+a.width&&a.y<=h.y+h.height&&h.y<=a.y+a.height;return n&&i?(n=s.polygonCollision(a,h),!1!==n):n}static polygonCollision(t,e){let i=s._doSATCheck(t,e,{overlap:-1/0,normal:{x:0,y:0}});return!!i&&s._doSATCheck(e,t,i)}static _doSATCheck(t,e,i){let s,a,h,n,r,l,o,u,d,_=t.length,c=e.length,f={x:0,y:0};for(let p=0;p<_;p++){s=t[p],a=t[p<_-1?p+1:0],f.x=s.y-a.y,f.y=a.x-s.x,h=Math.sqrt(f.x*f.x+f.y*f.y),f.x/=h,f.y/=h,n=r=t[0].x*f.x+t[0].y*f.y;for(let e=1;e<_;e++)u=t[e].x*f.x+t[e].y*f.y,u>r?r=u:u<n&&(n=u);for(l=o=e[0].x*f.x+e[0].y*f.y,j=1;j<c;j++)u=e[j].x*f.x+e[j].y*f.y,u>o?o=u:u<l&&(l=u);if(n<l?(d=l-r,f.x=-f.x,f.y=-f.y):d=n-o,d>=0)return!1;d>i.overlap&&(i.overlap=d,i.normal.x=f.x,i.normal.y=f.y)}return i}static isInPolygon(t,e){let i,s,a,h,n=0;const r=e.length;for(a=e[0],i=1;i<=r;i++)h=e[i%r],t.x>Math.min(a.x,h.x)&&t.x<=Math.max(a.x,h.x)&&t.y<=Math.max(a.y,h.y)&&a.x!=h.x&&(s=(t.x-a.x)*(h.y-a.y)/(h.x-a.x)+a.y,(a.y==h.y||t.y<=s)&&n++),a=h;return n%2!=0}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return d}));var s=i(11),a=i(15),h=i(2),n=i(3),r=i(6),l=i(24),o=i(17),u=i(5);class d extends s.default{constructor(){super(),this.autoSize=!0,this.name=\"button_\"+this.name,this.state=\"\",this._register_instance=null,this.mouseChildren=!1,this.mouseEnabled=!0,this.buttonMode=!0,this._enable=!0,this.disabled_color,this.down_color,this.over_color,this.out_color,this.tf=null,this.frames={}}get instance(){return this._register_instance}set instance(t){let e=null;null!=this._register_instance&&(this._register_instance.parent&&(e=this._register_instance.getIndex(),e=Math.max(0,e),this._register_instance.removeFromParent(!1)),this._register_instance=null),null!=t&&(t instanceof a.default?this._register_instance=t:(this._register_instance=r.default.c(\"do\"),this._register_instance.setInstance(t)),null==e||isNaN(\"\"+e)?this.addChild(this._register_instance):this.addChildAt(this._register_instance,e),this._updateSize())}get enable(){return this._enable}set enable(t){null!=t&&null!=t&&t!=this._enable&&(this._enable=t,this.mouseEnabled=this.buttonMode=t,this._enable?this.setState(d.state.UP):this.setState(d.state.DISABLED)||this.setState(d.state.DOWN)||this.setState(d.state.OVER))}setup(t,e,i,s){t&&this.setupState(t,d.state.UP),e&&this.setupState(e,d.state.OVER),i&&this.setupState(i,d.state.DOWN),s&&this.setupState(s,d.state.DISABLED),this.setState(d.state.UP)}setLabel(t,e,i,s){this.tf&&this.tf.removeFromParent(!0),t&&(this.tf=t instanceof a.default?f:r.default.c(\"tf\",t),this.tf.mouseEnabled=!1,this.addChild(this.tf),this.out_color=t.color,this.over_color=e,this.down_color=s,this.disabled_color=i)}getLabel(){return this.tf?this.tf.text:\"\"}setupState(t,e){if(null==this.frames||null==t||h.default.isEmpty(e)||!(t instanceof o.default)&&!(t instanceof Image)&&!(t instanceof a.default)&&!(t instanceof l.default)&&!(t instanceof Array))return;let i=this.frames[e];if(i)if(i instanceof a.default){if(t instanceof o.default)return void i.setInstance(t);i.removeFromParent(!0)}else if(i instanceof l.default)n.default.remove(i);else if(i instanceof Array)for(j=0;j<i.length;j++)n.default.remove(i[j]);if(t instanceof o.default||t instanceof Image){let e=r.default.c(\"do\");e.setInstance(t),t=e}this.frames[e]=t}setState(t,e){if(this.state==t&&(null==e||!e))return!1;if(this.state=t,this.tf){let t=this.state==d.state.DISABLED?this.disabled_color:this.state==d.state.DOWN?this.down_color||this.over_color:this.state==d.state.OVER&&this.over_color||this.out_color;h.default.isEmpty(t)||(this.tf.color=t),this.tf.dispatchEvent(new u.default(d.STATE_CHANGE,this.state))}if(this.frames.hasOwnProperty(this.state)&&this.frames[t])if(this.frames[t]instanceof a.default)this.instance=this.frames[t];else{if(null==this.instance)return;(this.frames[t]instanceof l.default||this.frames[t]instanceof Array)&&l.default.run(this.instance,this.frames[t])}else if(!this.tf)return!1;return this.__checkDisplayUpdate(),!0}onMouseEvent(t){if(t&&this._enable)switch(t.type){case\"mousemove\":this.setState(d.state.OVER);break;case\"mouseout\":this.setState(d.state.UP);break;case\"mousedown\":this.setState(d.state.DOWN)||this.setState(d.state.OVER);break;case\"mouseup\":this.state!=d.state.OVER&&this.setState(d.state.UP)}}reset(){if(this._register_instance.removeFromParent(!0),this._register_instance=null,this.frames){let t,e,i;for(t in this.frames){if(i=this.frames[t],i)if(i instanceof a.default)i.removeFromParent(!0);else if(i instanceof l.default)n.default.remove(i);else if(i instanceof Array)for(e=0;e<i.length;e++)n.default.remove(i[e]);delete this.frames[t]}}this.state=this._register_instance=this.disabled_color=this.down_color=this.over_color=this.out_color=this.tf=null,this._enable=this.autoSize=this.mouseEnabled=this.buttonMode=!0,this.mouseChildren=!1,this.frames={},super.reset()}dispose(){super.dispose(),delete this._register_instance,this.frames,this.tf,this.is_reversal,this.state,this.disabled_color,this.down_color,this.over_color,this.out_color}toString(){return d.name}}d.STATE_CHANGE=\"stateChange\",d.state={UP:\"up\",OVER:\"over\",DOWN:\"down\",DISABLED:\"disabled\"}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{}s.isX=1,s.isY=2,s.isXY=3,s.isNone=0},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return n}));var s=i(11),a=i(2),h=i(22);class n{static copyTransform(t,e,i,s){if(null==t||null==e||null==e.parent)return;let a=i&&i.hasOwnProperty(\"rotation\")?i.rotation:0,h=i&&i.hasOwnProperty(\"scaleX\")?i.scaleX:1,n=i&&i.hasOwnProperty(\"scaleY\")?i.scaleY:1;e.rotation=t.rotation+(s?a:-a),e.scaleX=t.scaleX*(s?h:1/h),e.scaleY=t.scaleY*(s?n:1/n),e.moveTo(e.parent.globalToLocal(t.localToGlobal(0,0)))}static equalOrContain(t,e){if(null==t||null==e)return!1;if(!(e instanceof s.default))return t==e;for(let i=t;null!=i;i=i.parent)if(i==e)return!0;return!1}static autoSizeFromText(t,e){if(null==t||a.default.isEmpty(t.text))return;let i,s,n,r=h.default.getQualifiedClassName(t);if((\"InputText\"==r||\"TextField\"==r&&t.lineWidth>0)&&(e=e||8,n=\"InputText\"==r,t.render(),s=t.height,i=(n?t.element:t).scrollHeight,!(i<=s)))for(;t.size>e&&i>s;)t.size=t.size-1,t.render(),i=(n?t.element:t).scrollHeight}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return l}));var s=i(29),a=i(2),h=i(5),n=i(0),r=i(46);class l extends s.default{constructor(){super(),this.content=null,this.type=null}load(t){let e;const i=this,s=a.default.getPathExt(t);if(\"txt\"==s?e=l.TYPE_TEXT:\"json\"==s?e=l.TYPE_JSON:\"js\"==s?e=l.TYPE_JS:\"prop\"==s?e=l.TYPE_PROP:\"css\"==s?e=l.TYPE_CSS:retrun,this.type=e,e==l.TYPE_TEXT||e==l.TYPE_JSON||e==l.TYPE_PROP){(new r.default).get(t).then((function(t){i.content=t,i.dispatchEvent(new h.default(h.default.COMPLETE)),i.removeEventListener(h.default.COMPLETE),i.removeEventListener(h.default.ERROR)})).catch((function(t){console.log(\"[ERROR]\",t),i.content=null,i.dispatchEvent(new h.default(h.default.ERROR)),i.removeEventListener(h.default.COMPLETE),i.removeEventListener(h.default.ERROR)}))}else e==l.TYPE_JS?(i.content=document.createElement(\"script\"),i.content.onload=function(){i.dispatchEvent(new h.default(h.default.COMPLETE)),i.removeEventListener(h.default.COMPLETE),i.removeEventListener(h.default.ERROR)},i.content.onerror=function(){i.dispatchEvent(new h.default(h.default.ERROR)),i.removeEventListener(h.default.COMPLETE),i.removeEventListener(h.default.ERROR)},i.content.src=t,i.content.type=\"text/javascript\",document.querySelector(\"head\").appendChild(i.content)):e==l.TYPE_CSS&&(i.content=document.createElement(\"link\"),i.content.rel=\"stylesheet\",i.content.type=\"text/css\",i.content.onload=function(){i.dispatchEvent(new h.default(h.default.COMPLETE)),i.removeEventListener(h.default.COMPLETE),i.removeEventListener(h.default.ERROR)},i.content.onerror=function(){i.dispatchEvent(new h.default(h.default.ERROR)),i.removeEventListener(h.default.COMPLETE),i.removeEventListener(h.default.ERROR)},i.content.href=t,document.querySelector(\"head\").appendChild(i.content))}static parseXML(t,e){let i=null;if(n.default.root.DOMParser)try{i=(new DOMParser).parseFromString(t,e)}catch(t){}else if(n.default.root.ActiveXObject){let e=[\"MSXML.2.DOMDocument.6.0\",\"MSXML.2.DOMDocument.3.0\",\"Microsoft.XMLDOM\"];for(let t=0;t<e.length;t++)try{i=new ActiveXObject(e[t]);break}catch(t){}i&&(i.async=!1,i.loadXML(t))}return i}}l.TYPE_TEXT=\"text\",l.TYPE_JSON=\"json\",l.TYPE_PROP=\"prop\",l.TYPE_CSS=\"css\",l.TYPE_JS=\"js\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(2);class a{static add(t){null!=t&&null!=t&&(a.remove(t.name),a._cache[t.name]=t)}static remove(t){a._cache.hasOwnProperty(t)&&(a._cache[t].dispose(),delete a._cache[t])}static has(t){return!s.default.isEmpty(t)&&null!=a._cache[t]}static get(t,e){if(s.default.isEmpty(t))for(t in a._cache)break;return s.default.isEmpty(t)?null:null==e||e<0?a._cache[t]:a._cache[t].chars[e]}static clear(){let t;for(t in a._cache)a._cache[t].dispose(),delete a._cache[t]}}a._cache={}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return n}));var s=i(29),a=i(0),h=i(5);class n extends s.default{constructor(t){super(),this._start_time=0,this._is_start=!1,this._interval_id=null,this._frame_rate=t||Math.ceil(1e3/n.fps),this.__handler=a.default.delegate(this._onTimeHandler,this)}setFrameRate(t){this._frame_rate=t,this._is_start&&this.start()}getFrameRate(){return this._frame_rate}isStart(){return this._is_start}_onTimeHandler(){this.dispatchEvent(new h.default(n.TIME))}start(){this._frame_rate<=0||(null!=this._interval_id&&clearInterval(this._interval_id),this._interval_id=setInterval(this.__handler,this._frame_rate),this._start_time=(new Date).getTime(),this._is_start=!0)}stop(){null!=this._interval_id&&clearInterval(this._interval_id),this._interval_id=null,this._is_start=!1,this._start_time=0}dispose(){super.dispose(),this.stop(),delete this._start_time,this._interval_id,this._frame_rate,this._is_start}toString(){return n.name}static delayCall(t,e,i=[],s=null,a=null){if(!(t<=0||null==e))return a&&clearTimeout(a),setTimeout((function(){e.apply(s,i)}),1e3*t)}}n.TIME=\"timer_count\",n.fps=60},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{constructor(){this.actions=[],this.type_id=0,this.value=null}getValue(){if(this.value)return this.value;let t;for(t in this.value={},this)s.LIST.indexOf(t)>=0||\"function\"==typeof this[t]||\"actions\"==t||\"type_id\"==t||\"value\"==t||(this.value[t]=this[t],delete this[t]);return this.value}reset(){if(!this.value){let t;for(t in this)s.LIST.indexOf(t)>=0||\"function\"==typeof this[t]||\"actions\"==t||\"type_id\"==t||\"value\"==t||delete this[t]}this.type_id=0,this.actions=[],this.value=null}static INIT_CLASS(){if(s.IS_INIT)return;let t;for(t of(s.IS_INIT=!0,s.LIST))s.prototype[t]=s.create_func(t)}static create_func(t){return function(){this.actions.push({method:t,data:arguments})}}}s.LIST=[\"save\",\"restore\",\"scale\",\"rotate\",\"translate\",\"transform\",\"setTransform\",\"getTransform\",\"resetTransform\",\"createLinearGradient\",\"createRadialGradient\",\"createPattern\",\"clearRect\",\"fillRect\",\"strokeRect\",\"beginPath\",\"fill\",\"stroke\",\"drawFocusIfNeeded\",\"clip\",\"isPointInPath\",\"isPointInStroke\",\"fillText\",\"strokeText\",\"measureText\",\"drawImage\",\"getImageData\",\"putImageData\",\"createImageData\",\"setLineDash\",\"getLineDash\",\"closePath\",\"moveTo\",\"lineTo\",\"quadraticCurveTo\",\"bezierCurveTo\",\"arcTo\",\"rect\",\"arc\",\"ellipse\",\"drawSvg\"],s.IS_INIT=!1},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return f}));var s=i(2),a=i(23),h=i(31),n=i(3),r=i(25),l=i(30),o=i(9),u=i(14),d=i(20),_=i(0),c=i(7);class f{constructor(t=null){t?(this.context=t,this.canvas=t.canvas):(h.default.create(this),this.canvas.width=_.default.width,this.canvas.height=_.default.height),this.name=a.default.getName(\"Graphics\"),_.default.proxy(this,this.context,\"arc\"),_.default.proxy(this,this.context,\"rect\"),_.default.proxy(this,this.context,\"clip\"),_.default.proxy(this,this.context,\"fill\"),_.default.proxy(this,this.context,\"arcTo\"),_.default.proxy(this,this.context,\"stroke\"),_.default.proxy(this,this.context,\"moveTo\"),_.default.proxy(this,this.context,\"lineTo\"),_.default.proxy(this,this.context,\"beginPath\"),_.default.proxy(this,this.context,\"closePath\"),_.default.proxy(this,this.context,\"createPattern\"),_.default.proxy(this,this.context,\"bezierCurveTo\"),_.default.proxy(this,this.context,\"createLinearGradient\"),_.default.proxy(this,this.context,\"createRadialGradient\"),_.default.proxy(this,this.context,\"quadraticCurveTo\",\"curveTo\")}lineStyle(t=1,e=\"#000000\",i=1,s=\"butt\",a=\"miter\",h=10){this.line_cap=s,this.stroke_style=e,this.line_join=a,this.line_alpha=i,this.line_width=t,this.miter_limit=h,this.line_width=this.line_width<=0?.1:this.line_width,this.stroke_style=this.stroke_style+\"\",this.context.lineCap=this.line_cap,this.context.lineJoin=this.line_join,this.context.lineWidth=this.line_width,this.context.miterLimit=this.miter_limit,this.context.strokeStyle=this.stroke_style}clear(){this.context&&(this.rectangle=this.rectangle||n.default.create(o.default).set(0,0,this.context.canvas.width,this.context.canvas.height),this.context.clearRect(this.rectangle.x,this.rectangle.y,this.rectangle.width,this.rectangle.height),this.context.restore())}beginFill(t,e){return this.fill_alpha=null==e?1:e,this.fill_style=t||\"#FFFFFF\",this.context.fillStyle=this.fill_style,this}endFill(){const t=this.context.globalAlpha;this.fill_style&&(this.context.fillStyle=this.fill_style,this.context.globalAlpha=t*this.fill_alpha,this.context.fill()),this.stroke_style&&(this.context.strokeStyle=this.stroke_style,this.context.globalAlpha=t*this.line_alpha,this.context.stroke()),this.context.globalAlpha=t}beginBitmapFill(t,e,i){this.fill_style=this.createPattern(t,e||\"no-repeat\"),this.fill_alpha=null==i?1:i,this.context.fillStyle=this.fill_style}linearGradientFill(t,e,i,s,a,h){let n=this.createLinearGradient(t,e,i,s),r=Math.min(a.length,h.length);for(let t=0;t<r;t++)n.addColorStop(a[t],h[t]+\"\");return this.fill_style=n,n}radialGradientFill(t,e,i,s,a,h,n,r){let l=this.createRadialGradient(t,e,i,s,a,h),o=Math.min(n.length,r.length);for(let t=0;t<o;t++)l.addColorStop(n[t],r[t]+\"\");return this.fill_style=l,l}drawRect(t,e,i,s){this.beginPath(),this.rect(t,e,i,s),this.closePath()}drawRoundRect(t,e,i,s,a,h){h=h||a,this.beginPath(),this.moveTo(t+i,e+s-h),this.curveTo(t+i,e+s,t+i-a,e+s),this.lineTo(t+a,e+s),this.curveTo(t,e+s,t,e+s-h),this.lineTo(t,e+h),this.curveTo(t,e,t+a,e),this.lineTo(t+i-a,e),this.curveTo(t+i,e,t+i,e+h),this.lineTo(t+i,e+s-h),this.closePath()}drawPath(t,e){if(null==t||t.length<2)return;this.beginPath();let i=t[0]instanceof Array;this.moveTo(i?t[0][0]:t[0].x,i?t[0][1]:t[0].y);for(let e=1;e<t.length;e++)this.lineTo(i?t[e][0]:t[e].x,i?t[e][1]:t[e].y);e&&this.closePath()}drawCircle(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,0),this.closePath()}drawEllipse(t,e,i,s){if(i==s)return this.drawCircle(t,e,i/2);let a=.5522847498307933*(i/=2),h=.5522847498307933*(s/=2);t+=i,e+=s,this.beginPath(),this.moveTo(t+i,e),this.bezierCurveTo(t+i,e-h,t+a,e-s,t,e-s),this.bezierCurveTo(t-a,e-s,t-i,e-h,t-i,e),this.bezierCurveTo(t-i,e+h,t-a,e+s,t,e+s),this.bezierCurveTo(t+a,e+s,t+i,e+h,t+i,e),this.closePath()}createPolygon(t,e,i,s){if(s<3)return;let a,h,n;this.beginPath(),a=Math.sin(0),h=Math.cos(0);const r=Math.PI/s*(s%2==0?2:s-1);for(n=0;n<s;n++)a=Math.sin(n*r),h=Math.cos(n*r),this.lineTo(t+a*i,e+h*i);this.closePath()}drawSVGPath(t,e){let i,a,h=n.default.create(c.default),l=0,o=t.split(/(?=[a-zA-Z])/);this.beginPath();for(let t,n,u,d=0,_=o.length;d<_;d++)switch(t=s.default.trim(o[d]),i=t[0].toUpperCase(),u=r.default.format(t.substring(1).split(/,| |-/)),s.default.isEmpty(i)?i=a:a=i,i){case\"M\":h.set(e?e[l].x:u[0],e?e[l].y:u[1]),this.moveTo(h.x,h.y),l++;break;case\"L\":n=0;for(let t=Math.floor(.5*u.length);n<t;n++)e?(this.lineTo(e[l].x,e[l].y),l++):this.lineTo(u[2*n],u[2*n+1]);n--,h.set(e?e[l-1].x:u[2*n],e?e[l-1].y:u[2*n+1]);break;case\"Q\":n=0;for(let t=Math.floor(u.length/4);n<t;n++)e?(this.curveTo(e[l].x,e[l].y,e[l+1].x,e[l+1].y),l+=2):this.curveTo(u[4*n],u[4*n+1],u[4*n+2],u[4*n+3]);n--,h.set(e?e[l-1].x:u[4*n+2],e?e[l-1].y:u[4*n+3]);break;case\"C\":n=0;for(let t=Math.floor(u.length/6);n<t;n++)e?(this.bezierCurveTo(e[l].x,e[l].y,e[l+1].x,e[l+1].y,e[l+2].x,e[l+2].y),l+=3):this.bezierCurveTo(u[6*n],u[6*n+1],u[6*n+2],u[6*n+3],u[6*n+4],u[6*n+5]);n--,h.set(e?e[l-1].x:u[6*n+4],e?e[l-1].y:u[6*n+5]);break;case\"H\":case\"V\":h.set(\"H\"==i?parseFloat(u[0]):h.x,\"H\"==i?h.y:parseFloat(u[0])),this.lineTo(h.x,h.y);break;case\"Z\":this.closePath();break;default:trace(\"[Graphics]drawSVGPath() miss\",t)}return n.default.remove(h),this}drawShape(t,e=null,i=!1){if(!(t&&t instanceof d.default))return;if(i&&t.properties.style){let e=t.properties.style;e.fill&&(0==e.fill.indexOf(\"#\")?this.beginFill(e.fill,e.fillOpacity||e.opacity):AssetManager.getSource(e.fill)&&this.beginBitmapFill(AssetManager.getSource(e.fill).image)),e.stroke&&0==e.stroke.indexOf(\"#\")&&this.lineStyle(e.strokeWidth,e.stroke,e.strokeOpacity||e.opacity)}let a,h,o;switch(t.type){case u.default.LINE:h=[[t.properties.x1,t.properties.y1],[t.properties.x2,t.properties.y2]],e?a=l.default.pointsToPath(h):this.drawPath(h,!1);break;case u.default.POLYLINE:case u.default.POLYGON:h=r.default.each(t.properties.points.split(/ /),(function(t,e,i){i[e]=t.split(/,/)})),e?a=l.default.pointsToPath(h,t.type==u.default.POLYGON):this.drawPath(h,t.type==u.default.POLYGON);break;case u.default.RECT:e?a=l.default.rectToPath(t.properties):this.drawRoundRect(t.properties.x||0,t.properties.y||0,t.properties.width,t.properties.height,t.properties.rx||0,t.properties.ry||0);break;case u.default.CIRCLE:e?a=l.default.ellipseToPath(t.properties):this.drawCircle(t.properties.cx||0,t.properties.cy||0,t.properties.r);break;case u.default.ELLIPSE:e?a=l.default.ellipseToPath(t.properties):this.drawEllipse((t.properties.cx||0)-t.properties.rx,(t.properties.cy||0)-t.properties.ry,2*t.properties.rx,2*t.properties.ry);break;case u.default.PATH:e?a=t.properties.d:this.drawSVGPath(t.properties.d);break;default:return}if(!s.default.isEmpty(a)){let t=n.default.create(d.default).setup(u.default.PATH,{d:a});o=l.default.getShapeBounds(t,!0),c.default.matrix(o,e),this.drawSVGPath(a,o),n.default.remove(t)}i&&t.properties.style&&this.endFill()}reset(t=null){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.rectangle&&n.default.remove(this.rectangle),this.fill_style=this.rectangle=null,this.fill_alpha=1,t&&(this.context=t,this.canvas=t.canvas,this.canvas.width!=_.default.width&&(this.canvas.width=_.default.width),this.canvas.height!=_.default.height&&(this.canvas.height=_.default.height)),this.clear(),this.line_alpha=1,this.line_width=1,this.miter_limit=10,this.line_cap=\"butt\",this.line_join=\"miter\",this.stroke_style=\"#000000\"}dispose(){this.reset(),delete this.name,this.rectangle,this.line_cap,this.line_join,this.line_alpha,this.stroke_style,this.line_width,this.miter_limit,this.fill_alpha,this.fill_style,this.context,this.canvas}toString(){return\"Graphics\"}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{constructor(t,e,i,s,a,h,n,r,l){this.setup(t,e,i,s,a,h,n,r,l)}setup(t,e,i,s,a,h,n,r,l){this.type=t,this.xStart=e,this.yStart=i,this.xEnd=s,this.yEnd=a,this.offsetlist=h,this.colorList=n,this.radiusStart=r,this.radiusEnd=l}dispose(){delete this.type,this.xStart,this.yStart,this.xEnd,this.yEnd,this.offsetlist,this.colorList,this.radiusStart,this.radiusEnd}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return m}));var s=i(11),a=i(32),h=i(23),n=i(9),r=i(27),l=i(20),o=i(3),u=i(1),d=i(26),_=i(0),c=i(14),f=i(68),p=i(7);class m extends s.default{constructor(){super(),this.name=h.default.getName(\"sprite\"),this._blendMode=this._defs=this._rect=this._mask=this.div=null}get blendMode(){return this._blendMode}set blendMode(t){this._blendMode!=t&&(this._blendMode=t,this.__checkDisplayUpdate())}get maskRect(){return this._mask?this._mask instanceof n.default?this._mask:this._rect:null}set maskRect(t){t?(this._rect=new n.default(t.x,t.y,t.width,t.height),this.setSize(this._rect.width,this._rect.height)):this._rect=t}get defs(){return this._defs||this.use_canvas||(this._defs=o.default.create(f.default).init(),this.addChild(this._defs)),this._defs}get parentNode(){return this._parentNode}set parentNode(t){this._parentNode!=t&&(this._parentNode=t,this._parentNode&&this.div&&(this.div.parentNode&&this.div.parentNode.removeChild(this.div),this._parentNode.appendChild(this.div)))}get parent(){return this._parent}set parent(t){if(this._parent==t)return;if(this._parent=t,this.use_canvas)return;if(null==this._parent)return void(this.div&&this.div.parentNode&&this.div.parentNode.removeChild(this.div));null==this.div&&(this.div=r.default.createDOM(\"div\",{id:\"sprite_\"+this.name})),this.div.style.position=_.default.position;let e=this._parentNode?this._parentNode:this._parent.parentNode?this._parent.parentNode:this._parent.div?this._parent.div:this.stage?this.stage.div:null;e&&e.appendChild(this.div),this._mask&&this._mask instanceof n.default&&this.div&&(this.width=Math.ceil(this._mask.width),this.height=Math.ceil(this._mask.height),this.div.style.width=this.width+\"px\",this.div.style.height=this.height+\"px\",this.div.style.overflow=\"hidden\")}get mask(){return this._mask}set mask(t){t&&t instanceof l.default&&(t=[c.default.RECT,c.default.CIRCLE,c.default.ELLIPSE,c.default.POLYGON,c.default.PATH].indexOf(t.type)<0?null:t),this._mask&&this._mask!=t&&this._mask instanceof n.default&&this.div&&(this.div.style.overflow=\"auto\",o.default.remove(this._mask)),this._mask&&this._mask instanceof l.default&&this._mask!=t&&(this.use_canvas||this.defs.removeClipPath(this._mask),o.default.remove(this._mask));let e=null!=this._mask&&null!=this._mask&&\"\"!=this._mask;this._mask=t,this.maskRect=this._mask&&this._mask instanceof l.default&&this._mask.rect?this._mask.rect:null,this._mask&&this._mask instanceof l.default&&!this.use_canvas&&this.defs.addClipPath(this._mask),this.updateMatrix=!0,this._mask&&this._mask instanceof n.default?(this.autoSize=!1,this.width=Math.ceil(this._mask.width),this.height=Math.ceil(this._mask.height),this.use_canvas||(this._mask.x=this._mask.y=0,null!=this.div&&(this.div.style.overflow=\"hidden\",this.div.style.width=this.width+\"px\",this.div.style.height=this.height+\"px\"))):!this._mask&&e&&(this.use_canvas||(this.x+=1e-5),this.__checkDisplayUpdate())}get stage(){return this._stage}set stage(t){if(this._stage==t)return;this._stage=t;let e,i,s,a=this._parentNode?this._parentNode:this._parent&&this._parent.parentNode?this._parent.parentNode:this._parent&&this._parent.div?this._parent.div:this.stage?this.stage.div:null;if(this.div&&(this.div.parentNode&&(!t||a&&this.div.parentNode!=a)&&this.div.parentNode.removeChild(this.div),a&&!this.div.parentNode&&t&&this._parent&&a.appendChild(this.div)),!(null==this._children||this._children.length<1))for(e=0,s=this._children.length;e<s;e++)i=this._children[e],i.stage=t}addChildAt(t,e){let i=super.addChildAt(t,e);return this.use_canvas||(null==this.div&&(this.div=r.default.createDOM(\"div\",{id:\"sprite_\"+this.name})),i&&(i.parentNode=this.div)),i}render(t,e){if(null==this._children||0==this._children.length)return;if(!this.visible)return void(this.div&&(this.div.style.display=\"none\"));const i=this.updateMatrix||this._refresh,s=this.getMatrix(t,!0);if(this._mask&&this.use_canvas){let i,a=(e?this.getMatrix(e):s).applyDisplay();if(a.center=o.default.create(p.default),this._mask instanceof n.default){let t=this._mask.clone();t.multiply(a.scaleX,a.scaleY);let e=u.default.getRadiansFromDegrees(a.rotation);i=t.rotation(e,a.center,a,a.scaleX<0,a.scaleY<0),o.default.remove(t)}(t?t.context:this.stage.context).save(),this._mask instanceof n.default?(t||this.stage.graphics).drawPath(i,!0):this._mask instanceof l.default&&(t||this.stage.graphics).drawShape(this._mask,a),(t?t.context:this.stage.context).clip(),o.default.remove(a.center),a.center=null}if(!this.use_canvas&&(d.default._depth_count++,this.div&&(\"\"!=this.div.style.display&&(this.div.style.display=\"\"),this.div.style.zIndex=_.default.layer+d.default._depth_count,null!=this._blendMode&&(this.div.style.mixBlendMode=this._blendMode?this._blendMode:\"normal\"),i))){this._refresh=!1;const t=_.default.cssPrefix,e=\"\"===t?\"transform\":t+\"Transform\",i=\"\"===t?\"transformOrigin\":t+\"TransformOrigin\";this.div.style[t+\"ClipPath\"]=this.div.style.clipPath=this._mask&&this._mask instanceof l.default?\"url(#\"+this._mask.id+l.default.CILP+\")\":\"\",_.default.supportTransform?(this.div.style[i]=\"0% 0%\",this.div.style.top=this.div.style.left=\"0px\",this.div.style[e]=s.toCSS()):(this.div.style.top=s.ty+\"px\",this.div.style.left=s.tx+\"px\")}let a,h;for(h=this._children.length,a=0;a<h;a++)this._children[a].render.apply(this._children[a],this.use_canvas?[t,!1,e]:[this]);this._mask&&this.use_canvas&&(t?t.context:this.stage.context).restore()}getObjectUnderPoint(t,e,i,s){return this.maskRect&&this._checkTouch(t,e,i)?null:super.getObjectUnderPoint(t,e,i,s)}hitTestPoint(t,e,i){return(!this.maskRect||!this._checkTouch(t,e,i))&&super.hitTestPoint(t,e,i)}_checkTouch(t,e,i){let s=this.maskRect.clone(),h=this.getMatrix().applyDisplay();s.multiply(h.scaleX,h.scaleY);let r,l=u.default.getRadiansFromDegrees(h.rotation);if(i)r=n.default.rectangleByRadians(s,l,null,h,h.scaleX<0,h.scaleY<0),o.default.remove(s);else if(0==l)s.x=h.x,s.y=h.y,r=s;else{let t=s.rotation(l,null,h,h.scaleX<0,h.scaleY<0);r=n.default.createRectangle(t[0],t[1],t[2],t[3]),o.default.remove(s)}return a.default.hitTestPoint(r,t,e,i)<0}reset(){this._mask&&this._mask instanceof l.default&&o.default.remove(this._mask),this.div&&this.div.parentNode&&this.div.parentNode.removeChild(this.div),this._rect&&o.default.remove(this._rect),super.reset(),this._blendMode=this._defs=this._rect=this._mask=this.div=null}dispose(){super.dispose(),delete this._blendMode,this._defs,this._mask,this.div,this.svg,this._rect}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static tile(t,e,i,a,h,n,r){null==t||t.length<1||null==e||e<1||(1==i?s._row(t,e,a,h,n,r):s._tier(t,e,a,h,n,r))}static _row(t,e,i,a,h,n){h=null==h?{x:0,y:0}:h;let r,l,o,u,d=t.length,_=i&&i.x||0,c=i&&i.y||0,f=a&&a.x||0,p=a&&a.y||0,m=null!=n&&n?s._countSize(t,i,e-1,p):0;for(r=0;r<d;r++)l=t[r],o=null==i||0==i.width?l?l.getWidth():0:i.width,u=null==i||0==i.height?l?l.getHeight():0:i.height,0==o&&0==u||(null!=l&&\"x\"in l&&\"y\"in l&&(l.x=Math.round(_+o*h.x),l.y=Math.round(0==m?c:c+m)),c+=0==m?Math.round(u+p):Math.round(-1*(u+p)),(r+1)%e==0&&(c=null==i?0:i.y,_+=Math.round(o+f)))}static _tier(t,e,i,a,h,n){h=null==h?{x:0,y:0}:h;let r,l,o,u,d=t.length,_=i&&i.x||0,c=i&&i.y||0,f=a&&a.x||0,p=a&&a.y||0,m=null!=n&&n?s._countSize(t,i,e-1,f,!0):0;for(r=0;r<d;r++)l=t[r],o=null==i||0==i.width?l?l.getWidth():0:i.width,u=null==i||0==i.height?l?l.getHeight():0:i.height,0==o&&0==u||(null!=l&&\"x\"in l&&\"y\"in l&&(l.x=Math.round(0==m?_:_+m),l.y=Math.round(c+u*h.y)),_+=0==m?Math.round(o+f):Math.round(-1*(o+f)),(r+1)%e==0&&(_=null==i?0:i.x,c+=Math.round(u+p)))}static _countSize(t,e,i,s,a){if(i<1)return 0;if(a&&e&&0!=e.width)return Math.round(Math.abs(e.width*i+(i-1)*s));if(!a&&e&&0!=e.height)return Math.round(Math.abs(e.height*i+(i-1)*s));let h,n=0;for(h=0;h<i;h++)n+=a?Math.round(t[h].width):Math.round(t[h].height),n+=s;return n}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return u}));var s=i(3),a=i(36),h=i(56),n=i(51),r=i(37),l=i(17),o=i(0);class u{static addFiles(t){if(null==t)return;let e,i,s,l,o,d;for(e in t)if(i=t[e],o=e.split(\"@\")[0],null!=i)if(i instanceof Image)if(t.hasOwnProperty(o+\"@xml\")||t.hasOwnProperty(o+\"@json\")){if(d=t.hasOwnProperty(o+\"@xml\"),s=t[o+(d?\"@xml\":\"@json\")],null==s){u._cache[e]=i;continue}if(l=h.default.parseSheet(i,s,d),null==l||l.length<=0){u._cache[e]=i;continue}d?u._cache.hasOwnProperty(o+\"@xml\")&&delete u._cache[o+\"@xml\"]:u._cache.hasOwnProperty(o+\"@json\")&&delete u._cache[o+\"@json\"],l[0].width>0?n.default.addSources(l):u.addSources(l)}else u._cache[e]=i;else if(\"fnt\"==String(e.split(\"@\")[1]).toLowerCase()){if(l=h.default.parseFont(i),null==l)continue;r.default.add(l)}else i instanceof a.default?u._cache[e]=i.content:u._cache[e]=i}static addSources(t){if(null==t||t.length<1)return;let e,i,s;const a=[];for(e=0,i=t.length;e<i;e++)s=t[e],null!=s&&s instanceof l.default&&(s.width>0?a.push(s):u._cache[s.name]=s);a.length>0&&n.default.addSources(a)}static getSource(t,e){let i=u._cache[t];return i?(!e&&o.default.useCanvas||!i||(i instanceof Image?i=u.__clone_image(i):i instanceof l.default&&(i=i.clone(),i.image=u.__clone_image(i.image))),i):(i=n.default.findData(t),i=i&&1==i.length?i[0]:i,i)}static __clone_image(t){let e=s.default.create(Image);return e.src=t.src,e.width=t.width,e.height=t.height,t.crossOrigin&&(e.crossOrigin=t.crossOrigin),e}static removeSource(t){u._cache.hasOwnProperty(t)&&(\"function\"==typeof u._cache[t].dispose&&u._cache[t].dispose(),delete u._cache[t])}static clear(){u._cache={}}}u._cache={}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(39);class a{constructor(){this.actions=[],this.type_id=1,this.value=null}getValue(){if(this.value)return this.value;let t;for(t in this.value={},this)a.LIST.indexOf(t)>=0||\"function\"==typeof this[t]||\"actions\"==t||\"type_id\"==t||\"value\"==t||(this.value[t]=this[t],delete this[t]);return this.value}reset(){if(!this.value){let t;for(t in this)a.LIST.indexOf(t)>=0||\"function\"==typeof this[t]||\"actions\"==t||\"type_id\"==t||\"value\"==t||delete this[t]}this.type_id=1,this.actions=[],this.value=null}static INIT_CLASS(){if(a.IS_INIT)return;let t;for(t of(a.IS_INIT=!0,a.LIST))a.prototype[t]=s.default.create_func(t)}}a.LIST=[\"beginPath\",\"closePath\",\"stroke\",\"fill\",\"moveTo\",\"lineTo\",\"arcTo\",\"arc\",\"rect\",\"clip\",\"curveTo\",\"createPattern\",\"bezierCurveTo\",\"createLinearGradient\",\"createRadialGradient\",\"lineStyle\",\"clear\",\"beginFill\",\"endFill\",\"beginBitmapFill\",\"linearGradientFill\",\"radialGradientFill\",\"drawRect\",\"drawRoundRect\",\"drawPath\",\"drawCircle\",\"drawEllipse\",\"createPolygon\",\"drawSVGPath\",\"drawShape\",\"dispose\"],a.IS_INIT=!1},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(2),a=i(0);class h{constructor(t=\"json\"){this.responseType=t,this._responseType=null}get(t,e,i=null){return new Promise(function(s,a){this.getRequest(\"GET\",t,e,s,a,i)}.bind(this))}post(t,e,i=null){return h.POST_USE_FORMDATA&&(i||(i={}),i.useFormData=!0),new Promise(function(s,a){this.getRequest(\"POST\",t,e,s,a,i)}.bind(this))}getHttp(){let t;if(a.default.root.ActiveXObject){const e=[\"MSXML2.XMLHttp.6.0\",\"MSXML2.XMLHttp.5.0\",\"MSXML2.XMLHttp.4.0\",\"MSXML2.XMLHttp.3.0\",\"MSXML2.XMLHttp\",\"Microsoft.XMLHttp\"];for(let i=0;i<e.length;i++)try{return t=new ActiveXObject(e[i]),t}catch(t){}}else try{return t=new XMLHttpRequest,t}catch(t){}return!1}getRequest(t,e,i,a,n,r=null){let l,o,u,d=this,_=\"\",c=\"\",f=r&&1==r.useFormData;const p=!r||1!=r.async,m=d.getHttp();if(!m)return;if(r&&r.with_credentials)try{m.withCredentials=!0}catch(t){}if(i&&\"string\"!=typeof i&&!f)for(l in i){if(o=i[l],u=typeof o,\"number\"!=u&&(\"string\"!=u||0==o.indexOf(\"data:\")&&o.indexOf(\";base64,\")>0)){f=!0;break}_+=c+l+\"=\"+encodeURIComponent(o),c=\"&\"}if(!i||\"string\"==typeof i||!f||i instanceof FormData)!_&&i&&\"string\"==typeof i&&(_=i);else for(l in _=new FormData,i)o=i[l],u=typeof o,h.REMOVE_TYPE&&\"string\"==u&&0==o.indexOf(\"data:\")&&o.indexOf(\";base64,\")>0&&(o=o.split(\",\"),o.shift(),o=o.join(\",\")),_.append(l,o);\"get\"==t.toLowerCase()&&\"string\"==typeof _&&_.length>0&&(e+=(e.indexOf(\"?\")>=0?\"&\":\"?\")+_,_=null),m.open(t,e,p);const g=r&&r.headers?r.headers:null;if(g)for(let t in g)try{m.setRequestHeader(t,g[t])}catch(t){}if(m._responseType=s.default.getPathExt(e),d.responseType){try{m.responseType=d.responseType}catch(t){}m._responseType=d.responseType}m.onreadystatechange=function(){4==m.readyState&&(m.status>=200&&m.status<300||304===m.status?a&&(m._responseType==h.JSON?a(m.response||JSON.parse(m.responseText)):m._responseType==h.PROP?a(PropUtil.parseProperties(m.responseText)):m.responseType==h.ARRAY_BUFFER||m.responseType==h.BLOB||m.responseType==h.JSON?a(m.response):m.responseText.length>0?a(m.responseText):a(null)):n&&n(m.status))},m.send(_)}}h.TEXT=\"text\",h.JSON=\"json\",h.BLOB=\"blob\",h.PROP=\"prop\",h.ARRAY_BUFFER=\"arraybuffer\",h.REMOVE_TYPE=!1,h.POST_USE_FORMDATA=!1},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return r}));var s=i(16),a=i(0),h=i(1),n=i(28);class r extends s.default{constructor(){super(),this._type=\"video\"}getWidth(){return h.default.format(Math.abs(this.element.videoWidth*this.scaleX))}getHeight(){return h.default.format(Math.abs(this.element.videoHeight*this.scaleY))}init(){this.is_init||(super.init(),this.element.style.width=\"100%\",this.element.style.height=\"100%\",this.element.style.objectFit=\"fill\",this.element.removeAttribute(\"controls\"),a.default.os!=n.default.OS_PC&&(this.element.setAttribute(\"playsinline\",!0),this.element.setAttribute(\"x-webkit-airplay\",\"allow\"),this.element.setAttribute(\"webkit-playsinline\",!0)),a.default.isWeixin&&(this.element.setAttribute(\"x5-video-player-type\",\"h5\"),this.element.setAttribute(\"x5-video-player-fullscreen\",!0)))}_start_load(){super._start_load()&&\"poster\"in this.list[this.current]&&(this.element.poster=this.list[this.current].poster)}dispose(){this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),delete this.element),super.dispose()}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return r}));var s=i(7),a=i(1),h=i(19),n=i(3);class r{constructor(t=1,e=0,i=0,s=1,a=0,h=0){this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.setup(t,e,i,s,a,h)}get data(){return JSON.parse(this.toString())}set data(t){null!=t&&null!=t&&h.default.copyAttribute(this,t,!0)}setup(t,e,i,s,a,h){return this.a=null!=t?t:1,this.b=null!=e?e:0,this.c=null!=i?i:0,this.d=null!=s?s:1,this.tx=null!=a?a:0,this.ty=null!=h?h:0,this}concatTransform(t,e,i,s,h,n,r,l,o){let u=1,d=0;h%360!=0&&(u=a.default.cos(h),d=a.default.sin(h)),0!=n&&(this.tx-=n),0!=r&&(this.ty-=r),l||o?(this.prepend(u*i,d*i,-d*s,u*s,0,0),this.prepend(a.default.cos(o),a.default.sin(o),-a.default.sin(l),a.default.cos(l),t,e)):this.prepend(u*i,d*i,-d*s,u*s,t,e)}prepend(t,e,i,s,a,h){let n=this.tx;if(1!=t||0!=e||0!=i||1!=s){let a=this.a,h=this.c;this.a=a*t+this.b*i,this.b=a*e+this.b*s,this.c=h*t+this.d*i,this.d=h*e+this.d*s}return this.tx=n*t+this.ty*i+a,this.ty=n*e+this.ty*s+h,this}append(t,e,i,s,a,h){let n=this.a,r=this.b,l=this.c,o=this.d;return 1==t&&0==e&&0==i&&1==s||(this.a=t*n+e*l,this.b=t*r+e*o,this.c=i*n+s*l,this.d=i*r+s*o),this.tx=a*n+h*l+this.tx,this.ty=a*r+h*o+this.ty,this}concat(t){let e=t.a,i=t.b,s=t.c,a=t.d,h=this.tx,n=this.ty;if(1!=e||0!=i||0!=s||1!=a){let t=this.a,h=this.b,n=this.c,r=this.d;this.a=t*e+h*s,this.b=t*i+h*a,this.c=n*e+r*s,this.d=n*i+r*a}return this.tx=h*e+n*s+t.tx,this.ty=h*i+n*a+t.ty,this}rotate(t){let e=Math.cos(t),i=Math.sin(t),s=this.a,a=this.c,h=this.tx;return this.a=s*e-this.b*i,this.b=s*i+this.b*e,this.c=a*e-this.d*i,this.d=a*i+this.d*e,this.tx=h*e-this.ty*i,this.ty=h*i+this.ty*e,this}scale(t,e){return this.a*=t,this.d*=e,this.tx*=t,this.ty*=e,this}translate(t,e){return this.tx+=t,this.ty+=e,this}invert(){let t=this.a,e=this.b,i=this.c,s=this.d,a=this.tx,h=t*s-e*i;return this.a=s/h,this.b=-e/h,this.c=-i/h,this.d=t/h,this.tx=(i*this.ty-s*a)/h,this.ty=-(t*this.ty-e*a)/h,this}transformPoint(t,e,i){let a=t.x*this.a+t.y*this.c+this.tx,h=t.x*this.b+t.y*this.d+this.ty;return e&&(a=a+.5>>0,h=h+.5>>0),i?new s.default(a,h):(t.x=a,t.y=h,t)}applyDisplay(t){null==t&&(t={});let e=Math.atan(-this.c/this.d),i=Math.atan(this.b/this.a);return t.x=this.tx,t.y=this.ty,t.scaleX=i>-r.PI_Q&&i<r.PI_Q?this.a/Math.cos(i):this.b/Math.sin(i),t.scaleY=e>-r.PI_Q&&e<r.PI_Q?this.d/Math.cos(e):-this.c/Math.sin(e),t.rotation=a.default.isEquivalent(e,i)?a.default.getDegreesFromRadians(e):0,t}clone(){return n.default.create(r).setup(this.a,this.b,this.c,this.d,this.tx,this.ty)}toString(){return'{\"a\":'+this.a+',\"b\":'+this.b+',\"c\":'+this.c+',\"d\":'+this.d+',\"tx\":'+this.tx+',\"ty\":'+this.ty+\"}\"}toCSS(){return\"matrix(\"+this.a+\",\"+this.b+\",\"+this.c+\",\"+this.d+\",\"+this.tx+\",\"+this.ty+\")\"}reset(t=1,e=0,i=0,s=1,a=0,h=0){return this.setup(t,e,i,s,a,h)}dispose(){delete this.a,this.b,this.c,this.d,this.tx,this.ty}}r.PI_Q=Math.PI/4},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return r}));var s=i(22),a=i(18),h=i(1),n=i(0);class r{constructor(t=0,e=0,i=0,s=\"#000000\",h=1,n=0){this.shadowColor=a.default.formatColor(s),this.distance=t,this.shadowBlur=i,this.radius=n,this.angle=e,this.alpha=h,this.setShadowOffset()}setDistance(t){this.distance=t,this.setShadowOffset()}setShadowOffset(){const t=h.default.getRadiansFromDegrees(this.angle);this.shadowOffsetX=h.default.format(this.distance*Math.cos(t)),this.shadowOffsetY=h.default.format(this.distance*Math.sin(t))}show(t){let e;if(null==t||0==this.alpha||0==this.distance&&0==this.shadowBlur)return void(!t||t instanceof CanvasRenderingContext2D||(e=s.default.getQualifiedClassName(t),t.style[\"HTMLSpanElement\"==e||\"HTMLParagraphElement\"==e||\"HTMLInputElement\"==e||\"HTMLTextAreaElement\"==e?\"textShadow\":n.default.cssPrefix+\"BoxShadow\"]=\"\"));let i=this.alpha<1?a.default.colorToRGBA(this.shadowColor,this.alpha):this.shadowColor;if(e=s.default.getQualifiedClassName(t),t instanceof CanvasRenderingContext2D){if(0==this.distance&&0==this.shadowBlur)return;t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur,t.shadowColor=i}else{let s=\"HTMLSpanElement\"==e||\"HTMLParagraphElement\"==e||\"HTMLInputElement\"==e||\"HTMLTextAreaElement\"==e;if(\"SVGSVGElement\"==e){let e=t.getElementsByTagName(\"text\");e&&e.length>0&&(s=!0)}let a=s?\"textShadow\":n.default.cssPrefix+\"BoxShadow\";s||(t.style[n.default.cssPrefix+\"BorderRadius\"]=this.radius+\"px\"),t.style[a]=this.shadowOffsetX+\"px \"+this.shadowOffsetY+\"px \"+this.shadowBlur+\"px \"+i}}clone(){return new r(this.distance,this.angle,this.shadowBlur,this.shadowColor,this.alpha,this.radius)}toString(){return'{\"shadowColor\":\"'+this.shadowColor+'\",\"distance\":'+this.distance+',\"shadowBlur\":'+this.shadowBlur+',\"radius\":'+this.radius+',\"angle\":'+this.angle+',\"alpha\":'+this.alpha+\"}\"}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return f}));var s=i(11),a=i(34),h=i(15),n=i(8),r=i(4),l=i(9),o=i(1),u=i(5),d=i(0),_=i(7),c=i(69);class f extends c.default{constructor(){super(),this.back_time=.16,this.out_percent=.5,this.time_ratio=.0014,this.inertia_ratio=1.2,this.min_migration_length=1,this.max_migration_length=10,this.back_ease=\"easeoutquad\",this._orientation=0,this._overflow=!1,this._press_point=null,this._drag_area=null,this._inertia=!1,this._drag_time=0,this._initial_width=this._initial_height=this._mask_width=this._mask_height=0}setDimension(t,e,i,s,a){this._initial_width=this._mask_width=t,this._initial_height=this._mask_height=e,this._inertia=a,this._overflow=s,this.max_migration_length=Math.floor(1.2*Math.max(t,e)),null!=i&&(this._orientation=i),null!=this._register_instance&&this._control_orientation()}initialize(){this._register_instance&&this._register_instance instanceof s.default&&this._register_instance._updateSize(),null!=this._register_instance&&this._mask_width>0&&this._mask_height>0&&this._control_orientation()}_control_orientation(){if(this._mask_width>0&&this._mask_height>0){let t=this._mask?this._mask:new l.default;t.height=this._mask_height,t.width=this._mask_width,this.mask=t}0!=this._orientation&&(this._register_instance.addEventListener(h.default.RESIZE,d.default.delegate(this._reset_hold_control,this),this.name),this._reset_hold_control(null))}_reset_hold_control(t){let e=(this._orientation==a.default.isX||this._orientation==a.default.isXY)&&this._register_instance.width>this._mask_width||(this._orientation==a.default.isY||this._orientation==a.default.isXY)&&this._register_instance.height>this._mask_height;this.mouseEnabled=this._register_instance.mouseEnabled=e,e?this._register_instance.hasEventListener(r.default.MOUSE_DOWN)||this._register_instance.addEventListener(r.default.MOUSE_DOWN,d.default.delegate(this._mouse_drag_handler,this),this.name):(this._register_instance.removeEventListener(r.default.DRAG_MOVE,null,this.name),this._register_instance.removeEventListener(r.default.MOUSE_DOWN,null,this.name))}_mouse_drag_handler(t){let e,i=this.localToGlobal(0,0),s=this._register_instance.localToGlobal(0,0),h=this._orientation==a.default.isY?0:Math.max(0,this._register_instance.getWidth()-this._mask_width),o=this._orientation==a.default.isX?0:Math.max(0,this._register_instance.getHeight()-this._mask_height);this._overflow&&(e=new l.default(h>0?i.x-h:s.x,o>0?i.y-o:s.y,h,o)),h=h>0?h+(this._overflow?this._mask_width*this.out_percent:0):0,o=o>0?o+(this._overflow?this._mask_height*this.out_percent:0):0;let u=new l.default(h>0?i.x-h:s.x,o>0?i.y-o:s.y,h>0?h+(this._overflow?this._mask_width*this.out_percent:0):0,o>0?o+(this._overflow?this._mask_height*this.out_percent:0):0);this._inertia&&(this._drag_area=e||u,this._drag_time=(new Date).getTime(),this._press_point=new _.default(t.mouseX,t.mouseY)),n.default.remove(this._register_instance),this._register_instance.addEventListener(r.default.DRAG_MOVE,d.default.delegate(this._drag_move_handler,this),this.name),(this.stage?this.stage:Stage.current).startDrag(this._register_instance,u,!1,e),(this.stage?this.stage:Stage.current).addEventListener(r.default.MOUSE_UP,d.default.delegate(this._mouse_up_handler,this),this.name)}_drag_move_handler(t){this.dispatchEvent(new u.default(f.DRAG_MOVE))}_mouse_up_handler(t){if(t){let e,i,s=!0;if(this._overflow&&(e=this._register_instance.x>=0?0:this._register_instance.x<this._mask_width-this._register_instance.getWidth()?this._mask_width-this._register_instance.getWidth():this._register_instance.x,i=this._register_instance.y>=0?0:this._register_instance.y<this._mask_height-this._register_instance.getHeight()?this._mask_height-this._register_instance.getHeight():this._register_instance.y,e==this._register_instance.x&&i==this._register_instance.y||(s=!1,n.default.to(this._register_instance,this.back_time,{ease:this.back_ease,x:e,y:i}))),this._inertia&&s){e=t.mouseX-this._press_point.x,i=t.mouseY-this._press_point.y;let s=o.default.format(Math.sqrt(e*e+i*i)),a=s/((new Date).getTime()-this._drag_time);if(s>8){let t=this._count_speed(e,i,a);n.default.to(this._register_instance,t.time,{ease:this.back_ease,x:t.x,y:t.y})}}}else this._overflow&&n.default.remove(this._register_instance);this._drag_time=0,this._drag_area=null,this._press_point=null,(this.stage?this.stage:Stage.current).stopDrag(),(this.stage?this.stage:Stage.current).mouseTarget=null,(this.stage?this.stage:Stage.current).removeEventListener(r.default.MOUSE_UP,null,this.name),this._register_instance.removeEventListener(r.default.DRAG_MOVE,null,this.name)}_count_speed(t,e,i){let s={};if(i=o.default.clamp(i,.3,4.5),s.x=t*i*this.inertia_ratio,s.y=e*i*this.inertia_ratio,_.default.clamp(s,this.min_migration_length,this.max_migration_length),s.x=o.default.format(this._register_instance.x+s.x),s.y=o.default.format(this._register_instance.y+s.y),this._drag_area){let t=this.globalToLocal(l.default.innerPoint(this._drag_area,this.localToGlobal(s.x,s.y)));s.x=o.default.format(t.x),s.y=o.default.format(t.y)}let a=Math.sqrt((s.x-this._register_instance.x)*(s.x-this._register_instance.x)+(s.y-this._register_instance.y)*(s.y-this._register_instance.y));return s.time=Math.min(1,o.default.format(a/i*this.time_ratio)),s}moveTo(t,e){super.moveTo(t,e),this._register_instance&&this._register_instance.dispatchEvent(new u.default(u.default.RESIZE,{w:this._mask_width,h:this._mask_height},{x:this.x,y:this.y}))}render(){(1!=this.scaleX&&0!=this.scaleX||1!=this.scaleY&&0!=this.scaleY)&&this._recovery_scale(!0),super.render(...arguments)}_recovery_pos(){this._register_instance.x<0&&this._register_instance.getWidth()+this._register_instance.x<this._mask_width?this._register_instance.x=this._mask_width-this._register_instance.getWidth():this._register_instance.x>0&&this._register_instance.getWidth()+this._register_instance.x>this._mask_width&&(this._register_instance.x=0),this._register_instance.y<0&&this._register_instance.getHeight()+this._register_instance.y<this._mask_height?this._register_instance.y=this._mask_height-this._register_instance.getHeight():this._register_instance.y>0&&this._register_instance.getHeight()+this._register_instance.y>this._mask_height&&(this._register_instance.y=0)}_recovery_scale(t){this._mask_width=o.default.format(this._initial_width*this.scaleX),this._mask_height=o.default.format(this._initial_height*this.scaleY),t&&(this.scaleX=this.scaleY=1),this._recovery_pos(),this._mask&&(this._mask.width=this._mask_width,this._mask.height=this._mask_height,this.mask=this._mask),null!=this._register_instance&&(this._reset_hold_control(null),this._register_instance.resize=!0,this._register_instance.dispatchEvent(new u.default(u.default.RESIZE,{w:this._mask_width,h:this._mask_height},{x:this.x,y:this.y,r:this.rotation})))}updateSizeInArea(t,e){this._initial_height=this.instance.getHeight(),this._initial_width=this.instance.getWidth();let i=0;this._initial_width>t&&(this.scaleX=t/this._initial_width,i+=1),this._initial_height>e&&(this.scaleY=e/this._initial_height,i+=2),i<3&&1!=i&&(this._mask_width=this._initial_width),i<3&&2!=i&&(this._mask_height=this._initial_height),0==i&&this._recovery_scale()}reset(){this._register_instance&&(this._register_instance.hasEventListener(r.default.MOUSE_DOWN)&&(this._mouse_up_handler(null),this._register_instance.removeEventListener(r.default.MOUSE_DOWN,null,this.name)),this._register_instance.hasEventListener(h.default.RESIZE)&&this._register_instance.removeEventListener(h.default.RESIZE,null,this.name)),super.reset(),this.back_time=.16,this.out_percent=.5,this.time_ratio=.0014,this.inertia_ratio=1.2,this.min_migration_length=1,this.max_migration_length=10,this.back_ease=\"easeoutquad\",this._overflow=this._inertia=!1,this._press_point=this._drag_area=null,this._orientation=this._drag_time=this._initial_width=this._initial_height=this._mask_width=this._mask_height=0}dispose(){super.dispose(),delete this._initial_width,this._initial_height,this.time_ratio,this.min_migration_length,this.max_migration_length,this.inertia_ratio,this._drag_area,this._press_point,this._inertia,this._drag_time,this.back_ease,this.out_percent,this.back_time,this._orientation,this._overflow,this._mask_width,this._mask_height}}f.DRAG_MOVE=\"drag_container\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return l}));var s=i(2),a=i(19),h=i(44),n=i(1),r=i(6);class l{static addSources(t){if(null==t||t.length<1)return;let e,i,a;const n=[];for(e=0,i=t.length;e<i;e++)a=t[e],0!=a.width?(l._dic.hasOwnProperty(a.animation)||(l._dic[a.animation]=s.default.isEmpty(a.label)?[]:{},l._cache[a.animation]=[]),s.default.isEmpty(a.label)||l._dic[a.animation].hasOwnProperty(a.label)||(l._dic[a.animation][a.label]=[],l._cache[a.animation].push(a.label)),(s.default.isEmpty(a.label)?l._dic[a.animation]:l._dic[a.animation][a.label]).push(a)):n.push(a);n.length>0&&h.default.addSources(n)}static getInstance(t,e,i,s,a){let h=r.default.c(\"mc\",null,i),o=l.getData(t,e);return null==s&&null==a||(s=null==s?o.length:Math.min(o.length,Math.abs(s)),a=null==a?0:n.default.clamp(a,0,s),o=o.slice(a,s)),h.setFrames(o),h}static getData(t,e){if(e=e||\"\",!s.default.isEmpty(t)&&!s.default.isEmpty(e)&&l._dic.hasOwnProperty(e))return l._dic[e][t];e=s.default.isEmpty(e)?\"\":e;let i=l._dic[e];if(null==i||i instanceof Array)return i;t=s.default.isEmpty(t)?a.default.getLabels(i)[0]:t;const h=l._dic[e][t];return null==h||null==h?null:h}static findData(t,e){if(s.default.isEmpty(t)&&s.default.isEmpty(e))return null;let i=l.getData(t,e);if(i)return i;const a=s.default.getNumber(t);if(!a||a.length<1)return null;if(i=l.getData(a[0],e),!i)return null;for(let e of i)if(e.name==t)return e;return null}static removeData(t,e){if(e=e||\"\",!s.default.isEmpty(t)&&!s.default.isEmpty(e))return void delete l._dic[e][t];e=s.default.isEmpty(e)?a.default.getLabels(l._cache)[0]:e;return null!=l._dic[e]?s.default.isEmpty(t)?(delete l._dic[e],void delete l._cache[e]):void delete l._dic[e][t]:void 0}static clear(){l._dic={},l._cache={}}}l._dic={},l._cache={}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(16);class a extends s.default{constructor(){super(),this._type=\"audio\"}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"Language\",(function(){return s})),i.d(e,\"default\",(function(){return a}));class s{}s.CN=\"zh\",s.JA=\"ja\",s.EN=\"en\",s.TW=\"zh-tw\",s.HK=\"zh-hk\",s.FR=\"fr\",s.DE=\"de\",s.KO=\"ko\",s.ES=\"es\",s.SV=\"sv\",s.IT=\"it\";class a{static set(t,e,i){StringUtil.isEmpty(t)||StringUtil.isEmpty(e)||(i=null==i?a.language:i,a.dic.hasOwnProperty(i)||(a.dic[i]={}),a.dic[i][t]=e)}static get(t,e=null){return e=e||a.language,a.dic.hasOwnProperty(e)&&null!=a.dic[e]&&a.dic[e].hasOwnProperty(t)?a.dic[e][t]:\"\"}static format(t){return(t=t.toLowerCase())==s.TW||t==s.HK?t:t.split(\"-\")[0]}static clear(){a.dic={}}}a.dic={},a.language=s.CN},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static encode(t){let e,i=t.length,s=String.fromCharCode(t.charCodeAt(0)+i);for(e=1;e<i;e++)s+=String.fromCharCode(t.charCodeAt(e)-t.charCodeAt(e-1));return escape(s)}static decode(t){let e,i=(t=unescape(t)).length,s=String.fromCharCode(t.charCodeAt(0)-i);for(e=1;e<i;e++)s+=String.fromCharCode(t.charCodeAt(e)+s.charCodeAt(e-1));return s}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(3),a=i(31);class h{constructor(){this.canvas=this.context=null,a.default.create(this),h.COUNT++}setSize(t,e){0!=t&&0!=e&&(this.canvas.width=MathUtil.int(Math.abs(t)),this.canvas.height=MathUtil.int(Math.abs(e)))}clear(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.restore()}reset(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.clear()}dispose(){reset(),h.COUNT--,this.canvas=this.context=null}static get instance(){return h.COUNT>=h.MAX&&s.default.length(\"RenderObject\")<1?null:s.default.create(h)}}h.COUNT=0,h.MAX=50},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return l}));var s=i(17),a=i(3),h=i(65),n=i(36),r=i(44);class l{static parseSheet(t,e,i){return i?l._xml2sheet(t,e):l._json2sheet(t,e.content)}static _xml2sheet(t,e){if(null==t||null==e)return;let i,h,n,r,l,o,u,d=[],_=e.documentElement.childNodes;for(o=0,l=_.length;o<l;o++)if(h=_[o].attributes,!(null==h||h.length<=0)){for(n={},u=0;u<h.length;u++)r=h[u],n[r.nodeName]=r.value;i=a.default.create(s.default),i.setup(t,n),d.push(i)}return d}static _json2sheet(t,e){if(null==t||null==e)return;let i,h,n,r,l,o,u=[];for(h in e)if(\"meta\"!=h)for(i in l=e[h],l)n=l[i],n.name=i,r=a.default.create(s.default),r.setup(t,n,!0),0==r.width&&0==r.height&&!StringUtil.isEmpty(r.label)&&o&&r.label==o.label&&(r.height=r.rect.height,r.width=r.rect.width,0==o.width&&0==o.height&&(o.height=o.rect.height,o.width=o.rect.width)),u.push(r),o=r;return u}static parseFont(t){if(null==t)return null;let e=new h.default,i=n.default.parseXML(t,\"text/xml\"),o=i.getElementsByTagName(\"info\")[0],u=i.getElementsByTagName(\"common\")[0],d=i.getElementsByTagName(\"pages\");if(d.length<=0)return i.body&&trace(\"[ERROR] AssetUtil.parseFont() \"+i.body.innerText),null;let _=d[0].childNodes,c=i.getElementsByTagName(\"chars\")[0].childNodes;l.copyAttributes(e.info,o),l.copyAttributes(e.common,u);let f,p,m,g,y,v,x,b=_.length;for(e.info.size=Math.abs(e.info.size),e.name=e.info.face,e.chars={},e.pages=[],e.images=[],m=0;m<b;m++)p=_[m],\"page\"==p.nodeName&&(y=Number(p.getAttribute(\"id\")),g=p.getAttribute(\"file\"),StringUtil.isEmpty(g)||(e.pages[y]=g,g=Loader.getName(g),!StringUtil.isEmpty(g)&&r.default._cache.hasOwnProperty(g)?(e.images[y]=r.default._cache[g],delete r.default._cache[g]):trace(\"[ERROR] AssetUtil.parseFont can't find asset of \"+g)));for(m=0,b=c.length;m<b;m++)p=c[m],\"char\"==p.nodeName&&(v=l.copyAttributes({},p),v.name=e.name+\"|\"+v.xadvance+\" \"+v.id,v.frameX=-v.xoffset,v.frameY=-v.yoffset,x=e.images[v.page],null!=x&&(f=a.default.create(s.default),f.setup(x,v),f.label=Number(f.label),e.chars[f.index]=f));return e}static copyAttributes(t,e){let i,s,a,h,n=e.attributes;for(i=0,s=n.length;i<s;i++)a=n[i],h=a.value,t[a.name]=isNaN(h)?h:Number(h);return t}static asset2diplay(t){let e,i,s,a,h=[];for(e=0,i=t.length;e<i;e++)s=t[e],a=Factory.c(\"do\"),a.setInstance(s),h.push(a);return h}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return c}));var s=i(29),a=i(19),h=i(2),n=i(67),r=i(36),l=i(5),o=i(16),u=i(0),d=i(47),_=i(52);class c extends s.default{constructor(t=null,e=null,i=null,s=null){super(),this.reset(),this.once=!0,this.locale=e,this.fontDic=this.fontFormat=null,t&&this.parse(t,i,s)}parse(t,e,i){if(null!=t)return t instanceof Array?(this._list=t,void(this._total=this._list.length)):void(e&&\"string\"==typeof t?this.load(t)&&(this._feedback=\"string\"==typeof e?e:{c:e,t:i}):this._data=t)}errorHandler(t){if(t&&t.target&&(t.target instanceof Image?(delete this._files[this._current_name],t.target.onerror=null,t.target.onload=null):t.target instanceof r.default?(t.target.removeEventListener(l.default.ERROR,this.__error_handler),t.target.removeEventListener(l.default.COMPLETE,this.__load_handler)):(t.target.removeEventListener(o.default.MEDIA_ERROR,this.__error_handler),t.target.removeEventListener(o.default.MEDIA_LOAD_COMPLETE,this.__load_handler))),this.dispatchEvent(new l.default(c.STEP_ERROR,this._current_name,this._current_label)),trace(\"[ERROR] Loading path by\",this._current_name),this._list.length>0)return this._loaded++,void this.load();this.dispatchEvent(new l.default(c.LOAD_COMPLETE,this._files,this._current_label))}loadHandler(t){if(this._loaded++,null==this._list)return;let e,i;if(t&&(t.target instanceof Image?(t.target.onload=null,t.target.onerror=null):t.target instanceof r.default?(t.target.removeEventListener(l.default.ERROR,this.__error_handler),t.target.removeEventListener(l.default.COMPLETE,this.__load_handler)):t.target?(t.target.removeEventListener(o.default.MEDIA_ERROR,this.__error_handler),t.target.removeEventListener(o.default.MEDIA_LOAD_COMPLETE,this.__load_handler)):t instanceof FontFace&&document.fonts.add(t)),this._list.length>0){for(this.hasEventListener(c.LOAD_PROCESS)&&this.dispatchEvent(new l.default(c.LOAD_PROCESS,Math.ceil(100*this._loaded/this._total))),e=this._files[this._current_name];!this.load()&&this._list.length>0;)trace(\"[WARM] Loader miss path by\",this._current_name),this._loaded++,this.load();e?this.dispatchEvent(new l.default(c.STEP_COMPLETE,e,this._current_label)):this.dispatchEvent(new l.default(c.STEP_ERROR,this._current_name,this._current_label))}else{if(null==this._feedback){let t=this._current_name,i=this._current_label;e=this._files,this.reset(!0),this.dispatchEvent(new l.default(c.STEP_COMPLETE,e[t],i)),this.dispatchEvent(new l.default(c.LOAD_COMPLETE,e,i))}else{if(i=this._feedback,\"string\"==typeof this._feedback)return e=this._files[this._current_name].content,this.reset(!0),this.parse(e),void this.load(i);e=this._files[this._current_name],this.reset(!0);try{return void i.c.call(i.t,e,this)}catch(t){trace(\"[ERROR] Loader:loadHandler()\",t)}}null==this._data&&this.once&&this.dispose()}}loadXML(t,e,i){let s;if(u.default.root.ActionXObject){let t=[\"Microsoft.XMLHTTP\",\"Miscrosoft.XmlDom\",\"MSXML.DOMDocument\"];for(let e=0;e<t.length;e++)try{s=new ActionXObject(t[e]);break}catch(t){}}else u.default.root.XMLHttpRequest&&(s=new XMLHttpRequest);null!=s&&(s.onreadystatechange=function(){4==s.readyState&&(200==s.status&&(i._files[e]=s.responseXML?s.responseXML:s.response),i.loadHandler())},s.open(\"GET\",t,!0),s.send(null))}load(t=null){if(null==t&&null==this._list)return!1;if(\"string\"==typeof t?(this._loaded=0,this._data&&this._data.hasOwnProperty(t)?(this._list=this._data[t],this._total=this._list.length,this._current_label=t):!h.default.isEmpty(t)&&t.indexOf(\".\")>0&&(this._list=[t],this._total=1)):this.parse(t),null==this._list)return!1;if(0==this._list.length)return this.dispatchEvent(new l.default(c.LOAD_COMPLETE,this._files,this._current_label)),!1;null==this.__load_handler&&(this.__load_handler=u.default.delegate(this.loadHandler,this)),null==this.__error_handler&&(this.__error_handler=u.default.delegate(this.errorHandler,this));let e,i,s,f,p,m,g,y,v=this._list.shift();if(\"object\"==a.default.getType(v)?(e=v.hasOwnProperty(\"url\")?v.url:v.data,s=h.default.getPathExt(e),i=v.hasOwnProperty(\"label\")?v.label:v.name,i=h.default.isEmpty(i)?c.getName(e):i):(e=String(v),s=h.default.getPathExt(e),i=c.getName(e)),h.default.isEmpty(e)||h.default.isEmpty(s))return!1;switch(e=this.locale&&!h.default.exist(e,\"http://\",\"https://\")?this.locale+e:e,trace(\"[LOADING]\",i,\"(\"+(this._loaded+1)+\"/\"+this._total+\")\"),this._current_name=i,s){case\"mp3\":case\"wav\":case\"wave\":p=new(u.default.canUseWebAudio&&e.indexOf(\",\")<0?n.default:_.default),p instanceof _.default?p.load(e):p.load(e)||(p.dispose(),p=new _.default,p.load(e)),this._files[i]=p,p.addEventListener(o.default.MEDIA_ERROR,this.__error_handler),p.addEventListener(o.default.MEDIA_LOAD_COMPLETE,this.__load_handler);break;case\"xml\":case\"fnt\":case\"svg\":this.loadXML(e,i,this);break;case\"bmp\":case\"ttf\":case\"eot\":case\"otf\":case\"woff\":case\"woff2\":try{g=new FontFace(this.fontDic?this.fontDic[h.default.getFileName(e)]:h.default.getFileName(e),\"url('\"+e+\"')\"+(h.default.isEmpty(this.fontFormat)?\"format('\"+(\"eot\"==s?\"embedded-opentype\":\"ttf\"==s?\"truetype\":s)+\"')\":this.fontFormat)),this._files[i]=g,g.loaded.then(this.__load_handler).catch(this.__error_handler),g.load()}catch(t){this.errorHandler()}break;case\"json\":case\"txt\":case\"js\":case\"css\":case\"prop\":f=new r.default,this._files[i]=f,f.addEventListener(l.default.ERROR,this.__error_handler),f.addEventListener(l.default.COMPLETE,this.__load_handler),f.load(e);break;case\"mp4\":case\"webm\":case\"ogg\":case\"mov\":m=new d.default,this._files[i]=m,m.addEventListener(o.default.MEDIA_ERROR,this.__error_handler),m.addEventListener(o.default.MEDIA_LOAD_COMPLETE,this.__load_handler),m.load(e);break;case\"jpeg\":case\"jpg\":case\"gif\":case\"png\":case\"webp\":case\"bmp\":if(y=new Image,y.style.display=\"none\",c.CORS&&e&&0==e.indexOf(\"http\")&&(y.crossOrigin=u.default.crossdomain,c.CORS>1&&(e=(e.indexOf(\"?\")<0?e:e.split(\"?\")[0])+\"?\"+Math.random())),y.src=e,this._files[i]=y,y.complete||y.naturalWidth||y.width){this.loadHandler({target:y});break}y.onload=this.__load_handler,y.onerror=this.__error_handler;break;default:return!1}return!0}reset(t){this._files={},this._total=this._loaded=0,this.fontFormat=this.fontDic=null,this._feedback=this._list=this._current_name=this._current_label=null,t||(this.__error_handler=this.locale=this._data=this.__load_handler=null)}dispose(){super.dispose(),this.reset(),delete this.__error_handler,delete this._current_label,delete this.__load_handler,delete this._current_name,delete this._feedback,delete this.fontDic,delete this._loaded,delete this._total,delete this._files,delete this.locale,delete this._list,delete this._data,delete this.once}static getName(t){if(h.default.isEmpty(t))return null;let e,i=!1;try{e=h.default.getFileName(t,1).split(\"/\")}catch(e){i=!0,trace(\"[WARN] Loader.getName by\",t)}if(null==e||i)return h.default.getFileName(t)+\"@\"+h.default.getPathExt(t);let s=e.pop();for(;h.default.isEmpty(s)&&e.length>0;)s=e.pop();return s+\"_\"+h.default.getFileName(t)+\"@\"+h.default.getPathExt(t)}}c.CORS=0,c.LOAD_PROCESS=\"loadProcess\",c.LOAD_COMPLETE=\"loadComplete\",c.STEP_ERROR=\"stepError\",c.STEP_COMPLETE=\"stepComplete\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{}s.NORMAL=\"\",s.MULTIPLY=\"multiply\",s.SCREEN=\"screen\",s.OVERLAY=\"overlay\",s.DARKEN=\"darken\",s.LIGHTEN=\"lighten\",s.COLOR_DODGE=\"color-dodge\",s.COLOR_BURN=\"color-burn\",s.HARD_LIGHT=\"hard-light\",s.SOFT_LIGHT=\"soft-light\",s.DIFFERENCE=\"difference\",s.EXCLUSION=\"exclusion\",s.HUE=\"hue\",s.SATURSTION=\"saturation\",s.COLOR=\"color\",s.LUMINOSITY=\"luminosity\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(54);class a{constructor(){this.store=window.localStorage||window.sessionStorage||new h}setItem(t,e,i=3){e=(i*=36e5)?{data:e,time:(new Date).getTime(),exp:i}:e,e=s.default.encode(\"object\"==typeof e?JSON.stringify(e):e),this.removeItem(t),this.store.setItem(t,e)}getItem(t){let e,i=this.store.getItem(t);if(null==i)return null;i=s.default.decode(i);try{i=JSON.parse(i)}catch(t){}return\"string\"!=typeof i&&i.hasOwnProperty(\"time\")?i.exp>0&&(new Date).getTime()-i.time>i.exp?this.removeItem(t):e=i.data:e=i,e}removeItem(t){this.store.removeItem(t)}clear(t=null,e=-1,i=null){if(!t&&!i)return this.store.clear();if(!window.localStorage&&!window.sessionStorage)return this.store.clear(t,e,i);for(let s in this.store)i&&i.indexOf(s)>=0||t&&(e<0?s.indexOf(t)<0:s.indexOf(t)!=e)||this.removeItem(s)}}class h{constructor(){}setItem(t,e){let i=new Date;i.setDate(i.getDate()+30),document.cookie=t+\"=\"+escape(e)+\";expires=\"+i.toGMTString()}getItem(t){if(document.cookie.length<=0)return\"\";let e=document.cookie.indexOf(t+\"=\");if(-1!=e){e=e+t.length+1;let i=document.cookie.indexOf(\";\",e);return-1==i&&(i=document.cookie.length),unescape(document.cookie.substring(e,i))}return\"\"}removeItem(t){let e=new Date;e.setTime(e.getTime()-1);let i=this.getItem(t);null!=i&&\"\"!=i&&(document.cookie=t+\"=\"+i+\";expires=\"+e.toGMTString())}clear(t=null,e=-1,i=null){let s,a,h=document.cookie.match(/[^ =;]+(?=\\=)/g);if(h)for(s=h.length;s>0;s--)a=h[s],i&&i.indexOf(a)>=0||t&&(e<0?a.indexOf(t)<0:a.indexOf(t)!=e)||(document.cookie=h[s]+\"=0;expires=\"+new Date(0).toUTCString())}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return u}));var s=i(17),a=i(3),h=i(21),n=i(2);const r=Symbol(\"rate\"),l=Symbol(\"reversePlay\"),o=Symbol(\"currentFrame\");class u extends h.default{constructor(t=null){super(),this.label,this._frames=[],this._paused=!0,this._replay_time=0,this[l]=!1,this._count=this[r]=1,this._frame=1,this[o]=1,t&&this.setFrames(t)}get totalFrame(){return this._frames.length}get currentFrame(){return this[o]}get rate(){return this[r]}set rate(t){null==t||null==t||t<=1||t==this[r]||(this[r]=Math.abs(MathUtil.int(t)))}get reverse(){return this[l]}set reverse(t){null!=t&&null!=t&&t!=this[l]&&(this[l]=Boolean(t))}clearAllFrames(){if(null==this._frames)return;let t;for(;this._frames.length>0;)t=this._frames.pop(),this._remove_frame(t);this._frame=this[o]=1,this._paused=!0}setFrames(t){if(null==t||!(t instanceof Array)||t.length<=0)return;let e,i=t.length;for(e=0;e<i;e++)this.addFrame(t[e]);this._frames.length>0&&this.gotoAndPlay(1)}addFrame(t,e){if(null==t||null==t)return;if(!(t instanceof s.default||t instanceof h.default))return;null==e?this._frames.push(t):this._frames.splice(e,0,t);const i=t instanceof h.default;this.width=i?t.width:Math.max(this.width,t.frame_width,t.width),this.height=i?t.height:Math.max(this.height,t.frame_height,t.height),this.name=i?this.name:t.animation+(n.default.isEmpty(t.label)?\"\":\":\"+t.label)}getFrame(t){return t>=0&&t<this._frames.length?this._frames[t]:null}removeFrame(t){if(t<0||t>=this._frames.length)return;let e=this._frames.splice(t,1);this._remove_frame(e)}_remove_frame(t){null!=t&&null!=t&&(t instanceof s.default&&t.isClone?a.default.remove(t):t instanceof h.default&&t.removeFromParent(!0))}play(t){this._replay_time=null==t?0:t,this._paused=!1}stop(){this._paused=!0}gotoAndStop(t){if(null!=this._frames){if(\"string\"==typeof t){let e;const i=this._frames.length;for(e=0;e<i;e++)if(this._frames[e]&&this._frames[e].label==t){t=Number(e)+1;break}}t<1||t>this._frames.length||(this._frame=t,this._paused=!0)}}gotoAndPlay(t){this.gotoAndStop(t),this._paused=!1}nextFrame(){this._frame=this[l]?this[o]<=1?this._frames.length:this[o]-1:this[o]>=this._frames.length?1:this[o]+1}render(){if(this.visible&&!(this.alpha<=0)){if((!this._paused||null==this.instance||this._frame!=this[o])&&this._frames.length>0){this.label=this.name,this[o]=this._frame;let t=this._frames[this[o]-1];t&&t instanceof h.default?(this.setInstance(t.instance),this.height=t.getHeight(),this.width=t.getWidth()):this._frames[this[o]-1]=this.setInstance(t);let e=this.label;this.label=this.name,this.name=e,this._paused||(this._count--,this._count<=0&&(this.nextFrame(),(this[l]&&this[o]<=1||!this[l]&&this[o]>=this._frames.length)&&this._replay_time>0&&(this._replay_time--,0==this._replay_time&&(this._paused=!0,this.dispatchEvent(new Event(Event.PLAY_OVER))))),this._count=this._count<=0?this[r]:this._count)}super.render(...arguments)}}reset(t=null){super.reset(),this.clearAllFrames(),this.label=null,this._paused=!0,this._replay_time=0,this[l]=!1,this._frame=this._count=this[r]=this[o]=1,t&&this.setFrames(t)}dispose(){super.dispose(),delete this._frame,this._count,this[r],this[l],this._replay_time,this._frames,this._paused,this[o],this.label}toString(){return u.name}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return u}));var s=i(17),a=i(5),h=i(26),n=i(21),r=i(3),l=i(2);const o=Symbol(\"reversePlay\");class u extends h.default{constructor(t=null){super(),this.label,this._frames=[],this._paused=!0,this._replay_time=0,this[o]=!1,this._frame=this._current_frame=1,t&&this.setFrames(t)}get reverse(){return this[o]}set reverse(t){null!=t&&null!=t&&t!=this[o]&&(this[o]=Boolean(t))}get totalFrame(){return this._frames.length}clearAllFrames(){if(null==this._frames)return;let t;for(;this._frames.length>0;)t=this._frames.pop(),this._remove_frame(t);this._frame=this._current_frame=1,this._paused=!0}setFrames(t){if(null!=t){for(let e in t)this.addFrame(t[e]);this._frames.length>0&&this.gotoAndPlay(1)}}addFrame(t,e){null!=t&&null!=t&&t instanceof s.default&&(null==e?this._frames.push(t):this._frames.splice(e,0,t),this.width=Math.max(this.width,t.frame_width,t.width),this.height=Math.max(this.height,t.frame_height,t.height))}getFrame(t){return t>=0&&t<this._frames.length?this._frames[t]:null}removeFrame(t){if(t<0||t>=this._frames.length)return;let e=this._frames.splice(t,1);this._remove_frame(e)}_remove_frame(t){null!=t&&null!=t&&(t instanceof s.default&&t.isClone?r.default.remove(t):t instanceof n.default&&t.removeFromParent(!0))}play(t){this._replay_time=null==t?0:t,this._paused=!1}stop(){this._paused=!0}gotoAndStop(t){if(null!=this._frames){if(\"string\"==typeof t){let e;const i=this._frames.length;for(e=0;e<i;e++)if(this._frames[e]&&this._frames[e].label==t){t=Number(e)+1;break}}t<1||t>this._frames.length||(this._frame=t,this._paused=!0)}}gotoAndPlay(t){this.gotoAndStop(t),this._paused=!1}nextFrame(){this._frame=this[o]?this._current_frame<=1?this._frames.length:this._current_frame-1:this._current_frame>=this._frames.length?1:this._current_frame+1}render(t){if(!this.visible||this.alpha<=0)super.render(t);else{if((!this._paused||null==this.instance||this._frame!=this._current_frame)&&this._frames.length>0){this._current_frame=this._frame;const t=this._frames[this._current_frame-1];this.setInstance(t),this.label=t.animation+(l.default.isEmpty(t.label)?\"\":\":\"+t.label),this._paused||(this.nextFrame(),(this[o]&&this._current_frame<=1||!this[o]&&this._current_frame>=this._frames.length)&&this._replay_time>0&&(this._replay_time--,0==this._replay_time&&(this._paused=!0,this.dispatchEvent(new a.default(a.default.PLAY_OVER)))))}super.render(t)}}reset(){super.reset(),this.clearAllFrames(),this.label=null,this._paused=!0,this._replay_time=0,this[o]=!1,this._frame=this._current_frame=1}dispose(){super.dispose(),delete this._frame,this[o],this._frames,this._paused,this._current_frame,this.label,this._replay_time}toString(){return u.name}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(21),a=i(4),h=i(2),n=i(19),r=i(18),l=i(0);class o extends s.default{constructor(t=\"\",e=\"Microsoft YaHei,Arial\",i=\"#000000\",s=12,a=\"fill\",n=\"#000000\",l=0){super(),this._text=t,this._font=e,this._size=s,this._leading=l,this._fill_type=a,this._color2=n,this._color=r.default.formatColor(i),this._lineHeight=1,this._has_update=!0,this._textAlign=\"left\",this._textBaseline=\"middle\",this._underline=this._italic=this._bold=!1,this._lineWidth=null,this._fontMetrics=null,this.autoSize=!0,this.scrollHeight=0,this.mouseEnabled=!1,this._writingMode=!1,this.wordBreak=!0,this.width=0,h.default.isEmpty(this._text)||this._update()}get has_update(){return this._has_update}set has_update(t){this._has_update!=t&&(this._has_update=t,t&&this.__checkDisplayUpdate())}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth!=t&&(this._lineWidth=t,this.has_update=!0)}get italic(){return this._italic}set italic(t){this._italic!=t&&(this._italic=t,this.has_update=!0)}get writingMode(){return this._writingMode}set writingMode(t){this._writingMode!=t&&(this._writingMode=t,this.has_update=!0)}get underline(){return this._underline}set underline(t){this._underline!=t&&(this._underline=t)}get bold(){return this._bold}set bold(t){this._bold!=t&&(this._bold=t,this.has_update=!0)}get text(){return this._text}set text(t){this._text!=t&&(this._text=t,this.has_update=!0)}get size(){return this._size}set size(t){this._size!=t&&(this._size=t,this.has_update=!0,this._fontMetrics=o.getFontMetrics(this.font,this.size))}get color(){return this._color}set color(t){h.default.isEmpty(t)||(t=r.default.formatColor(t),this._color!=t&&(this._color=t,this.has_update=!0))}get strokeColor(){return this._color2}set strokeColor(t){t=r.default.formatColor(t),this._color2!=t&&(this._color2=t,this.has_update=!0)}get font(){return this._font}set font(t){this._font!=t&&(this._font=t,this.has_update=!0,this._fontMetrics=o.getFontMetrics(this.font,this.size))}get fillType(){return this._fill_type}set fillType(t){this._fill_type!=t&&(this._fill_type=t,this.has_update=!0)}get align(){return this._textAlign}set align(t){this._textAlign!=t&&(this._textAlign=t,this.has_update=!0)}get leading(){return this._leading}set leading(t){this._leading!=t&&(this._leading=t,this.has_update=!0)}get lineHeight(){return this._lineHeight}set lineHeight(t){null==t||t<=0||this._lineHeight==t||(this._lineHeight=t,this.has_update=!0)}get baseLine(){return this._textBaseline}set baseLine(t){this._textBaseline!=t&&(this._textBaseline=t,this.has_update=!0)}getTextWidth(t=null){const e=this.stage?this.stage.context:l.default.context;return t=null==t?this._text:t,e&&this.context?(e.font!=this.context.font&&(e.font=this.context.font),e.measureText(t).width):0}get stage(){return this._stage}set stage(t){this._stage!=t&&(this._stage&&this._stage.removeEventListener(a.default.UPDATE,null,this.name),this._stage=t,this._stage&&this._stage.addEventListener(a.default.UPDATE,l.default.delegate(this.__update_size,this),this.name))}_update(){this.context.reset(),this.context.font=(this._italic?\"italic \":\"\")+(this._bold?\"bold \":\"\")+(\"number\"==n.default.getType(this._size)?this._size+\"px \":this._size+\" \")+this._font,this._writingMode?this._vertical_text():this._horizontal_text(),this.has_update=!1}_vertical_text(){null==this._fontMetrics&&(this._fontMetrics=o.getFontMetrics(this.font,this.size));const t=this._text.split(/\\r\\n|\\r|\\n|<br(?:[ \\/])*>/);let e,i,s,a,h,n,r,l=t.length,u=this._fontMetrics.height*this._lineHeight*.5,d=u,_=this.autoSize&&this._lineWidth?this._lineWidth:this.height,c=.5*this._fontMetrics.height,f=this._fontMetrics.height,p=0,m=this.autoSize?0:this.width-.5*this.size,g=\"start\"==this._textAlign||\"left\"==this._textAlign,y=g&&!this.autoSize?null:[];for(s=0;s<l&&(h=t[s],n=0,this.autoSize||!(m<=this._leading));s++){let t=g&&!this.autoSize?null:[];for(a=0,r=h.length;a<r;a++)if(i=h.charAt(a),i&&0!=i.length){if(e=!i.match(/[\\u4e00-\\u9fa5]/),n=this.getTextWidth(i),p=Math.max(p,n),c+d>=_-this._leading&&(t&&t.length&&(y.push({d:t,r:{x:m-p,y:t[0].y,w:p,h:t[t.length-1].y-t[0].y+f+this._leading}}),t=[]),d=u,m-=this._fontMetrics.height*this._lineHeight,!this.autoSize&&m<=this._leading))break;t?t.push({w:i,x:m-n,y:c+d,b:e}):this._draw(i,c+d,m-n,e),d=d+(e?n:f)+this._leading}t&&t.length&&(y.push({d:t,r:{x:m-p,y:t[0].y,w:p,h:t[t.length-1].y-t[0].y+f+this._leading}}),t=[]),d=u,m-=p*this._lineHeight}if(y)for(m=Math.abs(y[y.length-1].d[0].x)+this._leading,u=this._fontMetrics.height+this._leading,s=0,l=y.length;s<l;s++)for(h=y[s],this.context.clearRect(h.r.x,h.r.y,h.r.w,h.r.h),c=u+(\"center\"==this._textAlign?.5*(_-h.r.h):g?0:_-h.r.h),d=h.d[0].y,a=0,r=h.d.length;a<r;a++)i=h.d[a],this._draw(i.w,i.y-d+c,m+i.x,i.b)}_horizontal_text(){null==this._fontMetrics&&(this._fontMetrics=o.getFontMetrics(this.font,this.size));const t=this._text.split(/\\r\\n|\\r|\\n|<br(?:[ \\/])*>/);let e,i,s,a=t.length,h=this._fontMetrics.height*this._lineHeight,n=this._fontMetrics.height*this._lineHeight*.5;this.autoSize&&(this.width=this._lineWidth);const r=this.autoSize&&this._lineWidth?this._lineWidth:this.width,l=\"start\"==this._textAlign||\"left\"==this._textAlign;for(e=0;e<a&&(s=t[e],i=0,this.autoSize||!(n>=this.height-this._leading));e++){let t=l?null:[];if(this.wordBreak)for(let e=0,a=s.length;e<a;e++){const a=s.charAt(e),o=this.getTextWidth(a)+this._leading;if(i>0&&r>0&&r<=i+o){if(!l&&t.length){const e=Math.floor((r-i-this._leading)*(\"center\"==this._textAlign?.5:1));t.forEach(t=>this._draw(t.l,t.y,t.x+e)),t=[]}if(n+=h,i=0,!this.autoSize&&n>=this.height-this._leading)break}l?this._draw(a,n,i):t.push({l:a,x:i,y:n}),i+=o}else{const e=s.split(/([^\\x00-\\xff]|\\b)/);for(let s=0,a=e.length;s<a;s++){const a=e[s];if(!a||0==a.length)continue;const o=this.getTextWidth(a)+a.length*this._leading;if(i>0&&r>0&&r<=i+o){if(!l&&t.length){const e=Math.floor((r-i-this._leading)*(\"center\"==this._textAlign?.5:1));t.forEach(function(t){this._draw(t.l,t.y,t.x+e)}.bind(this)),t=[]}n+=h,i=0}if(!this.autoSize&&n>=this.height-this._leading)break;for(let e=0,s=a.length;e<s;e++){const s=a[e];l?this._draw(s,n,i):t.push({l:s,x:i,y:n}),i+=this.getTextWidth(s)+this._leading}}}if(!l&&t.length){const e=Math.floor((r-i-this._leading)*(\"center\"==this._textAlign?.5:1));t.forEach(function(t){this._draw(t.l,t.y,t.x+e)}.bind(this))}n+=h}this.scrollHeight=n,this.autoSize&&(this.height=n)}_draw(t,e=0,i=0,s=!1){if(this.context.save(),this.context.textBaseline=this._textBaseline,this._writingMode&&s){const s=o.specialCode.indexOf(t.charCodeAt(0))>=0;this.context.translate(s?i:i-.5*this.size+(t.match(/[),!,t,f,i,l,j,I,J,r,I,F,E,I,Y]/)?-.25*this.size:t.match(/[O,@,%,&,q,w,m,W,M,Q,N,p]/)?.3*this.size:0),e-this.size),this.context.rotate(Math.PI/180*90),this.context.textBaseline=\"bottom\",i=e=0}\"fill\"!=this._fill_type&&\"both\"!=this._fill_type||(this.context.fillStyle=this._color,this.context.fillText(t,i,e)),\"stroke\"!=this._fill_type&&\"both\"!=this._fill_type||(this.context.strokeStyle=this._color2,this.context.strokeText(t,i,e)),this.context.restore()}__update_size(t){null!=this.canvas&&(this.stage.canvas.width>this.canvas.width+1||(this.stage?this.stage:l.default).canvas.height>this.canvas.height+1)&&(this.has_update=!0)}_render(){h.default.isEmpty(this._text)||(this._has_update&&this._update(),this.context&&super._render(...arguments))}dispose(){super.dispose(),delete this.wordBreak,this.scrollHeight,this._lineHeight,this.autoSize,this._underline,this._writingMode,this._text,this._font,this._color,this._color2,this._size,this._textAlign,this._textBaseline,this._fill_type,this._has_update,this._leading,this._italic,this._bold,this._lineWidth,this._fontMetrics,this.mouseEnabled}toString(){return o.name}static getFontMetrics(t,e){return{height:e}}}o.specialCode=[183,215,8212,8216,8217,8220,8221,8230,12289,12290,12298,12299,12302,12303,12304,12305,65281,65288,65289,65292,65306,65307,65311]},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(26),a=i(2),h=i(18),n=i(1),r=i(0),l=i(5);class o extends s.default{constructor(t=!1,e=!1,i=-1,s=!1){super(),this.isInput=Boolean(t),this.tabindex=i,this.password=s,this.multiline=e,this._size=8,this._leading=0,this._lineHeight=1,this._maxChars=0,this._font=\"Microsoft YaHei,Arial\",this._color=\"#000000\",this._textAlign=\"left\",this._verticalAlign=\"top\",this._selectable=!0,this.element=this._init(),this._lineWidth=this.width=this.height=0,this._enable=!0,this.autoSize=!0,this._writingMode=!1,this._underline=this._bold=this._italic=!1,this.selectable=this.mouseEnabled=this.isInput}get enable(){return this._enable}set enable(t){null!=t&&this._enable!=t&&(this._enable=t,this.isInput&&(this.element.disabled=this._enable?\"\":\"disabled\"))}get selectable(){return this._selectable}set selectable(t){null!=t&&(this._selectable=t,this._cursor=t?\"text\":\"default\",this.element.style.pointerEvents=t?\"auto\":\"none\",this.element.style[a.default.isEmpty(r.default.cssPrefix)?\"userSelect\":r.default.cssPrefix+\"UserSelect\"]=this._selectable?\"text\":\"none\",this.updateSize())}get text(){return this.element?this.isInput?this.element.value:this.element.innerHTML:\"\"}set text(t){null==this.element||this.isInput&&this.element.value==t||!this.isInput&&this.element.innerHTML==t||(this.isInput?this.element.value=t:this.element.innerHTML=t,this.updateSize())}get writingMode(){return this._writingMode}set writingMode(t){null!=this.element&&this._writingMode!=t&&(this._writingMode=t,this.element.style.writingMode=this._writingMode?\"tb-rl\":\"lr-tb\",this.element.style[r.default.cssPrefix+\"WritingMode\"]=this._writingMode?\"tb-rl\":\"lr-tb\",this.updateSize())}get italic(){return this._italic}set italic(t){null!=this.element&&this._italic!=t&&(this._italic=t,this.element.style.fontStyle=this._italic?\"italic\":\"normal\",this.updateSize())}get bold(){return this._bold}set bold(t){null!=this.element&&this._bold!=t&&(this._bold=t,this.element.style.fontWeight=this._bold?\"bold\":\"normal\",this.updateSize())}get size(){return this._size}set size(t){null!=this.element&&(this._size=t,this.element.style.fontSize=this._size+\"px\",this.updateSize())}get color(){return this._color}set color(t){t=h.default.formatColor(t),null!=this.element&&this._color!=t&&(this._color=t,this.element.style.color=this._color)}get font(){return this._font}set font(t){null!=this.element&&this.element.style.fontFamily!=t&&(this._font=t,this.element.style.fontFamily=this._font,this.updateSize())}get align(){return this._textAlign}set align(t){null!=this.element&&this._textAlign!=t&&(this._textAlign=t,this.element.style.textAlign=this._textAlign,this.updateSize())}get underline(){return this._underline}set underline(t){null!=this.element&&this._underline!=t&&(this._underline=t,this.element.style.textDecoration=this._underline?\"underline\":\"none\",this.updateSize())}get verticalAlign(){return this._verticalAlign}set verticalAlign(t){null!=this.element&&this._verticalAlign!=t&&(this._verticalAlign=t,this.element.style.verticalAlign=this._verticalAlign,this.updateSize())}get maxChars(){return this._maxChars}set maxChars(t){null!=this.element&&this._maxChars!=t&&(this._maxChars=t,this.element.maxLength=this._maxChars)}get leading(){return this._leading}set leading(t){null!=this.element&&(this._leading=t,this.element.style.letterSpacing=this._leading+\"px\",this.updateSize())}get lineHeight(){return this._lineHeight}set lineHeight(t){null==this.element||t<=0||(this._lineHeight=t,this.element.style.lineHeight=this._lineHeight,this.updateSize())}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth!=t&&(this._lineWidth=t,this.updateSize())}get bgColor(){return this.element?this.element.style.backgroundColor:\"\"}set bgColor(t){this.element.style.backgroundColor=t}_init(){let t;if(!this.isInput)return t=document.createElement(\"span\"),t.style.lineHeight=this._lineHeight,t.style.wordBreak=\"break-all\",t.contenteditable=!1,t.draggable=!1,t.display=\"block\",t;this.multiline?(t=document.createElement(\"textarea\"),t.style.resize=\"none\"):t=document.createElement(\"input\"),this._cursor=\"text\",t.setAttribute(\"type\",this.password?\"password\":\"text\"),t.setAttribute(\"tabindex\",this.tabindex),t.style.border=\"none\",t.style.outline=\"thin\",t.style.overflow=\"hidden\",t.style.autofocus=\"autofocus\",t.style.wordBreak=\"break-all\",t.style.background=\"none\",t.style.color=this._color,t.style.lineHeight=this._lineHeight,t.style.writingMode=this._writingMode?\"tb-rl\":\"lr-tb\";const e=this;return t.oninput=function(){e.dispatchEvent(new l.default(o.CHANGE,t.value))},t.onfocus=function(){e.dispatchEvent(new l.default(o.FOCUS_IN))},t.onblur=function(){e.dispatchEvent(new l.default(o.FOCUS_OUT))},t}_display(t){super._display(t),t&&this.updateSize()}updateSize(){if(this.__checkDisplayUpdate(),!this.autoSize||this.isInput||null==this.element||0==this.element.offsetHeight)return;const t=n.default.format((this._size+this._leading)*this.text.length),e=!this.writingMode&&this._lineWidth,i=this.writingMode&&this._lineWidth;this.width=e?this._lineWidth:i?0:this.width?this.width:0==this.height?t:t/this.height,this.height=i?this._lineWidth:0}dispose(){super.dispose(),delete this._lineHeight,this.autoSize,this._selectable,this._enable,this._underline,this._writingMode,this.isInput,this.tabindex,this.password,this.multiline,this._lineWidth,this._size,this._leading,this._maxChars,this._font,this._color,this._textAlign,this._verticalAlign,this._bold,this._italic}}o.CHANGE=\"updateText\",o.FOCUS_OUT=\"focusOut\",o.FOCUS_IN=\"focusIn\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return p}));var s=i(11),a=i(21),h=i(15),n=i(2),r=i(3),l=i(18),o=i(1),u=i(12),d=i(6),_=i(41),c=i(0),f=i(5);class p extends s.default{constructor(){super(),this._redius=0,this._thickness=0,this._fill_alpha=1,this.autoSize=!0,this.syncSize=!1,this.instance=this._stroke=this._pattern=this._pattern_src=this._color=null,this.use_canvas=c.default.useCanvas,this.mouseChildren=!1,this.repeat=\"repeat\",this._dash=null}set resize(t){t&&this._resize!=t&&(this.instance&&this.instance instanceof a.default&&this.instance.graphics.reset(),this.dispatchEvent(new f.default(h.default.RESIZE)),this.__checkDisplayUpdate()),this._resize=t}get resize(){return this._resize}get pattern(){return this._pattern}set pattern(t){if(this._pattern&&this._pattern.parentNode&&this._pattern.parentNode.removeChild(this._pattern),this.resize=!0,this.__checkDisplayUpdate(),this._pattern_src=this._pattern=null,null==t||!(t instanceof Image))return;this._pattern_src=t.src;let e=u.default.supported;if(0==this._fill_alpha&&(this._fill_alpha=1),this._pattern=t?this.use_canvas?[t,this.repeat,this._fill_alpha]:e?u.default.create(\"pattern\",{id:this.name+\"_pattern\",width:t.width,height:t.height,patternUnits:\"userSpaceOnUse\"}):t:t,null==this.instance.element&&this.redraw(),t&&!this.use_canvas&&e&&this.instance.element){let e=u.default.create(\"image\",{x:0,y:0,width:t.width,height:t.height});e.setAttributeNS(u.default.xlink,\"href\",t.src),this._pattern.appendChild(e);let i=this.instance.element.getElementsByTagName(\"defs\")[0];null==i&&(i=u.default.create(\"defs\"),this.instance.element.appendChild(i)),i.appendChild(this._pattern)}}get redius(){return this._redius}set redius(t){null!=t&&(t=Math.min(t,Math.ceil(.5*Math.min(this.width,this.height))))!=this._redius&&(this._redius=t,this.resize=!0)}get dash(){return this._dash}set dash(t){t!=this._dash&&(this._dash=t,this.resize=!0)}get color(){return this._color}set color(t){this.pattern=null,\"string\"==typeof t&&n.default.isEmpty(t)?this._fill_alpha=0:0==this._fill_alpha&&(this._fill_alpha=1),null!=t&&this._color!=t&&(this._color=this._format_color(t))}get strokeColor(){return this._stroke}set strokeColor(t){null!=t&&t!=this._stroke&&(n.default.isEmpty(t)?this.thickness=0:0==this.thickness&&(this.thickness=1),this._stroke=this._format_color(t),this.resize=!0)}get thickness(){return this._thickness}set thickness(t){null==t||t==this._thickness||isNaN(t)||(this._thickness=t,this.resize=!0)}setup(t,e,i,s=0,a=0,h=\"#000000\",n=1){this._redius=s,this.thickness=a,this._stroke=this._format_color(h),this._fill_alpha=n,null==this.instance?(this.instance=d.default.c(\"do\",null,this.use_canvas),this.instance.hide_over=!1,this.instance.setSize(e,i),this.addChild(this.instance)):this.instance.moveTo(0,0),this.width=e,this.height=i,this.resize=!0,this._color=this._format_color(t)||\"#FFFFFF\"}_format_color(t){if(!(t&&t instanceof _.default))return t;if(this.use_canvas)return l.default.getGradientColor(t);if(null==this.instance||null==this.instance.element)return t;let e=this.instance.element.getElementsByTagName(\"defs\")[0];null==e&&(e=u.default.create(\"defs\"),this.instance.element.appendChild(e));let i=this.instance.element.getElementById(this.name+\"_gradient\");i&&i.parentNode&&i.parentNode.removeChild(i);let s={id:this.name+\"_gradient\"};0==t.type?(s.x1=o.default.int(100*t.xStart/t.radiusStart)+\"%\",s.y1=o.default.int(100*t.yStart/t.radiusEnd)+\"%\",s.x2=o.default.int(100*t.xEnd/t.radiusStart)+\"%\",s.y2=o.default.int(100*t.yEnd/t.radiusEnd)+\"%\"):(s.fx=o.default.int(100*t.xStart/(2*t.radiusEnd))+\"%\",s.fy=o.default.int(100*t.yStart/(2*t.radiusEnd))+\"%\",s.cx=o.default.int(100*t.xEnd/(2*t.radiusEnd))+\"%\",s.cy=o.default.int(100*t.yEnd/(2*t.radiusEnd))+\"%\",s.r=o.default.int(2*t.radiusStart*100/t.radiusEnd)+\"%\"),i=u.default.create(0==t.type?\"linearGradient\":\"radialGradient\",s);let a,h,n=t.offsetlist.length;for(a=0;a<n;a++)h=u.default.create(\"stop\",{offset:t.offsetlist[a],\"stop-color\":t.colorList[a]}),i.appendChild(h);return e.appendChild(i),\"url(#\"+this.name+\"_gradient)\"}redraw(){let t=this.syncSize?this.getWidth():this.width,e=this.syncSize?this.getHeight():this.height;this.instance.width=o.default.int(t),this.instance.height=o.default.int(e),this.syncSize&&(this.instance.scaleX=1/this.scaleX,this.instance.scaleY=1/this.scaleY);let i,s=this.thickness*(this.syncSize?.5*(this.scaleX+this.scaleY):1);return this.instance.moveTo(.5*-s,.5*-s),this.use_canvas&&this.instance.graphics?(s>0?this.instance.graphics.lineStyle(s,this._stroke):this.instance.graphics.stroke_style=null,this._pattern?this.instance.graphics.beginBitmapFill(...this._pattern):this.instance.graphics.beginFill(this._color,this._fill_alpha),this._redius>0?this.instance.graphics.drawRoundRect(.5*s,.5*s,t,e,this._redius):this.instance.graphics.drawRect(.5*s,.5*s,t,e),void this.instance.graphics.endFill()):u.default.supported?null==this.instance.element?(this.instance.element=u.default.create(\"svg\",{style:{width:t+\"px\",height:e+\"px\"}}),i=u.default.create(\"rect\",{\"stroke-dasharray\":n.default.isEmpty(this._dash)?\"\":this._dash,x:0,y:0,rx:this._redius,ry:this._redius,width:t,height:e,style:{fill:this._format_color(this._color),fillOpacity:this._fill_alpha,stroke:this._stroke,strokeWidth:s}}),void this.instance.element.appendChild(i)):(i=this.instance.element.getElementsByTagName(\"rect\")[0],i.style.stroke=this._stroke,i.style.strokeWidth=s,i.style.fillOpacity=this._fill_alpha,i.style.fill=this._pattern?\"url(#\"+this._pattern.id+\")\":this._format_color(this._color),i.setAttribute(\"stroke-dasharray\",n.default.isEmpty(this._dash)?\"\":this._dash),i.setAttribute(\"height\",e+s),i.setAttribute(\"width\",t+s),i.setAttribute(\"ry\",this._redius),i.setAttribute(\"rx\",this._redius),void(this._parent&&this._parent.autoSize&&this._parent._updateSize())):void(null==this.instance.element?this.instance.element=DOMUtil.createDOM(\"div\",{style:{backgroundColor:this._color,width:t+\"px\",height:e+\"px\"}}):(this.instance.element.style.backgroundColor=this._color,this.instance.element.style.backgroundImage=this._pattern?\"url(\"+this._pattern.src+\")\":\"\",this.instance.element.style.backgroundRepeat=this.repeat))}clone(){let t=r.default.create(p);if(t.param=this.param,this.origin&&(t.origin=this.origin.clone()),t.setup(this._color,this.width,this.height,this._redius,this.thickness,this._stroke,this._fill_alpha),t.syncSize=this.syncSize,t._dash=this._dash,this._pattern&&!n.default.isEmpty(this._pattern_src)){let e=new Image;e.onload=function(){this.onload=null,t.pattern=e},e.src=this._pattern_src}return t}render(){!this.syncSize||1==this.scaleX&&1==this.scaleY||this.instance.width==this.getWidth()&&this.instance.height==this.getHeight()||(this.resize=!0),this.resize&&this.redraw(),super.render(...arguments),this.resize=!1}reset(){this.instance&&(this.instance.removeFromParent(!0),this.instance=null),this._pattern_src=this._stroke=this.pattern=this._color=null,super.reset(),this._dash=null,this._redius=0,this._thickness=0,this._fill_alpha=1,this.autoSize=!0,this.syncSize=!1,this.mouseChildren=!1,this.repeat=\"repeat\",this.use_canvas=c.default.useCanvas}dispose(){super.dispose(),delete this.use_canvas,this.syncSize,this._dash,this._pattern_src,this._fill_alpha,this._thickness,this._stroke,this._color,this._redius,this._pattern,this.repeat}toString(){return p.name}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return h}));var s=i(19),a=i(3);class h{constructor(){this.name,this.info={},this.common={},this.chars,this.pages,this.images}set data(t){null!=t&&null!=t&&s.default.copyAttribute(this,t,!0)}dispose(){if(this.chars&&this.chars.length>0){let t,e;for(t=0,e=this.chars.length;t<e;t++)a.default.remove(this.chars[t])}delete this.name,this.info,this.common,this.chars,this.pages,this.images}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(25);class a{constructor(){this.cache_list=[],this.global_volume=1}add(t){!t||this.cache_list.indexOf(t)>=0||(t.setVolume(this.global_volume),this.cache_list.push(t))}remove(t){!t||this.cache_list.indexOf(t)<0||this.cache_list.splice(this.cache_list.indexOf(t),1)}stopOther(t){!t||this.cache_list.length<2||s.default.each(this.cache_list,(function(e){e!=t&&e.playing&&e.stop()}),this)}stopAll(){this.cache_list.length<1||s.default.each(this.cache_list,(function(t){t.playing&&t.stop()}),this)}setVolume(t){this.global_volume=t,s.default.each(this.cache_list,(function(t){t.setVolume(this.global_volume)}),this)}dispose(){this.stopAll(),this.cache_list=this.global_volume=null,delete this.cache_list,this.global_volume}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return u}));var s=i(16),a=i(46),h=i(0),n=i(5),r=i(23),l=i(2),o=i(29);class u extends o.default{constructor(){super(),this.__over_handler=this.__change_handler=this.bufferSource=this.buffer=this.volumeNode=this._ajax=this._audio_tag=this.element=null,this.loadFail=this.auto_play=this.is_init=this.loading=this.loaded=this.playing=!1,this.currentSave=this.currentTime=0,this._type=\"web_audio\",this.length=0,this.volume=1}init(){if(this.is_init)return!1;this.is_init=!0;try{this.element=new h.default.canUseWebAudio}catch(t){return h.default.canUseWebAudio=null,!0}return this.name=r.default.getName(this._type),this.element.id=this.name,this._ajax=new a.default,this._ajax.responseType=a.default.ARRAY_BUFFER,this._audio_tag=document.createElement(\"audio\"),s.default.Container.add(this),this.__over_handler=h.default.delegate(this._over_handler,this),!1}_over_handler(t){this.close(),this.dispatchEvent(new n.default(s.default.MEDIA_PLAY_COMPLETE))}load(t){if(!t)return!1;if(!this.is_init&&this.init())return!1;if(\"string\"!=typeof t)return\"[object AudioBuffer]\"==Object.prototype.toString.apply(t)?this.onload(t):\"[object ArrayBuffer]\"==Object.prototype.toString.apply(t)&&(this.loading=!0,this.element.decodeAudioData(t,h.default.delegate(this.onload,this),h.default.delegate((function(t){this.loadFail=!0,this.loading=!1,trace(\"[ERROR] WebAudio:AudioContext decodeAudioData error : \"+t.toString()),this.dispatchEvent(new n.default(s.default.MEDIA_ERROR))}),this))),!1;let e,i,a=this,r={mov:[\"quicktime\"],\"3gp\":[\"3gpp\"],midi:[\"midi\"],mid:[\"midi\"],ogv:[\"ogg\"],m4a:[\"acc\"],mp3:[\"mpeg\"],wav:[\"wav\",\"x-wav\",\"wave\"],wave:[\"wav\",\"x-wav\",\"wave\"],aac:[\"mp4\",\"aac\"]};return i=l.default.getPathExt(t),i=r[i]?r[i]:[i],e=i.some((function(t,e,i){return a._audio_tag.canPlayType(\"audio/\"+t)})),e||!l.default.isEmpty(t)&&0==t.indexOf(\"blob:\")?(this.loading=!0,this._ajax.get(t).then(function(t){this.onload(t)}.bind(this)).catch(function(t){this.loadFail=!0,this.loading=!1,trace(\"[ERROR] WebAudio: load audio fail.\"),this.dispatchEvent(new n.default(s.default.MEDIA_ERROR))}.bind(this)),!0):(this.loadFail=!0,trace(\"Not support \"+i+\" : \"+t),this.dispatchEvent(new n.default(s.default.MEDIA_ERROR)),!1)}onload(t){\"[object AudioBuffer]\"===Object.prototype.toString.apply(t)?(this.buffer=t,this.loaded=!0,this.loading=this.loadFail=!1,this.length=this.buffer.duration,this.dispatchEvent(new n.default(s.default.MEDIA_LOAD_COMPLETE)),this.removeEventListener(s.default.MEDIA_LOAD_COMPLETE),this.auto_play&&this.play()):this.load(t)}setCurrentTime(t){if(this.element&&null!=t&&t>=0&&t<this.length){try{this.element.currentTime=t}catch(t){}this.currentTime=t}}getCurrentTime(){return this.currentTime}setVolume(t){this.volume=t,this.playing&&this.volumeNode&&this.volumeNode.gain.setValueAtTime(t,this.currentTime)}getVolume(){return this.volume}play(t){0==this.length||this.playing||(t&&(this.currentTime=0),this.element.loop=!1,this.playing=!0,this.bufferSource=this.element.createBufferSource(),this.bufferSource.buffer=this.buffer,this.volumeNode=this.element.createGain(),this.volumeNode.gain.setValueAtTime(this.volume,this.currentTime),this.volumeNode.connect(this.element.destination),this.bufferSource.connect(this.volumeNode),this.currentSave=this.element.currentTime,this.bufferSource.addEventListener(\"ended\",this.__over_handler,!1),this.bufferSource.start?this.bufferSource.start(0,this.currentTime%this.length):this.bufferSource.noteGrainOn(0,this.currentTime%this.length))}stop(){if(this.playing){try{this.bufferSource.stop?this.bufferSource.stop(0):this.bufferSource.noteOff(0)}catch(t){}this.currentTime+=this.element.currentTime-this.currentSave,this.playing=!1,this.bufferSource.removeEventListener(\"ended\",this.__over_handler)}}close(){this.playing&&this.stop(),this.currentTime=this.currentSave=0}dispose(){this.close(),super.dispose(),this.element=null,s.default.Container.remove(this),delete this.element,this._type,this.loadFail,this.auto_play,this.is_init,this.loading,this.loaded,this.playing,this.length,this.__over_handler,this.__change_handler,this.volume,this.timeout,this.volumeNode,this.currentSave,this.currentTime,this._ajax,this._audio_tag}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return n}));var s=i(26),a=i(12),h=i(20);class n extends s.default{constructor(){super(),this._defs=null}init(){return this.element||(this.element=a.default.create(\"svg\"),this._defs=a.default.create(\"defs\"),this.element.appendChild(this._defs)),this}get defs(){return this._defs}addClipPath(t){this.getClipPath(t)||this._defs.appendChild(a.default.create(\"clipPath\",{id:t.id+h.default.CILP,innerHTML:h.default.string(t)}))}removeClipPath(t){let e=this.getClipPath(t);e&&this._defs.removeChild(e)}getClipPath(t){if(!t)return null;let e=t.id+h.default.CILP;return a.default.getElementsById(this._defs,\"clipPath\",e)}reset(){this._defs=null,super.reset()}dispose(){super.dispose(),delete this._defs}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(42);class a extends s.default{constructor(){super(),this._auto_dispose=!0,this._register_instance=null}get instance(){return this._register_instance}set instance(t){let e=null;null!=this._register_instance&&(this._register_instance.parent&&(e=this._register_instance.getIndex(),e=Math.max(0,e),this._register_instance.removeFromParent(this._auto_dispose)),this._register_instance=null),null!=t&&(this._register_instance=t,null==e||isNaN(\"\"+e)?this.addChild(this._register_instance):this.addChildAt(this._register_instance,e),this.initialize())}initialize(){}reset(){this._register_instance=null,this._auto_dispose=!0,super.reset()}dispose(){super.dispose(),delete this._register_instance,this._auto_dispose}toString(){return a.name}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return l}));var s=i(15),a=i(4),h=i(5),n=i(0),r=i(71);class l extends r.default{constructor(){super(),this.space=0,this.delta=.05,this.minSize=12,this.useWheel=this.isScale=this.autoVisible=!0,this._offset=this._rect=this._target=this._up_btn=this._down_btn=null}get upBtn(){return this._up_btn}set upBtn(t){null!=t&&t!=this._up_btn&&(this._up_btn=t)}get downBtn(){return this._down_btn}set downBtn(t){null!=t&&t!=this._down_btn&&(this._down_btn=t)}get target(){return this._target}set target(t){if(null==t||t==this._target)return;let e=this.enable;this.enable=!1,this._target=t,this._target.x=this._rect.x,this._target.y=this._rect.y,this.enable=e,this.dataSync(!0)}setup(t,e,i,s,a,h,n,r,l){this._rect=e,this._target=t,this.useWheel&&(this._target.mouseEnabled=!0),this.bar=i,this.bottom=s,this._offset=n,this.useUpdate=!0,this.isY=a||!1,this.isScale=h||!1,r&&(this._up_btn=r),l&&(this._down_btn=l),this._min=0,this._value=0,this.resetRange(),this.initLayout(this._offset)}resetRange(t){this.max=Math.max(0,Math.ceil(this.isY?this._target.getHeight()-this._rect.height:this._target.getWidth()-this._rect.width));let e=!(0==this._max&&this.autoVisible);this.bottom.visible=this.bar.visible=e,this._down_btn&&(this._down_btn.visible=e),this._up_btn&&(this._up_btn.visible=e),t&&this.updataSync()}initLayout(t){this._target.x=this._rect.x,this._target.y=this._rect.y;let e=this._up_btn?this._up_btn.getWidth():0,i=this._up_btn?this._up_btn.getHeight():0;this.bottom.x=(this.isY?this._rect.x+this._rect.width+this.space:this._rect.x+e)+(t?t.x:0),this.bottom.y=(this.isY?this._rect.y+i:this._rect.y+this._rect.height+this.space)+(t?t.y:0),this.isY?this.bottom.height=this._rect.height-2*i:this.bottom.width=this._rect.width-2*e,this.initialize(),this._up_btn&&(this.contains(this._up_btn)||this.addChild(this._up_btn),this._up_btn.moveTo((this.isY?this._rect.x+this._rect.width+this.space:this._rect.x)+(t?t.x:0),(this.isY?this._rect.y:this._rect.y+this._rect.height+this.space)+(t?t.y:0))),this._down_btn&&(this.contains(this._down_btn)||this.addChild(this._down_btn),this._down_btn.moveTo((this.isY?this._rect.x+this._rect.width+this.space:this._rect.x+this._rect.width-e)+(t?t.x:0),(this.isY?this._rect.y+this._rect.height-i:this._rect.y+this._rect.height+this.space)+(t?t.y:0)))}_reset_handler(t){t.params&&(this._rect.width=t.params.hasOwnProperty(\"w\")?t.params.w:this._rect.width,this._rect.height=t.params.hasOwnProperty(\"h\")?t.params.h:this._rect.height,this.initLayout(this._offset),this.updataSync()),t.label&&(t.label.hasOwnProperty(\"r\")&&(this.rotation=t.label.r),t.label.hasOwnProperty(\"x\")&&(this.x=t.label.x),t.label.hasOwnProperty(\"y\")&&(this.y=t.label.y))}_activate_bar(t){if(super._activate_bar(t),t)return this._target&&(this._target.addEventListener(h.default.RESIZE,n.default.delegate(this._reset_handler,this),this.name),this._target.addEventListener(s.default.RESIZE,n.default.delegate(this.resetRange,this),this.name),this._target.addEventListener(a.default.DRAG_MOVE,n.default.delegate(this.dragHandler,this),this.name),this._target.addEventListener(s.default.RESET_INSTANCE,n.default.delegate(this.resetRange,this),this.name),this.useWheel&&this._target.addEventListener(a.default.MOUSE_WHEEL,n.default.delegate(this.wheelHandler,this),this.name)),this._up_btn&&this._up_btn.addEventListener(a.default.MOUSE_CLICK,n.default.delegate(this._clickUpBtn,this)),void(this._down_btn&&this._down_btn.addEventListener(a.default.MOUSE_CLICK,n.default.delegate(this._clickDownBtn,this)));this._target&&(this._target.removeEventListener(h.default.RESIZE,null,this.name),this._target.removeEventListener(s.default.RESIZE,null,this.name),this._target.removeEventListener(a.default.DRAG_MOVE,null,this.name),this._target.removeEventListener(a.default.MOUSE_WHEEL,null,this.name),this._target.removeEventListener(s.default.RESET_INSTANCE,null,this.name)),this._up_btn&&this._up_btn.removeEventListener(a.default.MOUSE_CLICK),this._down_btn&&this._down_btn.removeEventListener(a.default.MOUSE_CLICK)}dragHandler(t){this.value=this.isY?this._rect.y-this._target.y:this._rect.x-this._target.x}wheelHandler(t){this.updataSync(this._value+(t.delta<0?1:-1)*Math.max(1,Math.ceil(this.delta*this._max)))}barSync(){this.isScale&&(this.isY?this.bar.height=Math.max(this.bottom.height*(1-this.max/this.bottom.height),this.minSize):this.bar.width=Math.max(this.bottom.width*(1-this.max/this.bottom.width),this.minSize)),super.barSync()}dataSync(t){null==t&&super.dataSync(),this.isY?this._target.y=this._rect.y-this._value:this._target.x=this._rect.x-this._value}updataSync(t){this.value=null==t?this.isY?this._rect.y-this._target.y:this._rect.x-this._target.x:t,this.dataSync(!0)}_clickUpBtn(t){this.updataSync(this._value-Math.max(1,Math.ceil(this.delta*this._max*2)))}_clickDownBtn(t){this.updataSync(this._value+Math.max(1,Math.ceil(this.delta*this._max*2)))}dispose(){super.dispose(),delete this._offset,this._target,this._up_btn,this._down_btn,this._rect,delete this.useWheel,this.space,this.delta,this.minSize,this.isScale,this.autoVisible}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(11),a=i(4),h=i(1),n=i(13),r=i(0),l=i(5);class o extends s.default{constructor(){super(),this._enable=this.isInitialized=this.useUpdate=this.isY=!1,this.mouseEnabled=this.mouseChildren=!0,this._mousePos=this.bar=this.bottom=null,this._min=this._max=this._value=0,this.isOrder=!0}get enable(){return this._enable}set enable(t){null!=t&&t!=this._enable&&(this._enable=t,this._activate_bar(this._enable))}get min(){return this._min}set min(t){null!=t&&t!=this._min&&(this._min=t,this.barSync())}get max(){return this._max}set max(t){null!=t&&t!=this._max&&(this._max=t,this.barSync())}get value(){return this._value}set value(t){null!=t&&null!=t&&(t=h.default.clamp(t,this._min,this._max))!=this._value&&(this._value=t,this.barSync())}setup(t,e,i,s,a,h=!1,n=!1){this.bar=s,this.bottom=a,this._min=t,this._max=e,this._value=i,this.isY=Boolean(h),this.useUpdate=Boolean(n),this.bar&&this.bottom&&this.initialize()}initialize(){this.contains(this.bottom)||this.addChild(this.bottom),this.contains(this.bar)||this.addChild(this.bar),this.isY?(this.bar.x=this.bottom.x+.5*(this.bottom.getWidth()-this.bar.getWidth()),this.bar.y=this.bottom.y+this.bottom.getHeight()-this.bar.getHeight()/2):(this.bar.x=this.bottom.x+this.bar.getWidth()/2,this.bar.y=this.bottom.y+.5*(this.bottom.getHeight()-this.bar.getHeight())),this.enable=this.isInitialized=!0,this.barSync()}_activate_bar(t){if(null!=this.bar&&null!=this.bottom){if(this.bar.mouseEnabled=this.bottom.mouseEnabled=this.bar.buttonMode=t,this.bar.breakTouch=t,t)return this.bar.addEventListener(a.default.MOUSE_DOWN,r.default.delegate(this._mouse_down_bar,this)),void(this.bottom.alpha>0&&this.bottom.visible&&this.bottom.addEventListener(a.default.MOUSE_DOWN,r.default.delegate(this._mouse_move_handler,this)));this.bar.removeEventListener(a.default.MOUSE_DOWN),this.bottom.removeEventListener(a.default.MOUSE_DOWN)}}_mouse_down_bar(t){this._mousePos=this.bar.globalToLocal(t.mouseX,t.mouseY),(this.stage?this.stage:n.default.current).addEventListener(a.default.MOUSE_MOVE,r.default.delegate(this._mouse_move_handler,this),this.name),(this.stage?this.stage:n.default.current).addEventListener(a.default.MOUSE_UP,r.default.delegate(this._mouse_up_bar,this),this.name)}_mouse_up_bar(t){(this.stage?this.stage:n.default.current).removeEventListener(a.default.MOUSE_MOVE,null,this.name),(this.stage?this.stage:n.default.current).removeEventListener(a.default.MOUSE_UP,null,this.name),this._mousePos=null,this.dataSync()}_mouse_move_handler(t){let e;this._mousePos&&(e=this.bar.origin?this._mousePos.subtract(this.bar.origin):this._mousePos.clone());let i=this.globalToLocal((t?t.mouseX:(this.stage?this.stage:n.default.current).mouseX)-(e?e.x:0),(t?t.mouseY:(this.stage?this.stage:n.default.current).mouseY)-(e?e.y:0)),s=i.x,a=i.y;this.isY?a<=this.bottom.y?this.bar.y=this.bottom.y:a>=this.bottom.y+this.bottom.getHeight()-this.bar.getHeight()?this.bar.y=this.bottom.y+this.bottom.getHeight()-this.bar.getHeight():this.bar.y+=a-this.bar.y:s<=this.bottom.x?this.bar.x=this.bottom.x:s>=this.bottom.x+this.bottom.getWidth()-this.bar.getWidth()?this.bar.x=this.bottom.x+this.bottom.getWidth()-this.bar.getWidth():this.bar.x+=s-this.bar.x,(this.useUpdate||t.target==this.bottom)&&this.dataSync()}dataSync(){let t=0;t=this.isY?h.default.format((this.bar.y-this.bottom.y)/(this.bottom.getHeight()-this.bar.getHeight())*(this._max-this._min)):h.default.format((this.bar.x-this.bottom.x)/(this.bottom.getWidth()-this.bar.getWidth())*(this._max-this._min)),this.isOrder?this._value=this._min+t>=this._max?this._max:this._min+t:this._value=this._max-t<=this._min?this._min:this._max-t,this.dispatchEvent(new l.default(o.CHANGE,this._value,null==this._mousePos))}barSync(){if(!this.isInitialized||null==this.bar||null==this.bottom)return;let t=0;t=this.isOrder?this._value-this._min:this._max-this._value,this.isY?this.bar.y=t/(this._max-this._min)*(this.bottom.getHeight()-this.bar.getHeight())+this.bottom.y:this.bar.x=t/(this._max-this._min)*(this.bottom.getWidth()-this.bar.getWidth())+this.bottom.x}dispose(){this.enable=!1,super.dispose(),delete this._mousePos,this._enable,this.isInitialized,this.useUpdate,this.isY,this._min,this._max,this._value,this.bar,this.bottom,this.isOrder}}o.CHANGE=\"moveBarChange\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static check(){let t=(new Date).getTime(),e=t-s._time;return s._time=t,e<s._interval&&(s._time=0,!0)}}s._time=0,s._interval=300},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return _}));var s=i(27),a=i(0),h=i(33),n=i(2),r=i(24),l=i(18),o=i(6),u=i(57),d=i(8);class _{static getButton(t,e,i,s,n,u,_,c){t=null==t?0:t,e=null==e?0:e,i=null==i?0:i,s=null==s?\"#FF9E26\":l.default.formatColor(s),n=null==n?\"#FF7C0D\":l.default.formatColor(n);let f=new h.default,p=o.default.c(\"bs\"),m=0==e&&0==i;e=Math.max(2*t,e),i=Math.max(2*t,i);let g=m?new GColor(1,t,t,t,t,[.1,1],[s,n],.25*t,t):new GColor(0,0,0,0,i,[.1,.9],[s,n],e,i);return p.setup(g,e,i,t,u,_),p.origin={x:.5*e,y:.5*i},f.instance=p,!a.default.isPC||null!=c&&0!=c?f.setup([o.default.c(\"ef\",[r.default.SCALE,1,.15,0,d.default.getEaseName(d.default.CIRC,d.default.IN)])],null,[o.default.c(\"ef\",[r.default.SCALE,.89,.11,0,d.default.getEaseName(d.default.CIRC,d.default.OUT)])]):f.setup([o.default.c(\"ef\",[r.default.MOVE,\"{0,0}\",.15,0,d.default.getEaseName(d.default.CIRC,d.default.IN)]),o.default.c(\"ef\",[r.default.SHADOW,[4,70,10,\"#222222\",.5,t],.15,0,d.default.getEaseName(d.default.CIRC,d.default.IN)])],[o.default.c(\"ef\",[r.default.MOVE,\"{0,3}\",.15,0,d.default.getEaseName(d.default.CIRC,d.default.IN)]),o.default.c(\"ef\",[r.default.SHADOW,[0,70,0,\"#000000\",.5,t],.15,0,d.default.getEaseName(d.default.CIRC,d.default.IN)])]),f}static getImage(t,e,i,s){if(n.default.isEmpty(t))return null;let h,r=new Image;return i||(h=o.default.c(\"do\")),u.default.CORS&&t&&0==t.indexOf(\"http\")&&(r.crossOrigin=a.default.crossdomain,u.default.CORS>1&&(t=(t.indexOf(\"?\")<0?t:t.split(\"?\")[0])+\"?\"+Math.random())),r.src=t,r.complete?(i||h.setInstance(r),h=i?r:h,e&&e(h),h):(r.onload=function(){r.onerror=r.onload=null,i||h.setInstance(r),e&&e(i?r:h),i=s=null},r.onerror=function(){r.onerror=r.onload=null,s&&s(i?null:h),i=s=null},h||r)}static rectDisplay(t,e,i,h){if(!t||!e)return;i=i||\"#000000\",h=null==h?a.default.useCanvas:h;let n=\"string\"!=typeof i&&(i instanceof Image||\"HTMLImageElement\"==ClassUtil.getQualifiedClassName(i)),r=o.default.c(\"do\",null,h);if(h)n?(r.setInstance(i),r.repeat(t,e)):(r.graphics.lineStyle(0),r.graphics.beginFill(i),r.graphics.drawRect(0,0,t,e),r.graphics.endFill());else{let a={width:t+\"px\",height:e+\"px\",overflow:\"hidden\"};n?a.background=\"url(\"+i.src+\")\":a.backgroundColor=i,r.element=s.default.createDOM(\"div\",{style:a})}return r.setSize(t,e),r}}},function(t,e,i){i(28),i(1),i(22),i(19),i(2),i(18),i(31),i(53),i(27),i(3),i(32),i(76),i(12),i(23),i(34),i(54),i(14),i(39),i(45),i(7),i(9),i(48),i(41),i(0),i(5),i(29),i(77),i(59),i(51),i(49),i(44),i(58),i(78),i(37),i(79),i(55),i(38),i(17),i(56),i(46),i(40),i(15),i(26),i(61),i(21),i(66),i(16),i(47),i(52),i(67),i(11),i(4),i(68),i(69),i(20),i(42),i(80),i(36),i(57),i(63),i(65),i(24),i(64),i(62),i(81),i(82),i(13),i(60),i(6),i(33),i(10),i(8),i(83),i(84),i(85),i(71),i(86),i(87),i(70),i(88),i(89),i(90),i(50),i(25),i(35),i(72),i(43),i(73),i(30),i(91),i(92),t.exports=i(93)},function(t,e){var i;i=function(){return this}();try{i=i||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(i=window)}t.exports=i},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static parseProperties(t){const e={},i=t.replace(/[\\r\\n]/g,\"\\n\").split(\"\\n\");let s,a,h,n,r;for(s=0;s<i.length;s++)a=i[s],null==a||a.length<3||\"#\"!=a.charAt(0)&&(h=i[s].indexOf(\"=\"),h<0||(n=StringUtil.trim(a.substring(0,h)),r=StringUtil.trim(a.substring(h+1,a.length)),e[n]=r));return e}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return n}));var s=i(29),a=i(5),h=i(0);class n extends s.default{constructor(){super(),this.name=\"address_handler\",this._target=this._onHashChange=this._value=null}get target(){return this._target}set target(t){t&&t==this._target||(null==this._onHashChange&&(this._onHashChange=h.default.delegate(this._hashChangeHandler,this)),this._target&&this._target.removeEventListener(\"hashchange\",this._onHashChange),this._target=t,null!=t&&this._target.addEventListener(\"hashchange\",this._onHashChange))}_hashChangeHandler(){let t=h.default.root.location.hash.replace(\"#\",\"\");t!=this._value&&(this._value=t,this.dispatchEvent(new a.default(n.CHANGE,this._value)))}dispose(){super.dispose(),this.target=null,this._onHashChange=this._value=null,delete this._target,this._onHashChange,this._value,this.name}static getInstance(){return n._instance||(n._instance=new n,n._instance.target=h.default.root),n._instance}}n.CHANGE=\"addressValueChange\",n._instance=null},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(18);class a{constructor(t,e,i,s,a,h,n,r){this.redMultiplier=t,this.greenMultiplier=e,this.blueMultiplier=i,this.alphaMultiplier=s,this.redOffset=a,this.greenOffset=h,this.blueOffset=n,this.alphaOffset=r,this._update=!0}get update(){let t=this._update;return this._update&&(this._update=!1),t}set update(t){this._update!=t&&(this._update=t)}setColor(t,e=0){t=s.default.toColor(t),this.redMultiplier=this.greenMultiplier=this.blueMultiplier=this.alphaMultiplier=e,this.redOffset=s.default.getRed(t),this.greenOffset=s.default.getGreen(t),this.blueOffset=s.default.getBlue(t),this.alphaOffset=s.default.getAlpha(t),this._update=!0}toString(){return'{\"redOffset\":'+this.redOffset+',\"greenOffset\":'+this.greenOffset+',\"blueOffset\":'+this.blueOffset+',\"alphaOffset\":'+this.alphaOffset+',\"redMultiplier\":'+this.redMultiplier+',\"greenMultiplier\":'+this.greenMultiplier+',\"blueMultiplier\":'+this.blueMultiplier+',\"alphaMultiplier\":'+this.alphaMultiplier+\"}\"}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(29),a=i(23),h=i(2),n=i(27),r=i(5),l=i(0);class o extends s.default{constructor(t=!1,e=null){super(),this.name=a.default.getName(\"File\"),this._reader=this._cancel_handler=this._file_select_handler=null,this.alpha=0,this.layer=995,this.max_size=0,this.auto_parse=!0,this.image_to_base64=!1,this.buttonMode=this.mouseEnabled=!0,this.supported&&this._browseForOpen(\"openFile\",t,e)}get supported(){return l.default.root.File&&l.default.root.FileReader&&l.default.root.FileList}open(t){t||this._clearInputFile(),this.element&&this.element.click()}_clearInputFile(){if(!this.supported||null==this.element)return;this.element.removeEventListener(\"change\",this._file_select_handler);let t=this.element.multiple,e=this.element.accept;this.element=null,this._browseForOpen(\"openFile\",t,e)}_browseForOpen(t,e,i){e=e||!1,null==this.element?this.element=n.default.createDOM(\"input\",{type:\"file\",multiple:e,id:this.name,name:t,style:{position:l.default.position}}):(this.element.multiple=e,this.element.name=t),h.default.isEmpty(i)||(this.element.accept=i),null==this._file_select_handler&&(this._file_select_handler=l.default.delegate(this._fileSelectHandle,this)),this.element.addEventListener(\"change\",this._file_select_handler,!1)}_fileSelectHandle(t){let e,i,s,a,u=t.target.files,d=[],_=[],c=this,f=l.default.root.URL||l.default.root.webkitURL;if(u.length&&this.max_size>0){let t=[];for(e=0;i=u[e];e++)i&&i.size<1e6*this.max_size?t.push(i):d.push(i?i.name:\"null\");u=t}if(d.length>0&&c.dispatchEvent(new r.default(o.LIMIT,d)),this.auto_parse&&0!=u.length)for(e=0;e<u.length;e++)if(i=u[e],0==i.type.indexOf(\"image\")){if(a=f.createObjectURL(i),!h.default.isEmpty(a)&&!this.image_to_base64){s=new Image,s.name=i.name,s.src=a,s.onload=function(t){f.revokeObjectURL(s.src),_.push(s),e>=u.length-1&&c.dispatchEvent(new r.default(o.COMPLETE,_))};continue}c._reader=new FileReader,c._reader.onload=function(t){c.image_to_base64?_.push(t.target.result):(s=new Image,s.name=t.target.name,s.src=t.target.result,_.push(s)),e>=u.length-1&&c.dispatchEvent(new r.default(o.COMPLETE,_))},c._reader.readAsDataURL(i)}else 0==i.type.indexOf(\"text\")?(c._reader=new FileReader,c._reader.onload=function(t){s=n.default.createDOM(\"p\",{id:t.target.name,innerHTML:\"<pre>\"+t.target.result.replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")+\"</pre>\"}),_.push(s),e>=u.length-1&&c.dispatchEvent(new r.default(o.COMPLETE,_))},c._reader.readAsText(i)):(c._reader=new FileReader,c._reader.onload=function(t){_.push(t.target.result),e>=u.length-1&&c.dispatchEvent(new r.default(o.COMPLETE,_))},c._reader.readAsBinaryString(i));else u.length&&c.dispatchEvent(new r.default(o.COMPLETE,u))}abortRead(){if(this._reader)try{this._reader.abort()}catch(t){}}dispose(){this.element&&this.element.removeEventListener(\"change\",this._file_select_handler),super.dispose(),delete this.image_to_base64,this.auto_parse,this._cancel_handler,this._file_select_handler,this._file,this._reader,this.name}static get COMPLETE(){return\"file_select_complete\"}static get LIMIT(){return\"file_size_out\"}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return p}));var s=i(11),a=i(26),h=i(4),n=i(3),r=i(2),l=i(1),o=i(6),u=i(5),d=i(13),_=i(0),c=i(47),f=i(16);class p extends s.default{constructor(){super(),this._changeState=this.bg=this.play_btn=this._instance=this._video=this._url=null,this.isStrict=this.control=this._is_loading=this._is_reload=!1,this.seedTime=this._video_width=this._video_height=0,this.isStop=!0,this._volume=1}get src(){return this._url}set src(t){this._loading(t)}get volume(){return this._volume}set volume(t){null!=t&&this._volume!=t&&(this._volume=t,this._video&&this._video.setVolume(this._volume))}get instance(){return this._instance}_loading(t){if(this._is_loading||r.default.isEmpty(t)||this._url==t)return;this._is_loading=!0,this._is_reload=!1,this._url=t;let e=new c.default;e.addEventListener(f.default.MEDIA_LOAD_COMPLETE,_.default.delegate(this._complete_handler,this)),e.addEventListener(f.default.MEDIA_ERROR,_.default.delegate(this._error_handler,this)),e.load(this._url)}_error_handler(t){t.target.removeEventListener(f.default.MEDIA_LOAD_COMPLETE),t.target.removeEventListener(f.default.MEDIA_ERROR),this._is_loading=!1,this.dispatchEvent(new u.default(p.ERROR))}_complete_handler(t){if(t.target.removeEventListener(f.default.MEDIA_LOAD_COMPLETE),t.target.removeEventListener(f.default.MEDIA_ERROR),this._is_loading=!1,t.target&&!t.target.loadFail)return void this.load(t.target);if(this._is_reload)return void this.dispatchEvent(new u.default(p.ERROR));t.target.dispose(),this._is_reload=!0,this._is_loading=!0;let e=new c.default;e.addEventListener(f.default.MEDIA_LOAD_COMPLETE,_.default.delegate(this._complete_handler,this)),e.load(this._url)}load(t){if(null==t)return;let e=t.getHeight(),i=t.getWidth();this.isStrict&&(e<=0||i<=0||_.default.isPC&&(isNaN(t.length)||t.length<=0))?this.dispatchEvent(new u.default(p.ERROR)):(e&&(this._video_height=e),i&&(this._video_width=i),this._instance&&(this._video&&!this.isStop&&this.stop(),this._instance.removeFromParent(!0)),this._video=t,this._volume=t.volume,this._video.element.controls=this.control?\"controls\":\"\",null==this._changeState&&(this._changeState=_.default.delegate(this.__change_state,this)),null==this.bg?(this.bg=o.default.c(\"bs\",[\"#000000\",this._video_width,this._video_height]),this.addChild(this.bg),this.bg.mouseEnabled=!0,this.bg.addEventListener(h.default.MOUSE_DOWN,_.default.delegate(this.onMouseClick,this))):this.bg.setSize(this._video_width,this._video_height),_.default.useCanvas?this._instance=this._video:(this._instance=n.default.create(a.default),this._instance.element=this._video.element,this._instance.setSize(this._video_width,this._video_height)),this.addChild(this._instance),this.setSize(this._video_width,this._video_height),this.update_view(!1),this._video.setVolume(this._volume),this.play_btn&&!this.play_btn.hasEventListener(h.default.MOUSE_CLICK)&&this.play_btn.addEventListener(h.default.MOUSE_CLICK,_.default.delegate(this.onMouseClick,this)),this.dispatchEvent(new u.default(p.READY)))}updateSize(t,e){if(!this._is_loading&&null!=this._video&&t&&e){if(this.setSize(t,e),this.bg&&this.bg.setSize(t,e),this._instance){let i=l.default.getSizeScale(this._video_width,this._video_height,t,e,!0);this._instance.scale=i,this._instance.moveTo(Math.round(.5*(t-this._instance.getWidth())),Math.round(.5*(e-this._instance.getHeight())))}this.play_btn&&this.contains(this.play_btn)&&this.play_btn.moveTo(Math.ceil(.5*(t-this.play_btn.getWidth())),Math.ceil(.5*(e-this.play_btn.getHeight())))}}onMouseClick(t){if(!this._is_loading&&null!=this._video)switch(t.target){case this.play_btn:this.play();break;case this.bg:!this.isStop&&this._video.playing&&this.pause()}}change(){null!=this._video&&(!this.isStop&&this._video.playing?this.pause():this.play())}play(){null==this._video||this._video.playing||(this.seedTime=this.isStop?0:this.seedTime,this.update_view(!0),this.isStop&&(this._video.element.addEventListener(\"pause\",this._changeState),this._video.element.addEventListener(\"playing\",this._changeState),this._video.addEventListener(f.default.MEDIA_PLAY_COMPLETE,_.default.delegate(this.onPlayOver,this))),this._video.play(this.seedTime),this.isStop=!1)}pause(){null!=this._video&&(this.seedTime=this._video.getCurrentTime(),this._video.stop(),this.update_view(!1))}stop(){null==this._video||this.isStop||(this.isStop=!0,this.seedTime=0,this._video.stop(),this.update_view(!1),this._volume=this._video.volume,this._video.element.removeEventListener(\"playing\",this._changeState),this._video.element.removeEventListener(\"pause\",this._changeState),this._video.removeEventListener(f.default.MEDIA_PLAY_COMPLETE))}__change_state(t){if(\"playing\"==t.type){if(this._video.playing)return;this._video.playing=!0,this.update_view(!0),this.isStop&&this._video.addEventListener(f.default.MEDIA_PLAY_COMPLETE,_.default.delegate(this.onPlayOver,this)),this.isStop=!1,this.dispatchEvent(new u.default(p.PLAY))}else if(\"pause\"==t.type){if(!this._video.playing)return;this._video.playing=!1,this.seedTime=this._video.getCurrentTime(),this.update_view(!1),this.dispatchEvent(new u.default(p.PAUSE))}}update_view(t){if(this.__checkDisplayUpdate(),t)return this.play_btn&&this.play_btn.removeFromParent(!1),void(_.default.useCanvas&&!(this.stage?this.stage:d.default.current).hasEventListener(h.default.ENTER_FRAME,this.name)&&(this.stage?this.stage:d.default.current).addEventListener(h.default.ENTER_FRAME,_.default.delegate(this.onEnterFrame,this),this.name));this.play_btn&&(this.play_btn.moveTo(Math.ceil(.5*(this.width-this.play_btn.getWidth())),Math.ceil(.5*(this.height-this.play_btn.getHeight()))),this.addChild(this.play_btn)),(this.stage?this.stage:d.default.current).hasEventListener(h.default.ENTER_FRAME,this.name)&&(this.stage?this.stage:d.default.current).removeEventListener(h.default.ENTER_FRAME,null,this.name)}onEnterFrame(t){_.default.useCanvas&&this.__checkDisplayUpdate()}onPlayOver(t){this.stop(),this.dispatchEvent(new u.default(p.COMPLETE))}dispose(){this._video&&!this.isStop?this.stop():(this.stage?this.stage:d.default.current).hasEventListener(h.default.ENTER_FRAME,this.name)&&(this.stage?this.stage:d.default.current).removeEventListener(h.default.ENTER_FRAME,null,this.name),super.dispose(),delete this.isStrict,this._is_reload,this.control,this._changeState,this.bg,this.play_btn,this._instance,this._video,this._url,this.seedTime,this._video_width,this._video_height,this._is_loading,this.isStop,this._volume}}p.PLAY=\"video_player_play\",p.ERROR=\"video_player_error\",p.READY=\"video_player_ready\",p.PAUSE=\"video_player_pause\",p.COMPLETE=\"video_player_play_complete\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(26),a=i(2),h=i(1),n=i(12),r=i(41),l=i(0);class o extends s.default{constructor(t,e){super(),this._size=12,this._leading=0,this._lineWidth=0,this._thickness=0,this._lineHeight=1,this._fill_alpha=1,this._text=\"\",this._color=\"#000000\",this._textAlign=\"left\",this._stroke_color=\"#000000\",this._font=\"Microsoft YaHei\",this.autoSize=!1,this._instance=null,this._selectable=!0,this._textAdjust=!1,this._writingMode=this._underline=this._bold=this._italic=!1,this.setSize(t,e),this.element=n.default.create(\"svg\")}get selectable(){return this._selectable}set selectable(t){this._selectable=t,this._cursor=t?\"text\":\"default\",this._instance&&(this._instance.style.userSelect=this._selectable?\"text\":\"none\",this._instance.style[l.default.cssPrefix+\"UserSelect\"]=this._selectable?\"text\":\"none\")}get text(){return this._text}set text(t){this._text=t,this._set_text(t)}get writingMode(){return this._writingMode}set writingMode(t){null!=this.element&&this._writingMode!=t&&(this._writingMode=t,this.text=this.text)}get italic(){return this._italic}set italic(t){null!=this.element&&this._italic!=t&&(this._italic=t,this._instance&&(this._instance.style.fontStyle=this._italic?\"italic\":\"normal\"))}get bold(){return this._bold}set bold(t){null!=this.element&&this._bold!=t&&(this._bold=t,this._instance&&(this._instance.style.fontWeight=this._bold?\"bold\":\"normal\"))}get size(){return this._size}set size(t){null!=this.element&&this._size!=t&&(this._size=t,this.text=this.text)}get color(){return this._color}set color(t){this._color!=t&&(this._color=this._format_color(t),!a.default.isEmpty(this._color)&&this._instance&&(this._instance.style.fill=this._color))}get font(){return this._font}set font(t){a.default.isEmpty(t)||this._font==t||(this._font=t,this._instance&&(this._instance.style.fontFamily=this._font))}get align(){return this._textAlign}set align(t){null!=this.element&&this._textAlign!=t&&(this._textAlign=t,this._instance&&(this._instance.style.textAlign=this._textAlign))}get underline(){return this._underline}set underline(t){null!=this.element&&this._underline!=t&&(this._underline=t,this._instance&&(this._instance.style.textDecoration=this._underline?\"underline\":\"none\"))}get textAdjust(){return this._textAdjust}set textAdjust(t){null!=this.element&&this._textAdjust!=t&&(this._textAdjust=t,this.text=this.text)}get leading(){return this._leading}set leading(t){null!=this.element&&this._leading!=t&&(this._leading=t,this.text=this.text)}get lineHeight(){return this._lineHeight}set lineHeight(t){null!=this.element&&this._lineHeight!=t&&(this._lineHeight=t,this.text=this.text)}get lineWidth(){return this._lineWidth}set lineWidth(t){null!=t&&this._lineWidth!=t&&(this._lineWidth=t,this.text=this.text)}get strokeColor(){return this._stroke_color}set strokeColor(t){null!=t&&t!=this._stroke_color&&(this._stroke_color=this._format_color(t),!a.default.isEmpty(this._stroke_color)&&this._instance&&(this._instance.style.stroke=this._stroke_color))}get thickness(){return this._thickness}set thickness(t){null!=t&&t!=this._thickness&&(this._thickness=t,this._instance&&(this._instance.style.strokeWidth=this._thickness))}_set_text(t){if(a.default.isEmpty(t))return;let e,i,s,h,r=this._text.split(/\\r\\n|\\r|\\n|<br(?:[ \\/])*>/),o=this._size*this._lineHeight,u=r.length,d=Math.floor(this._lineWidth/(this._size+this._leading));this.autoSize&&this._lineWidth>0&&(this[this._writingMode?\"height\":\"width\"]=this._lineWidth);let _=this._writingMode?this.width-.5*o:o;for(this._instance?(this._instance.innerHTML=\"\",this._instance.setAttribute(\"transform\",\"translate(0, 0)\")):this._instance=n.default.create(\"text\",{width:this.width,height:this.height}),this.autoSize&&this._lineWidth>0&&this._instance.setAttribute(this._writingMode?\"height\":\"width\",this[this._writingMode?\"height\":\"width\"]),n.default.setAttributes(this._instance,{style:{fill:this._color,fillOpacity:this._fill_alpha,stroke:this._stroke_color,strokeWidth:this._thickness,fontStyle:this._italic?\"italic\":\"normal\",fontWeight:this._bold?\"bold\":\"normal\",fontSize:this._size+\"px\",fontFamily:this._font,textDecoration:this._underline?\"underline\":\"none\",textAlign:this._textAlign,letterSpacing:this._leading-(this._writingMode&&!this._textAdjust?Math.ceil(this._size/3.6):0)+\"px\"}}),this._instance.style.writingMode=this._writingMode?\"tb-rl\":\"lr-tb\",this._instance.style[l.default.cssPrefix+\"WritingMode\"]=this._writingMode?\"tb-rl\":\"lr-tb\",e=0;e<u;e++)if(h=r[e],d>0&&h.length>d)for(s=a.default.toArray(h,d),i=0;i<s.length;i++)this.__create_text(s[i],_,Math.ceil(o)),_=this._writingMode?_-o:_+o;else this.__create_text(h,_,Math.ceil(o)),_=this._writingMode?_-o:_+o;this.autoSize&&(this._writingMode&&_<0?(this.width=Math.abs(_)+this.width-.5*o,this._instance.setAttribute(\"width\",this.width),this._instance.setAttribute(\"transform\",\"translate(\"+Math.abs(_+.5*o)+\", 0)\")):!this._writingMode&&_>0&&(this.height=_,this._instance.setAttribute(\"height\",this.height))),this._instance&&null==this._instance.parentNode&&this.element.appendChild(this._instance),this.selectable=this._selectable}__create_text(t,e,i,s){let h=this._lineWidth>0?this._lineWidth:this.width,r=a.default.countLeftSpace(t)*(this._size+this._leading),l={x:this._writingMode?e:r,y:this._writingMode?r:e,textLength:h,lengthAdjust:\"spacing\"};this._textAdjust&&(l.textLength=h-r,l.lengthAdjust=\"spacing\");let o=n.default.create(\"tspan\",l);o.innerHTML=t,this._instance.appendChild(o)}_format_color(t){if(null==this.element||null==t)return t;if(t&&t instanceof HTMLImageElement)return this._set_pattern(t);if(!(t&&t instanceof r.default))return t;let e=this.element.getElementsByTagName(\"defs\")[0];null==e&&(e=n.default.create(\"defs\"),this.element.appendChild(e));let i=this.element.getElementById(this.name+\"_gradient\");i&&i.parentNode&&i.parentNode.removeChild(i);let s={id:this.name+\"_gradient\"};0==t.type?(s.x1=h.default.int(100*t.xStart/t.radiusStart)+\"%\",s.y1=h.default.int(100*t.yStart/t.radiusEnd)+\"%\",s.x2=h.default.int(100*t.xEnd/t.radiusStart)+\"%\",s.y2=h.default.int(100*t.yEnd/t.radiusEnd)+\"%\"):(s.fx=h.default.int(100*t.xStart/(2*t.radiusEnd))+\"%\",s.fy=h.default.int(100*t.yStart/(2*t.radiusEnd))+\"%\",s.cx=h.default.int(100*t.xEnd/(2*t.radiusEnd))+\"%\",s.cy=h.default.int(100*t.yEnd/(2*t.radiusEnd))+\"%\",s.r=h.default.int(2*t.radiusStart*100/t.radiusEnd)+\"%\"),i=n.default.create(0==t.type?\"linearGradient\":\"radialGradient\",s);let a,l,o=t.offsetlist.length;for(a=0;a<o;a++)l=n.default.create(\"stop\",{offset:t.offsetlist[a],\"stop-color\":t.colorList[a]}),i.appendChild(l);return e.appendChild(i),\"url(#\"+this.name+\"_gradient)\"}_set_pattern(t){let e=this.element.getElementsByTagName(\"defs\")[0];null==e&&(e=n.default.create(\"defs\"),this.element.appendChild(e));let i=this.element.getElementById(this.name+\"_pattern\");i&&i.parentNode&&i.parentNode.removeChild(i),i=n.default.create(\"pattern\",{id:this.name+\"_pattern\",width:t.width,height:t.height,patternUnits:\"userSpaceOnUse\"});let s=n.default.create(\"image\",{x:0,y:0,width:t.width,height:t.height});return s.setAttributeNS(n.default.xlink,\"href\",t.src),i.appendChild(s),e.appendChild(i),\"url(#\"+this.name+\"_pattern)\"}clone(){let t=new o(this.width,this.height);return t.autoSize=this.autoSize,t._size=this._size,t._leading=this._leading,t._lineWidth=this._lineWidth,t._thickness=this._thickness,t._lineHeight=this._lineHeight,t._fill_alpha=this._fill_alpha,t._stroke_color=this._stroke_color,t._writingMode=this._writingMode,t._selectable=this._selectable,t._textAdjust=this._textAdjust,t._textAlign=this._textAlign,t._underline=this._underline,t._italic=this._italic,t._color=this._color,t._font=this._font,t._bold=this._bold,t.text=this._text,t}dispose(){super.dispose(),delete this._size,this._leading,this._lineWidth,this._thickness,this._lineHeight,this._fill_alpha,this._text,this._color,this._textAlign,this._stroke_color,this._font,this.autoSize,this._instance,this._selectable,this._textAdjust,this._writingMode,this._underline,this._bold,this._italic}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return u}));var s=i(11),a=i(2),h=i(37),n=i(3),r=i(18),l=i(1),o=i(0);class u extends s.default{constructor(){super(),this.mouseEnabled=this.mouseChildren=!1,this._is_init=!1,this.autoSize=!0,this._has_update=!0,this._lineHeight=1,this._lineWidth=0,this._leading=0,this._size=0,this._color=\"\",this._text=\"\",this._font=\"\",this._textAlign=\"start\",this.name=\"bitmap_text_\"+this.name,this._ct=this._fonts=this._instance=null}get text(){return this._text}set text(t){this._is_init&&this._text!=t&&(this._text=t,this._has_update=!0)}get font(){return this._font}set font(t){this._is_init&&this._font!=t&&(this._font=t,this._fonts=h.default.get(this._font),this._has_update=!0)}get color(){return this._color}set color(t){t=r.default.formatColor(t),this._color!=t&&(this._color=t,this._has_update=!0)}get leading(){return this._leading}set leading(t){this._is_init&&this._leading!=t&&(this._leading=t,this._has_update=!0)}get lineHeight(){return this._lineHeight}set lineHeight(t){null!=t&&this._lineHeight!=t&&(this._lineHeight=t,this._has_update=!0)}get size(){return this._size}set size(t){this._size==Number(t)||isNaN(t)||(t=Number(t),this.scale=this.scale*l.default.format(t/this._size),this._size=t)}get lineWidth(){return this._lineWidth}set lineWidth(t){this._is_init&&this._lineWidth!=t&&(this.width=this._lineWidth=Math.min(100,t),this._has_update=!0)}get align(){return this._textAlign}set align(t){this._is_init&&this._textAlign!=t&&(this._textAlign=t,this._has_update=!0)}setup(t,e,i,s,a){this._text=t||this._text,this._font=e||this._font,this._color=s||this._color,this.width=this._lineWidth=i||this._lineWidth,this._textAlign=a||this._textAlign,this._fonts=h.default.get(this._font),null!=this._fonts&&(this._size=Math.abs(Number(this._fonts.info.size)),null==this._instance&&o.default.useCanvas&&(this._instance=n.default.create(DisplayObject),this.addChild(this._instance)),this._is_init=this._has_update=!0,this._fonts&&this._update())}_update(){this.__checkDisplayUpdate();let t,e,i,s,h=this._fonts.info.spacing.split(\",\"),r=Number(h[0]),l=Number(h[1]),u=r,d=l,_=this._text.length,c=-1,f=0,p=0,m=n.default.create(Point),g=\"\";for(o.default.useCanvas?this._instance.context.reset():this.removeAllChildren(!0),t=0;t<_;t++)if(c=this._text.charCodeAt(t),i=this._fonts.chars[c],null!=i){if(o.default.useCanvas?(s=n.default.create(Point).set(i.regX,i.regY),this._instance.context.translate(u-s.x-m.x,d-s.y-m.y),this._instance.context.drawImage(i.image,o.default.useCache?0:i.x,o.default.useCache?0:i.y,i.width,i.height,0,0,i.width,i.height),m.set(u-s.x,d-s.y),n.default.remove(s)):(e=n.default.create(DOMDisplay),e.setInstance(i),e.moveTo(u,d),this.addChild(e)),f=0==f?i.height:Math.max(f,i.height),u+=i.width+this._leading+r,u>=(this._lineWidth<=0?this.stage?this.stage.stageWidth:o.default.width:this._lineWidth)-i.width){if(t+1<_&&(c=this._text.charCodeAt(t+1),c>=65&&c<123))continue;p=Math.max(p,u),u=r,d+=(f?Math.ceil(f*this._lineHeight):0)+l,f=0}}else g+='\"'+this._text.charAt(t)+'\" ';p=Math.ceil(Math.max(p,u)),d=Math.ceil(d+f+l),this.autoSize&&(this.width=p,this.height=d),this._has_update=!1,n.default.remove(m),o.default.useCanvas&&(this._instance.width=p,this._instance.height=d),a.default.isEmpty(g)||trace(\"[WARN] _update miss fonts [\"+g+\"]\")}render(){a.default.isEmpty(this._text)||(this._has_update&&this._update(),super.render(...arguments))}dispose(){this._instance&&this._instance.removeFromParent(!0),super.dispose(),delete this.autoSize,this._lineHeight,this._size,this._ct,this._color,this._is_init,this._has_update,this._lineWidth,this._leading,this._text,this._font,this._textAlign,this._instance}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return o}));var s=i(11),a=i(8),h=i(2),n=i(6),r=i(0),l=i(17);class o extends s.default{constructor(t,e){super(),this._loop=this._call_back=this._img=this._instance=null,t&&(\"string\"==typeof t?this.setup(t,e):this._set_instance(t)),this.speed=1}get stage(){return this._stage}set stage(t){if(this._stage==t)return;if(this._stage=t,this._instance&&this._stage?this.play():this.stop(),null==this._children||this._children.length<1)return;let e,i,s;for(e=0,s=this._children.length;e<s;e++)i=this._children[e],i.stage=t}setup(t,e){h.default.isEmpty(t)||(this._call_back=e,this._img=new Image,this._img.style.display=\"none\",this._img.onload=r.default.delegate(this._load_handler,this),this._img.onerror=r.default.delegate(this._error_handler,this),this._img.src=t)}_load_handler(t){this._img.onload=this._img.onerror=null,this._set_instance(this._img),this._img=null}_set_instance(t){this._instance=n.default.c(\"do\"),this._instance.setInstance(t),l.default,t=t,this._instance.origin={x:.5*t.width,y:.5*t.height},this._loop=r.default.delegate(this.play,this),this.addChild(this._instance),this._stage&&this.play(),this._call_back&&(this._call_back(),this._call_back=null)}_error_handler(t){trace(\"[ERROR]LoadingClip loading error by\",this._img.src),this._img.onload=this._img.onerror=null,this._img=null}play(){null!=this._instance&&(this._instance.rotation=this._instance.rotation>350?0:this._instance.rotation,a.default.to(this._instance,1/this.speed,{rotation:360,onComplete:this._loop}))}stop(){this._instance&&a.default.remove(this._instance)}dispose(){this.stop(),super.dispose(),delete this._loop,this._call_back,this._img,this._instance,this.speed}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return p}));var s=i(11),a=i(34),h=i(8),n=i(4),r=i(43),l=i(25),o=i(50),u=i(6),d=i(24),_=i(0),c=i(33),f=i(5);class p extends s.default{constructor(){super(),this.disable_ft_color=\"#D5D5D5\",this.over_ft_color=\"#000000\",this.line_color=\"#D6D6D6\",this.disable_color=\"#E0E0E0\",this.over_color=\"#D8D8D8\",this.bg_color=\"#F2F2F2\",this.speed=300,this.canPush=!1,this.useWheel=!0,this.multiSelection=!1,this.common_color=this.selectedList=null,this.item_height=this.w=this.h=this.time=0,this._handler=this.control=this._selected=this.container=this.tf_obj=this._datas=null}get selected(){return this.multiSelection?this.selectedList:this._selected}set selected(t){if(this.multiSelection){if(!this.container||!this.container.numChildren)return;let e=!t||!t.length;l.default.each(this.container._children,(function(i){(e&&i.bool||!e&&(!i.bool&&t.indexOf(i.data)>=0||i.bool))&&this._click_item(i)}),this)}else this._selected!=t&&(this._selected&&(this._selected.enable=!0),this._selected=t,t&&(this._selected.enable=!1))}get data(){return this._datas}set data(t){if(this._datas=t,t&&t.length){if(!this.container){let e=!this.canPush&&this.h/this.item_height>=t.length;this.container=u.default.c(\"dc\"),e||(this.control=new o.default,this.control.instance=this.container,this.control.setDimension(this.w,this.h,a.default.isY,!0,!0)),this.addChild(this.control?this.control:this.container),_.default.isPC&&this.useWheel&&(this.container.mouseEnabled=!0,this.container.addEventListener(n.default.MOUSE_WHEEL,_.default.delegate(this._mouse_wheel,this)))}l.default.each(this._datas,(function(t){this.addItem(t)}),this)}else this.clear()}setup(t,e,i,s,a){this.w=t,this.h=e,this.tf_obj=s,this.setSize(t,e),this.item_height=i,this.multiSelection=1==a,s&&(this.common_color=s.color),this.multiSelection&&(this.selectedList=[]),_.default.isPC&&(this.time=.5),this._handler=_.default.delegate(this._click_item,this)}_mouse_wheel(t){let e=t.delta>0;if(!e&&this.container.y<=this.h-this.container.height||e&&this.container.y>=0)return;let i=this.container.y+(e?this.item_height:-this.item_height);i=e?Math.min(0,i):Math.max(this.h-this.container.height,i);let s=Math.abs(this.container.y-i)/this.speed;h.default.remove(this.container),h.default.to(this.container,s,{y:i})}addItem(t){if(!t)return;let e=new c.default;e.instance=u.default.c(\"bs\",[this.bg_color,this.w-2,this.item_height-2,0,1,this.line_color]),e.setup([u.default.c(\"ef\",[d.default.COLOR,this.bg_color,this.time])],[u.default.c(\"ef\",[d.default.COLOR,this.over_color,this.time])],[u.default.c(\"ef\",[d.default.COLOR,this.disable_color,this.time])]),this.tf_obj.width=this.tf_obj.size*t.label.length,this.tf_obj.height=this.tf_obj.size+1,this.tf_obj.text=t.label,this.tf_obj.y=.5*(this.item_height-this.tf_obj.height),this.tf_obj.x=.5*(this.w-this.tf_obj.width),e.setLabel(this.tf_obj,this.over_ft_color,this.disable_ft_color),e.data=t.value,e.bool=!1,this.container.addChild(e),r.default.tile(this.container._children,1,!1),this.container.height=this.container.numChildren*this.item_height,e.addEventListener(n.default.MOUSE_TAP,this._handler)}_click_item(t){if(!t)return;let e=t instanceof c.default?t:t.target;if(this.multiSelection){if(e.bool){let t=this.selectedList.indexOf(e);t>=0&&this.selectedList.splice(t,1),e.setupState([u.default.c(\"ef\",[d.default.COLOR,this.bg_color,this.time])],c.default.state.UP),e.out_color=this.common_color}else this.selectedList.push(e),e.setupState([u.default.c(\"ef\",[d.default.COLOR,this.over_color,this.time])],c.default.state.UP),e.out_color=e.over_color;return e.state=null,e.bool=!e.bool,void e.setState(c.default.state.UP)}this.selected=e,this.dispatchEvent(new f.default(p.CHANGE,e.data,e.tf.text))}size(t,e){this.container&&this.container.numChildren&&(l.default.each(this.container._children,(function(e){e.instance.width=t,e.tf.x=.5*(t-this.tf_obj.size*e.tf.text.length)}),this),this.control&&this.control.updateSizeInArea(t,e))}clear(){this.container&&(this.container.removeFromParent(!0),this.control&&this.control.dispose(),this.container=this.control=null)}dispose(){this.clear(),super.dispose(),delete this.speed,this.useWheel,this.disable_ft_color,this.over_ft_color,this.line_color,this.disable_color,this.over_color,this.bg_color,this.canPush,this.item_height,this.w,this.h,this._handler,this.control,this._selected,this.container,this.tf_obj,this._datas}}p.CHANGE=\"list_select_change\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return p}));var s=i(11),a=i(8),h=i(4),n=i(43),r=i(9),l=i(50),o=i(42),u=i(6),d=i(70),_=i(33),c=i(0),f=i(5);class p extends s.default{constructor(){super(),this._value=this._current=this._btn=this._datas=this._tf=this._sprite=this._bar=this._container=this._control=this._list=null,this._btn_height=this._timeID=this._list_width=this._list_height=0,this._downspread=this._init=this._enable=this._block=!1,this.item_bg_color=\"#FFFFFF\",this.item_over_color=\"#E6F4AC\",this.item_frame_color=\"#CCCCCC\",this.text_font=\"Microsoft YaHei\",this.text_over_color=\"#666666\",this.text_normal_color=\"#CCCCCC\",this.delay_time=1e3,this.item_rect=null,this.item_height=23,this.font_size=16,this.bar_width=4,this.spread=0,this.space=1}get enable(){return this._enable}set enable(t){this._init&&(this._enable=t,this._btn.enable=t,t||this._closeList())}get value(){return this._value}get current(){return this._current}set current(t){if(!this._init||null==t||null==this._datas||t<0||t>=this._datas.length)return;let e=this._current!=t,i=this._datas[this._current];i&&(i.enable=!0);let s=this._datas[t];s&&(s.enable=!1,this._value=s.datas,this._tf.text=s.getLabel()),this._current=t,e&&this.dispatchEvent(new f.default(p.SELECT,this._value))}select(t){if(null==t||!this._init||null==this._datas||this._datas.length<1)return!1;for(let e,i=0,s=this._datas.length;i<s;i++)if(e=this._datas[i],e&&e.datas==t)return this.current=e.index-1,!0;return!1}initialize(){if(this._init)return;this._init=!0,this._datas=[],this._list=u.default.c(\"dc\"),this._container=u.default.c(\"dc\"),this._container.setSize(this._list_width-2*this.bar_width,this._list_height),this._control=new l.default,this._control.setDimension(this._list_width-2*this.bar_width,this._list_height,UIOrientation.isY,!0,!1),this._control.instance=this._container,this._list.addChild(this._control);let t=u.default.c(\"bs\"),e=u.default.c(\"bs\");t.setup(\"#999999\",2*this.bar_width,this._list_height,this.bar_width),e.setup(\"#E0E0E0\",2*this.bar_width,this.bar_width),this._bar=new d.default,this._bar.setup(this._container,this._control.mask,t,e,!0,!0,{x:this._control.x,y:this._control.y}),this._list.addChild(this._bar),this._sprite=new o.default,this._sprite.addChild(this._list),this._sprite.mask=new r.default(0,0,this._list_width,this._list_height),this.addChild(this._sprite),this._tf=u.default.c(\"tf\",{text:\"\",size:this.font_size,color:\"#666666\",font:this.text_font}),this._tf.width=this._tf.lineWidth=this._list_width-this._btn.getWidth(),this._tf.height=this._btn_height;let i=u.default.c(\"bs\",[\"#FFFFFF\",this._tf.width,this._tf.height]);i.alpha=0,this._btn.addChild(i),i.moveTo(-this._tf.width,.5*(this._tf.height-(this.font_size+4))),this.addChild(this._btn),this.moveTo(this._btn.x,this._btn.y),this._btn.moveTo(this._tf.width,0),this._sprite.moveTo(0,this._tf.height),this._btn._updateSize(),this._tf.moveTo(0,.5*(this._tf.height-(this.font_size+4))),this.addChild(this._tf),this._list.mouseEnabled=!0,this._list.addEventListener(h.default.MOUSE_OVER,c.default.delegate(this._stopCountTime,this),this.name),this._list.addEventListener(h.default.MOUSE_OUT,c.default.delegate(this._startCountTime,this),this.name),this._btn.addEventListener(h.default.MOUSE_CLICK,c.default.delegate(this._onClickHandler,this),this.name),this._btn.addEventListener(h.default.MOUSE_OVER,c.default.delegate(this._stopCountTime,this),this.name),this._btn.addEventListener(h.default.MOUSE_OUT,c.default.delegate(this._startCountTime,this),this.name),this._sprite.visible=!1}_onClickHandler(t){this._sprite.visible?this._closeList():this._openList()}setup(t,e,i,s,a){if(this._btn=s,this._list_width=e,this._list_height=i,this._btn_height=s.getHeight(),this._current=null==a?0:a,this._init||this.initialize(),!(null==t||null==t.length||t.length<1)){for(let e=0,i=t.length;e<i;e++)this.addItem(t[e],!1);this._refresh(),this.current=this._current}}addItem(t,e){if(null==t)return;null==this.item_rect&&(this.item_rect=new r.default(0,0,this._list_width-2*this.bar_width,this.item_height));let i=t.hasOwnProperty(\"value\")||t.value?t.value:t,s=t.hasOwnProperty(\"label\")||t.label?t.label:i,a=new _.default,n=u.default.c(\"bs\");n.setup(this.item_bg_color,this._list_width-2*this.bar_width,this.item_height,0,1,this.item_frame_color),a.instance=n,a.setup([u.default.c(\"ef\",[Effect.COLOR,this.item_bg_color,.15])],[u.default.c(\"ef\",[Effect.COLOR,this.item_over_color,.15])]),a.setLabel({text:s,font:this.text_font,color:this.text_normal_color,size:this.font_size},this.text_over_color),a.datas=i,this._container.addChild(a),a.index=this._datas.push(a),a.setSize(n.width,n.height),a.addEventListener(h.default.MOUSE_TAP,c.default.delegate(this._onTapHandler,this),this.name),null==e&&this._refresh()}_refresh(){null==this._datas||this._datas.length<1||(n.default.tile(this._datas,1,!1,this.item_rect),this._container._updateSize(),this._control._recovery_scale(),this._bar.barSync())}_onTapHandler(t){let e=t.target;null!=e&&(this.current=e.index-1,this._closeList())}_startCountTime(t){this._sprite.visible&&(this._timeID>0&&clearTimeout(this._timeID),this._timeID=setTimeout(c.default.delegate(this._closeList,this),this.delay_time))}_stopCountTime(t){clearTimeout(this._timeID)}_openList(){if(this._block)return;this._block=!0;let t=this.localToGlobal(0,0);this._downspread=this.stage&&this.stage.stageHeight?t.y+this._list_height<this.stage.stageHeight:t.y-this._list_height<0,this._downspread=1==this.spread||0==this.spread&&this._downspread;let e=Math.min(this._list_height,this._container.height),i=Math.max(0,this._list_height-this._container.height);this._sprite.visible=!0,this._sprite.moveTo(0,this._downspread?this._btn_height+this.space:-this.space-e-i),this._list.y=this._downspread?-this._list.height:e,a.default.remove(this._list),a.default.to(this._list,.5,{y:this._downspread?0:i,onComplete:c.default.delegate(this._outCompleteHandle,this)})}_closeList(){this._block||(this._block=!0,this._stopCountTime(),a.default.remove(this._list),a.default.to(this._list,.4,{y:this._downspread?-this._list_height:this._list_height,onComplete:c.default.delegate(this._inCompleteHandle,this)}))}_inCompleteHandle(){this._block=!1,this._sprite.visible=!1,this.dispatchEvent(new f.default(p.SPREAD,!1))}_outCompleteHandle(){this._block=!1,this.dispatchEvent(new f.default(p.SPREAD,!0))}dispose(){this._closeList(),this._stopCountTime(),this._btn&&(this._btn.removeEventListener(h.default.MOUSE_CLICK,null,this.name),this._btn.removeEventListener(h.default.MOUSE_OVER,null,this.name),this._btn.removeEventListener(h.default.MOUSE_OUT,null,this.name)),super.dispose(),delete this._block,this._value,this._current,this._btn,this._datas,this._tf,this._sprite,this._bar,this._container,this._control,this._list,delete this.text_font,this.item_bg_color,this.item_over_color,this.item_frame_color,this.text_over_color,this.text_normal_color,delete this._btn_height,this._timeID,this._list_width,this._list_height,this._downspread,this._init,this._enable,delete this.spread,this.delay_time,this.item_rect,this.item_height,this.font_size,this.bar_width}}p.SELECT=\"combo_list_select\",p.SPREAD=\"combo_list_spread\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return m}));var s=i(42),a=i(9),h=i(2),n=i(1),r=i(11),l=i(8),o=i(4),u=i(43),d=i(3),_=i(6),c=i(0),f=i(7),p=i(5);class m extends s.default{constructor(){super(),this.space=0,this.offset=1,this.mouseEnabled=!0,this._portrait=!0,this._is_init=this._is_next=this._has_drag=this._is_full=!1,this._bg_color=this._base_size=this._temp_item=this._bg=this._temp_point=this._time=this._start_point=this._complete=this._length=this._hold_rect=this._free_rect=this._current=this._middle=this._list=this._container=this._max_num=this._max_num=this._item_class=this._list_width=this._list_height=this._item_size=this._datas=null}get data(){return this._datas}set data(t){this._datas==t&&this._container||(this._datas=t,null!=this._list_height&&null!=t&&(this._container&&this.clear(),this.init()))}get listWidth(){return this._list_width}set listWidth(t){if(null==t||this._list_width==t)return;if(this._list_width=t,null==this._list||this._list.length<1)return;if(this._portrait){this._bg&&(this._bg.width=this._list_width);for(let t in this._list)this._list[t].itemWidth=this._list_width;return void(this.mask=new a.default(0,0,this._list_width,this._list_height))}let e=this._current;this.clear(),this.init(e)}get listHeight(){return this._list_height}set listHeight(t){if(null==t||this._list_height==t)return;if(this._list_height=t,null==this._list||this._list.length<1)return;if(!this._portrait){this._bg&&(this._bg.height=this._list_height);for(let t in this._list)this._list[t].itemHeight=this._list_height;return void(this.mask=new a.default(0,0,this._list_width,this._list_height))}let e=this._current;this.clear(),this.init(e)}get current(){return this._current}set current(t){this._current!=t&&(null!=this._current&&this._temp_item&&(this._temp_item.selected=!1),this._current=t)}setup(t,e,i,s,a=!0,h=null,n=0){null!=s&&(this._item_class=s,this._portrait=!(0==a),this._base_size=this._portrait?e:t,this._item_size=i,this._list_height=e,this._list_width=t,this._bg_color=h,null!=this._datas&&(this._container&&this.clear(),this.init(n)))}clear(){if(null==this._datas||null==this._list)return;let t,e,i=this._list.length;for(l.default.remove(this._container),t=0;t<i;t++)e=this._list[t],e.removeEventListener(o.default.MOUSE_TAP),e.removeFromParent(!1),d.default.remove(e);this.mask=null,this.removeAllChildren(!0),this._current=this._temp_item=this._hold_rect=this._free_rect=this._container=this._list=null}init(t){t=null==t?0:t,h.default.isEmpty(this._bg_color)||(this._bg&&this.contains(this._bg)&&this._bg.removeFromParent(!0),this._bg=_.default.c(\"bs\",[this._bg_color,this._list_width,this._list_height]),this._bg.mouseEnabled=!0,this.addChildAt(this._bg,0)),this._middle=Math.ceil(.5*(this._portrait?this._list_height:this._list_width))-Math.floor(.5*this._item_size),this._max_num=Math.ceil((this._portrait?this._list_height:this._list_width)/(this._item_size+this.space))+2,this._length=(this._item_size+this.space)*this._datas.length-this.space,this._is_full=this._datas.length>this._max_num,this._container=new r.default,this.addChild(this._container),this._list=[],this._container.mouseEnabled=!0,this._container.moveTo(this._portrait?0:this._middle,this._portrait?this._middle:0),this.mask=new a.default(0,0,this._list_width,this._list_height),this._free_rect=new a.default(0,0,this._portrait?0:this._length,this._portrait?this._length:0),this._hold_rect=new a.default(0,0,this._portrait?0:this._free_rect.width+this._list_width,this._portrait?this._free_rect.height+this._list_height:0),this._create_list(),this._list.length>0&&(this._temp_item=this._list[0],this._list[0].selected=!0,this.current=0,t>0?this.goto(t,!0):(this._update_items_state(),this.dispatchEvent(new p.default(m.SELECT,this._datas[0])))),this._is_init||(this._is_init=!0,this._complete=c.default.delegate(this.onTweenComplete,this),this.addEventListener(o.default.MOUSE_DOWN,c.default.delegate(this.onMouseDown,this)),this.addEventListener(o.default.MOUSE_WHEEL,c.default.delegate(this.onMouseWheel,this)))}onMouseDown(t){this._has_drag=!1,l.default.remove(this._container),this._start_point=new f.default(t.mouseX,t.mouseY),this.stage.addEventListener(o.default.MOUSE_MOVE,c.default.delegate(this.onMouseMove,this),this.name),this.stage.addEventListener(o.default.MOUSE_UP,c.default.delegate(this.onMouseUp,this),this.name)}onMouseMove(t){let e=new f.default(t.mouseX,t.mouseY);if(!this._has_drag&&f.default.distance(this._start_point,e)>5){let t=this.localToGlobal(this._portrait?0:this._middle,this._portrait?this._middle:0);this._free_rect.x=this._portrait?t.x:t.x-this._length,this._free_rect.y=this._portrait?t.y-this._length:t.y,this._hold_rect.x=this._portrait?this._free_rect.x:Math.ceil(this._free_rect.x-.5*this._list_width),this._hold_rect.y=this._portrait?Math.ceil(this._free_rect.y-.5*this._list_height):this._free_rect.y,this._has_drag=!0,this._is_next=this._portrait?t.y<this._start_point.y:t.x<this._start_point.x,this.stage.startDrag(this._container,this._hold_rect,!1,this._free_rect),this._time=(new Date).getTime(),this._start_point=e}if(!this._has_drag)return;let i=this._portrait?\"y\":\"x\";this._is_next&&e[i]<=(this._temp_point?this._temp_point:this._start_point)[i]||!this._is_next&&e[i]>=(this._temp_point?this._temp_point:this._start_point)[i]?this._temp_point=e:(this._start_point=this._temp_point=e,this._time=(new Date).getTime(),this._is_next=!this._is_next),this._update_list()}onMouseUp(t){if(this.stage.removeEventListener(o.default.MOUSE_MOVE,null,this.name),this.stage.removeEventListener(o.default.MOUSE_UP,null,this.name),this._has_drag=!1,this.stage.stopDrag(),null==t)return void(this._start_point=this._temp_point=this._time=null);let e=(new Date).getTime()-this._time;if(0==e||null==this._temp_point?this._move_current_item():this._move_list_by_speed(this._portrait?Math.abs(this._start_point.y-this._temp_point.y)/e:Math.abs(this._start_point.x-this._temp_point.x)/e),this._start_point=this._temp_point=this._time=null,!(this._portrait?this._container.y>this._middle||this._container.y<this._middle-this._length+this._item_size:this._container.x>this._middle||this._container.x<this._middle-this._length+this._item_size))return;let i=this._portrait?0:this._container.x>this._middle?this._middle:this._container.x<this._middle-this._length+this._item_size?this._middle-this._length+this._item_size:this._container.x,s=this._portrait?this._container.y>this._middle?this._middle:this._container.y<this._middle-this._length+this._item_size?this._middle-this._length+this._item_size:this._container.y:0;l.default.to(this._container,.16,{ease:\"easeoutquad\",x:i,y:s,onComplete:this._complete})}_move_list_by_speed(t){if(null==t)return;if(0==t||t<.1)return void this._move_current_item();let e=n.default.format(t*(this._item_size+this.space)*this.offset),i=Math.max(.1,n.default.format(e*this.offset*.3/this._item_size));this.moveList(e,i)}moveList(t,e){if(null==t||0==t)return;let i=this._portrait?\"y\":\"x\",s=Math.ceil((this._container[i]+(this._is_next?-1:1)*t)/(this._item_size+this.space));if(s=s*(this._item_size+this.space)-(s>1?this.space+.5*this._item_size:.5*this._item_size),s=s>this._middle?this._middle:s<this._middle-this._length+this._item_size?this._middle-this._length+this._item_size:s,0==e)return this._container[i]=s,void this.reset_list();let a={};a[i]=s,a.onComplete=this._complete,a.onUpdate=c.default.delegate(this._update_list,this),l.default.to(this._container,e,a)}onTweenComplete(){this._update_items_state(),this._move_current_item()}onMouseWheel(t){this._is_next=t.delta<0,l.default.remove(this._container),this._move_list_by_speed(Math.abs(t.delta))}onMouseTap(t){let e=t.target;null!=e&&this.goto(e.index)}goto(t,e){if(t<0||t>=this._datas.length||this._current==t)return;l.default.remove(this._container);let i=this._portrait?\"y\":\"x\",s=(t+1)*(this._item_size+this.space)-(t>0?this.space:0);s=s+this._container[i]-this._middle-this._item_size,this._is_next=s>0;let a=Math.abs(s),h=e?0:Math.max(.1,n.default.format(a*this.offset*.1/this._item_size));this.moveList(a,h)}reset_list(){if(null==this._list||this._list.length<1)return;let t,e,i,s=this._list.length,a=this._portrait?\"y\":\"x\",h=this._container[a],n=Math.abs(Math.ceil((this._middle-h+.5*this._item_size)/(this._item_size+this.space)));n=n>0?n-1:0;let r=Math.ceil(.5*this._max_num)-(this._max_num%2==0?0:1),l=n-r;for(l=n+r>this._datas.length-1?this._datas.length-this._list.length:l,l=l<0?0:l,t=0;t<s;t++)i=this._list[t],i.index=l,i.selected=!1,i.data=this._datas[l],i[a]=l*(this._item_size+this.space),l==n&&(e=t),l++;this._update_items_state(e),this._move_current_item()}_create_list(){if(null==this._datas||this._datas.length<1)return;let t,e,i,s=Math.min(this._datas.length,this._max_num);for(t=0;t<s;t++)e=this._datas[t],i=d.default.create(this._item_class),this._list.push(i),this._container.addChild(i),i.set(e,this._portrait?this._list_width:this._item_size,this._portrait?this._item_size:this._list_height),i.index=t,i.addEventListener(o.default.MOUSE_TAP,c.default.delegate(this.onMouseTap,this));u.default.tile(this._list,1,!this._portrait,new a.default(0,0,this._portrait?this._list_width:this._item_size,this._portrait?this._item_size:this._list_height),new f.default(this._portrait?0:this.space,this._portrait?this.space:0))}_update_list(){if(this._update_items_state(),!this._is_full)return;let t=this._is_next?this._list[this._list.length-1]:this._list[0],e=t.index;if(this._is_next&&e>=this._datas.length-1||!this._is_next&&e<=0)return;let i=this._is_next?this._list[0]:this._list[this._list.length-1],s={x:i.x+this._container.x,y:i.y+this._container.y},a=this._portrait?\"y\":\"x\";if(this._is_next){if(s[a]>-this._item_size)return;this._list.shift(),i.index=e+1,i.data=this._datas[i.index],i.selected=i.index==this._current,this._list.push(i),i[a]=t[a]+(this._item_size+this.space)}else{if(s[a]<(this._portrait?this._list_height:this._list_width)+this._item_size)return;this._list.pop(),i.index=e-1,i.data=this._datas[i.index],i.selected=i.index==this._current,i.selected&&(this._temp_item=i),this._list.unshift(i),i[a]=t[a]-(this._item_size+this.space)}}_update_items_state(t){if(null==this._list||this._list.length<1)return;let e,i,s,a,h=null==t?this._middle:this._list[t][o]+this._container[o],r=0,l=this._list.length,o=this._portrait?\"y\":\"x\";for(e=0;e<l;e++)i=this._list[e],a=Math.abs(i[o]+this._container[o]-h),0==e?s=a:a<s&&(s=a,r=e),i.update(n.default.format((this._middle-a)/this._middle));r=null==t?r:t,this.current=this._list[r].index,this._temp_item=this._list[r],this._list[r].selected=!0}_move_current_item(){let t=this._portrait?\"y\":\"x\",e=this._temp_item[t]+this._container[t]-this._middle;this._container[t]-=e,this.dispatchEvent(new p.default(m.SELECT,this._datas[this._current]))}dispose(){this.clear(),super.dispose(),delete this._bg_color,this.space,this.offset,this.mouseEnabled,this._portrait,this._is_init,this._is_next,this._has_drag,this._is_full,this._temp_item,this._bg,this._temp_point,this._time,this._start_point,this._complete,this._length,this._hold_rect,this._free_rect,this._current,this._middle,this._list,this._container,this._max_num,this._max_num,this._item_class,this._list_width,this._list_height,this._item_size,this._datas}}m.SELECT=\"stl_select_item\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return p}));var s=i(11),a=i(15),h=i(2),n=i(3),r=i(18),l=i(1),o=i(12),u=i(6),d=i(20),_=i(41),c=i(0),f=i(5);class p extends s.default{constructor(){super(),this._thickness=0,this._fill_alpha=1,this._dash=this._rect=this._vo=this.instance=this._stroke=this._pattern=this._pattern_src=this._color=null,this.use_canvas=c.default.useCanvas,this.mouseChildren=!1,this.repeat=\"repeat\"}get pattern(){return this._pattern}set pattern(t){if(this._pattern&&this._pattern.parentNode&&this._pattern.parentNode.removeChild(this._pattern),this.resize=!0,this.__checkDisplayUpdate(),this._pattern_src=this._pattern=null,null==t||!(t instanceof Image))return;this._pattern_src=t.src;let e=o.default.supported;if(0==this._fill_alpha&&(this._fill_alpha=1),this._pattern=t?this.use_canvas?[t,this.repeat,this._fill_alpha]:e?o.default.create(\"pattern\",{id:this.name+\"_pattern\",width:t.width,height:t.height,patternUnits:\"userSpaceOnUse\"}):t:t,null==this.instance.element&&this.redraw(),t&&!this.use_canvas&&e&&this.instance.element){let e=o.default.create(\"image\",{x:0,y:0,width:t.width,height:t.height});e.setAttributeNS(o.default.xlink,\"href\",t.src),this._pattern.appendChild(e);let i=this.instance.element.getElementsByTagName(\"defs\")[0];null==i&&(i=o.default.create(\"defs\"),this.instance.element.appendChild(i)),i.appendChild(this._pattern)}}set resize(t){t&&this._resize!=t&&(this.use_canvas&&this.instance&&this.instance.graphics.reset(),this.dispatchEvent(new f.default(a.default.RESIZE)),this.__checkDisplayUpdate()),this._resize=t}get resize(){return this._resize}get dash(){return this._dash}set dash(t){t!=this._dash&&(this._dash=t,this.resize=!0)}get color(){return this._color}set color(t){this.pattern=null,\"string\"==typeof t&&h.default.isEmpty(t)?this._fill_alpha=0:0==this._fill_alpha&&(this._fill_alpha=1),null!=t&&this._color!=t&&(this._color=this._format_color(t))}get strokeColor(){return this._stroke}set strokeColor(t){null!=t&&t!=this._stroke&&(h.default.isEmpty(t)?this.thickness=0:0==this.thickness&&(this.thickness=1),this._stroke=this._format_color(t),this.resize=!0)}get thickness(){return this._thickness}set thickness(t){null!=t&&t!=this._thickness&&(this._thickness=t,this.resize=!0)}setup(t,e,i,s,a){if(!t)return this;this._vo&&this._vo instanceof d.default&&(t&&this._vo.type!=t.type&&this.instance.element&&(this.instance.element=null),n.default.remove(this._vo)),this._vo=t;let h=this._vo.properties.style;return h=h||{},delete this._vo.properties.style,this._thickness=0==i?0:i||h.strokeWidth||0,this._stroke=this._format_color(s)||h.stroke||\"#000000\",this._fill_alpha=null==a?h.fillOpacity||h.opacity||this._fill_alpha:a,null==this.instance?(this.instance=u.default.c(\"do\",null,this.use_canvas),this.instance.hide_over=!1,this.addChild(this.instance)):this.instance.moveTo(0,0),this._vo.rect&&(this._rect=this._vo.rect.clone(),this.setSize(this._rect.width,this._rect.height)),this._color=this._format_color(e)||h.fill||\"#FFFFFF\",this.resize=!0,this}_format_color(t){if(!(t&&t instanceof _.default))return t;if(this.use_canvas)return r.default.getGradientColor(t);if(null==this.instance||null==this.instance.element)return t;let e=this.instance.element.getElementsByTagName(\"defs\")[0];null==e&&(e=o.default.create(\"defs\"),this.instance.element.appendChild(e));let i=this.instance.element.getElementById(this.name+\"_gradient\");i&&i.parentNode&&i.parentNode.removeChild(i);let s={id:this.name+\"_gradient\"};0==t.type?(s.x1=l.default.int(100*t.xStart/t.radiusStart)+\"%\",s.y1=l.default.int(100*t.yStart/t.radiusEnd)+\"%\",s.x2=l.default.int(100*t.xEnd/t.radiusStart)+\"%\",s.y2=l.default.int(100*t.yEnd/t.radiusEnd)+\"%\"):(s.fx=l.default.int(100*t.xStart/(2*t.radiusEnd))+\"%\",s.fy=l.default.int(100*t.yStart/(2*t.radiusEnd))+\"%\",s.cx=l.default.int(100*t.xEnd/(2*t.radiusEnd))+\"%\",s.cy=l.default.int(100*t.yEnd/(2*t.radiusEnd))+\"%\",s.r=l.default.int(2*t.radiusStart*100/t.radiusEnd)+\"%\"),i=o.default.create(0==t.type?\"linearGradient\":\"radialGradient\",s);let a,h,n=t.offsetlist.length;for(a=0;a<n;a++)h=o.default.create(\"stop\",{offset:t.offsetlist[a],\"stop-color\":t.colorList[a]}),i.appendChild(h);return e.appendChild(i),\"url(#\"+this.name+\"_gradient)\"}redraw(){if(this.__checkDisplayUpdate(),this.instance.width=this.width,this.instance.height=this.height,this.use_canvas&&this.instance.graphics)return this._thickness>0?this.instance.graphics.lineStyle(this._thickness,this._stroke):this.instance.graphics.stroke_style=null,this._pattern?this.instance.graphics.beginBitmapFill(...this._pattern):this.instance.graphics.beginFill(this._color,this._fill_alpha),this.instance.graphics.drawShape(this._vo),void this.instance.graphics.endFill();if(!o.default.supported)return;let t;null==this.instance.element?(this.instance.element=o.default.create(\"svg\",{style:{width:this.width+\"px\",height:this.height+\"px\"}}),t=o.default.create(this._vo.type,this._vo.properties),this.instance.element.appendChild(t)):(t=this.instance.element.getElementsByTagName(this._vo.type)[0],this._vo.properties&&o.default.setAttributes(t,this._vo.properties)),t.style.stroke=this._stroke,t.style.strokeWidth=this._thickness,t.style.fillOpacity=this._fill_alpha,t.style.fill=this._pattern?\"url(#\"+this._pattern.id+\")\":this._format_color(this._color),t.setAttribute(\"stroke-dasharray\",h.default.isEmpty(this._dash)?\"\":this._dash),this._parent&&this._parent.autoSize&&this._parent._updateSize()}clone(){let t=n.default.create(p);if(t.param=this.param,this.origin&&(t.origin=this.origin.clone()),t.setup(this._vo.clone(),this._color,this._thickness,this._stroke,this._fill_alpha),t._dash=this._dash,this._pattern&&!h.default.isEmpty(this._pattern_src)){let e=new Image;e.onload=function(){this.onload=null,t.pattern=e},e.src=this._pattern_src}return t}render(){this.resize&&this.redraw(),super.render(...arguments),this.resize=!1}reset(){this._vo&&n.default.remove(this._vo),this._rect&&n.default.remove(this._rect),this._rect=this._vo=this._pattern_src=this._stroke=this.pattern=this._color=null,this.instance&&(this.instance.removeFromParent(!0),this.instance=null),super.reset(),this._dash=null,this._thickness=0,this._fill_alpha=1,this.autoSize=!0,this.repeat=\"repeat\",this.mouseChildren=!1,this.use_canvas=c.default.useCanvas}dispose(){super.dispose(),delete this.use_canvas,this._dash,this._rect,this._vo,this._pattern_src,this._fill_alpha,this._thickness,this._stroke,this._color,this._pattern,this.repeat}toString(){return p.name}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return f}));var s=i(11),a=i(49),h=i(8),n=i(4),r=i(3),l=i(19),o=i(9),u=i(6),d=i(7),_=i(0),c=i(5);class f extends s.default{constructor(){super(),this.space=2,this.redius=20,this.length=85,this.lock=!1,this.bool=!1,this.speed=1e3,this.drag_rate=5,this.has_shadow=!0,this.color=\"#FFFFFF\",this.bg_color=\"#666666\",this.sd_color=\"#000000\",this.md_color=\"#FFF888\",this.is_drag=this.is_open=!1,this.hold_rect=this.point=this.point2=this.shadow=this.middle=this.bottom=this.bar=null}get value(){return this.bool}set value(t){this.bool!=t&&(this.bool=t,this.bottom&&(this.sync_data(!0),this.dispatchEvent(new c.default(f.CHANGE,this.bool))))}setup(t){t&&l.default.copyAttribute(this,t,!0),this.bottom?(this.bottom.setSize(this.length+2*this.space,2*(this.redius+this.space)),this.bottom.redius=this.redius+this.space,this.bottom.color=this.bg_color):(this.bottom=u.default.c(\"bs\",[this.bg_color,this.length+2*this.space,2*(this.redius+this.space),this.redius+this.space]),this.addChild(this.bottom),this.bottom.mouseEnabled=!0,this.bottom.addEventListener(n.default.MOUSE_TAP,_.default.delegate(this.change_handler,this))),this.middle?(this.middle.setSize(this.length+2*this.space,2*(this.redius+this.space)),this.middle.redius=this.redius+this.space,this.middle.color=this.md_color):(this.middle=this.bottom.clone(),this.middle.color=this.md_color,this.middle.mouseEnabled=!1,this.addChild(this.middle)),this.bar?(this.bar.setSize(2*this.redius,2*this.redius),this.bar.redius=this.redius,this.bar.color=this.color):(this.bar=u.default.c(\"bs\",[this.color,2*this.redius,2*this.redius,this.redius]),this.addChild(this.bar),this.bar.buttonMode=this.bar.mouseEnabled=!0,this.bar.addEventListener(n.default.MOUSE_DOWN,_.default.delegate(this.mouse_handler,this))),this.bar.y=this.redius+this.space,this.bar.origin={x:this.redius,y:this.redius},!this.shadow&&this.has_shadow?this.shadow=new a.default(1,30,.3*this.redius,this.sd_color,1,this.redius):this.shadow=null,this.shadow&&this.bar.instance.filters&&this.bar.instance.filters.indexOf(this.shadow)<0?this.bar.instance.filters=[this.shadow]:this.shadow||(this.bar.instance.filters=[]),this.sync_data(),this.setSize(this.length+2*this.space,2*(this.redius+this.space))}change_handler(t){this.lock||(this.value=!this.bool)}mouse_handler(t){this.stage&&!this.lock&&(this.point||(this.point=r.default.create(d.default)),this.point.set(t.mouseX,t.mouseY),this.is_open=!this.bool,this.is_drag=!1,this.lock=!0,this.stage.addEventListener(n.default.MOUSE_UP,_.default.delegate(this.mouse_up,this),this.name),this.stage.addEventListener(n.default.MOUSE_MOVE,_.default.delegate(this.mouse_move,this),this.name))}mouse_move(t){this.point2||(this.point2=r.default.create(d.default));let e=this.point2.x;if(this.point2.set(t.mouseX,t.mouseY),!this.is_drag&&d.default.distance(this.point,this.point2)>this.drag_rate){let t=this.localToGlobal(this.space+this.redius,this.space+this.redius),e=this.localToGlobal(this.length+this.space-this.redius,this.space+this.redius);this.hold_rect||(this.hold_rect=new o.default),this.hold_rect.data={x:t.x,y:t.y,width:Math.abs(e.x-t.x)},this.stage.startDrag(this.bar,this.hold_rect),this.middle.visible=!0,this.is_drag=!0}else this.is_drag&&(this.is_open=this.point2.x>=e,this._change_middle())}mouse_up(t){this.stage.removeEventListener(n.default.MOUSE_UP,null,this.name),this.stage.removeEventListener(n.default.MOUSE_MOVE,null,this.name),this.lock=!1,this.is_drag?(this.stage.stopDrag(),this.bool==this.is_open?this.sync_data(!0):this.value=this.is_open):this.change_handler()}_change_middle(){this.middle.width=this.redius+this.bar.x+this.space}sync_data(t){let e=this.bool?this.length+this.space-this.redius:this.space+this.redius;if(!t||e==this.bar.x)return this.bar.x=e,void(this.middle.visible=this.bool);this.lock=!0,this.middle.visible=!0,h.default.remove(this.bar),h.default.to(this.bar,Math.abs(e-this.bar.x)/this.speed,{x:e,onUpdate:_.default.delegate2(this._change_middle,this),onCompleteParams:[this],onComplete:function(t){t.lock=!1,t.bool?t.middle.width=t.bottom.width:t.middle.visible=!1}})}reset(){this.space=2,this.redius=20,this.length=85,this.lock=!1,this.bool=!1,this.speed=1e3,this.drag_rate=5,this.has_shadow=!0,this.color=\"#FFFFFF\",this.bg_color=\"#666666\",this.sd_color=\"#000000\",this.md_color=\"#FFF888\",this.is_drag=this.is_open=!1,this.hold_rect=this.point=this.point2=this.shadow=this.middle=this.bottom=this.bar=null,super.reset()}dispose(){super.dispose(),point&&r.default.remove(point),point2&&r.default.remove(point2),delete this.drag_rate,this.hold_rect,this.lock,this.point,this.point2,this.space,this.redius,this.length,this.bool,this.speed,this.has_shadow,this.color,this.bg_color,this.sd_color,this.shadow,this.bottom,this.bar}}f.CHANGE=\"switch_button_change\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return _}));var s=i(11),a=i(4),h=i(15),n=i(1),r=i(6),l=i(0),o=i(35),u=i(9),d=i(7);class _ extends s.default{constructor(){super(),this.limit_rect=this.limit_scale=this._target_scaleX=this._target_scaleY=this._target_angle=this._target_rotation=this._target_distance=this._center=this._point1=this._point2=this._double_finger=this._canvas=this._target=null,this.wheel=this.rotate=this.mouseEnabled=!0}get target(){return this._target}set target(t){this._target=t,this._target&&this._target instanceof h.default?this._init_transformer():this._clear_transformer()}_init_transformer(){this._clear_transformer(),null==this._canvas&&(this._canvas=r.default.c(\"bs\")),this._canvas.setup(\"#FFFFFF\",this._target.width,this._target.height,0,0,0,0),this.contains(this._canvas)||this.addChild(this._canvas),this._canvas.mouseEnabled=!0,this._canvas.breakTouch=!0,this._canvas.addEventListener(a.default.MOUSE_DOWN,l.default.delegate(this._drag_mouse_down,this),this.name),this._canvas.matrix=this._target.matrix,this.wheel&&this._canvas.addEventListener(a.default.MOUSE_WHEEL,l.default.delegate(this._mouse_wheel_handle,this),this.name)}_mouse_wheel_handle(t){let e=this._canvas.scaleX+.1*t.delta,i=this._canvas.globalToLocal(t.mouseX,t.mouseY);this.limit_scale&&(e=n.default.clamp(e,this.limit_scale.min,this.limit_scale.max)),this._canvas.scale=e,i=this._canvas.localToGlobal(i);let s=new d.default(n.default.format(this._canvas.x+t.mouseX-i.x),n.default.format(this._canvas.y+t.mouseY-i.y));this.limit_rect&&(s=u.default.innerPoint(this._count_limit_area(),s)),this._canvas.moveTo(s),o.default.copyTransform(this._canvas,this._target)}sync(){this._canvas&&this._target&&o.default.copyTransform(this._target,this._canvas)}_drag_mouse_down(t){this._double_finger=2==t.length,this._double_finger?(this._point1=t.touchs[0],this._point2=t.touchs[1],this._target_scaleX=this._canvas.scaleX,this._target_scaleY=this._canvas.scaleY,this._target_rotation=this._canvas.rotation,this._target_angle=n.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY),this._center=new d.default(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),this._center=this._canvas.globalToLocal(this._center.x,this._center.y),this._target_distance=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY))):((this.stage?this.stage:Stage.current).startDrag(this._canvas,this.limit_rect?this._count_limit_area():null),this._point1=this._point2=null),(this.stage?this.stage:Stage.current).addEventListener(a.default.MOUSE_UP,l.default.delegate(this._drag_mouse_up,this),this.name),(this.stage?this.stage:Stage.current).addEventListener(a.default.MOUSE_MOVE,l.default.delegate(this._drag_mouse_move,this),this.name)}_drag_mouse_move(t){if(this._double_finger){if(2==t.length){if(this._point1.id!=t.touchs[0].id&&this._point2.id!=t.touchs[1].id&&this._point1.id!=t.touchs[1].id&&this._point2.id!=t.touchs[0].id)return;if(this._point1.id!=t.touchs[0].id?(this._point1=t.touchs[1],this._point2=t.touchs[0]):(this._point1=t.touchs[0],this._point2=t.touchs[1]),this.rotate){let t=n.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY);this._canvas.rotation=n.default.format(this._target_rotation+n.default.getDegreesFromRadians(t-this._target_angle))}let e,i,s,a,h,r;s=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY)),e=i=s/this._target_distance,e=n.default.format(this._target_scaleX*e),i=n.default.format(this._target_scaleY*i),this.limit_scale&&(e=n.default.clamp(e,this.limit_scale.min,this.limit_scale.max),i=n.default.clamp(i,this.limit_scale.min,this.limit_scale.max)),this._canvas.scaleX=e,this._canvas.scaleY=i,a=this._canvas.localToGlobal(this._center.x,this._center.y),h=new d.default(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),r=new d.default(n.default.format(this._canvas.x+h.x-a.x),n.default.format(this._canvas.y+h.y-a.y)),this.limit_rect&&(r=u.default.innerPoint(this._count_limit_area(),r)),this._canvas.moveTo(r),o.default.copyTransform(this._canvas,this._target)}}else this._target.moveTo(this._target.parent.globalToLocal(this._canvas.localToGlobal(0,0)))}_count_limit_area(){let t=this._canvas.getHeight(),e=this._canvas.getWidth(),i=new u.default,s=e>this.limit_rect.width,a=e>this.limit_rect.height;return i.x=s?this.limit_rect.right-e:this.limit_rect.x,i.y=a?this.limit_rect.bottom-t:this.limit_rect.y,i.width=Math.abs(this.limit_rect.width-e),i.height=Math.abs(this.limit_rect.height-t),i}_drag_mouse_up(t){this._double_finger||(this.stage?this.stage:Stage.current).stopDrag(),(this.stage?this.stage:Stage.current).removeEventListener(a.default.MOUSE_UP,null,this.name),(this.stage?this.stage:Stage.current).removeEventListener(a.default.MOUSE_MOVE,null,this.name),this._target_scaleX=this._target_scaleY=this._target_distance=this._target_rotation=this._target_angle=this._center=this._point1=this._point2=null}_clear_transformer(){this._canvas&&(this.contains(this._canvas)&&this._canvas.removeFromParent(!1),this._canvas.removeEventListener(a.default.MOUSE_DOWN,null,this.name),this._canvas.removeEventListener(a.default.MOUSE_WHEEL,null,this.name)),this._drag_mouse_up(null)}dispose(){super.dispose(),this.target=null,delete this.limit_rect,this.limit_scale,this.wheel,this._canvas,this._target,this.rotate,this._target_scaleX,this._target_scaleY,this._target_distance,this._target_rotation,this._target_angle,this._center,this._point1,this._point2}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return m}));var s=i(11),a=i(15),h=i(4),n=i(72),r=i(0),l=i(7),o=i(73),u=i(35),d=i(1),_=i(3),c=i(13),f=i(6),p=i(5);class m extends s.default{constructor(){super(),this.lineWidth=2,this.round=16,this.support_finger=!0,this.rotate=!0,this.key_control=!0,this.wheel_control=!0,this.is_free=!1,this.pos_percent={x:.5,y:.5},this.relative_data,this.min_size=0,this.adjust_pos=null,this._min_scale=this._point1=this._point2=this._finger_center=this._center=this._target=this._btn=this._redraw=this._canvas=this._color=this._point=null,this._target_center=this._move_point=this._target_angle=this._target_rotation=this._target_scaleX=this._target_scaleY=this._target_distance=this._target_offsetX=this._target_offsetY=null,this._cache_point={x:0,y:0},this._double_finger=!1,this._has_key_down=!1,this.mouseEnabled=!0,this._state=0}get target(){return this._target}set target(t){this._target!=t&&(this._target=t,this.visible=null!=t,this._target&&this._target instanceof a.default?this._init_transformer():this._clear_transformer(),this.update_relative_data())}setup(t,e,i,s=\"#888888\"){this._btn=e||o.default.getButton(this.round),this._redraw=Boolean(i),this._color=s,this.target=t}update_relative_data(t){this._target&&this._target.parent&&(this.relative_data=this._target.parent.getMatrix().applyDisplay(),this.relative_data.radians=d.default.getRadiansFromDegrees(this.relative_data.rotation),t||this.sync_display())}sync_display(){this._target&&this._target.parent&&(u.default.copyTransform(this._target,this._canvas,this.relative_data,!0),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this._canvas.thickness=2*this.lineWidth/(this._canvas.scaleX+this._canvas.scaleY),this._canvas.resize=!0)}_update_target_size(){this._target_rect=this._target.getBounds(this._target),this.adjust_pos&&this.adjust_pos.x&&(this._target_rect.x+=this.adjust_pos.x),this.adjust_pos&&this.adjust_pos.y&&(this._target_rect.y+=this.adjust_pos.y),null==this._canvas&&(this._canvas=f.default.c(\"bs\")),this._canvas.setup(\"#FFFFFF\",this._target.width,this._target.height,0,this._redraw?this.lineWidth:0,this._color,0),r.default.useCanvas&&this._canvas.instance.moveTo(.5*-this.lineWidth,.5*-this.lineWidth),this._point||(this._point=_.default.create(l.default)),this._point.set(this._target_rect.x+this._target_rect.width,this._target_rect.y+this._target_rect.height),this._center||(this._center=_.default.create(l.default)),this._center.set(this._target_rect.x+this._target_rect.width*this.pos_percent.x,this._target_rect.y+this._target_rect.height*this.pos_percent.y),this._canvas.thickness=2*this.lineWidth/(this._canvas.scaleX+this._canvas.scaleY),this._canvas.resize=!0,this.min_size>0&&(this._min_scale=d.default.format(this.min_size/Math.min(this._target_rect.width,this._target_rect.height)))}_init_transformer(){this._clear_transformer(),this._update_target_size(),this.contains(this._canvas)||this.addChild(this._canvas),this._canvas.syncSize=!0,this._canvas.usePolyCollision=!0,this._canvas.mouseEnabled=!0,this._canvas.breakTouch=!0,this.contains(this._btn)||(this._btn.breakTouch=!0,this.addChild(this._btn)),this._btn.addEventListener(h.default.MOUSE_DOWN,r.default.delegate(this._trans_mouse_down,this),this.name),this._canvas.addEventListener(h.default.MOUSE_DOWN,r.default.delegate(this._drag_mouse_down,this),this.name),this._canvas.matrix=this._target.matrix,this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),r.default.isPC&&(this.wheel_control&&this._canvas.addEventListener(h.default.MOUSE_WHEEL,r.default.delegate(this._mouse_wheel_handle,this),this.name),this.key_control&&(this.stage?this.stage:c.default.current).addEventListener(h.default.KEY_DOWN,r.default.delegate(this._key_down,this),this.name))}_mouse_wheel_handle(t){if(!this.wheel_control)return;let e=Math.max(this._min_scale,Math.abs(this._canvas.scaleX+.05*t.delta)),i=this._canvas.globalToLocal(t.mouseX,t.mouseY);this._canvas.scale=e,i=this._canvas.localToGlobal(i);let s=_.default.create(l.default).set(d.default.format(this._canvas.x+t.mouseX-i.x),d.default.format(this._canvas.y+t.mouseY-i.y));this._canvas.moveTo(s),u.default.copyTransform(this._canvas,this._target,this.relative_data),this._canvas.thickness=2*this.lineWidth/(this._canvas.scaleX+this._canvas.scaleY),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this.dispatchEvent(new p.default(m.SCALE)),_.default.remove(s)}_key_up(t){this._has_key_down&&((this.stage?this.stage:c.default.current).removeEventListener(h.default.KEY_UP,null,this.name),this.dispatchEvent(new p.default(m.MOVE))),this._has_key_down=!1}_key_down(t){if(null==this.stage||null==this._target||!(this._target instanceof a.default)||null==t||t.target!=this._canvas)return;let e=!1;switch(t.params){case 37:e=!0,this._canvas.x-=1;break;case 38:e=!0,this._canvas.y-=1;break;case 39:e=!0,this._canvas.x+=1;break;case 40:e=!0,this._canvas.y+=1;break;case 46:return void this.dispatchEvent(new p.default(m.DELETE))}e&&(this._has_key_down=!0,this._drag_mouse_move(null),(this.stage?this.stage:c.default.current).addEventListener(h.default.KEY_UP,r.default.delegate(this._key_up,this),this.name),t.label&&(t.label.preventDefault(),t.label.stopPropagation()))}_drag_mouse_down(t){this._double_finger=2==t.length,this._state=this.support_finger&&this._double_finger?3:1,this.support_finger&&this._double_finger?(this._point1=t.touchs[0],this._point2=t.touchs[1],this._target_scaleX=this._canvas.scaleX,this._target_scaleY=this._canvas.scaleY,this._target_rotation=this._canvas.rotation,this._target_angle=d.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY),this._finger_center=_.default.create(l.default).set(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),this._finger_center=this._canvas.globalToLocal(this._finger_center),this._target_distance=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY))):(this._cache_point.x=this._canvas.x,this._cache_point.y=this._canvas.y,(this.stage?this.stage:c.default.current).startDrag(this._canvas)),(this.stage?this.stage:c.default.current).addEventListener(h.default.MOUSE_UP,r.default.delegate(this._drag_mouse_up,this),this.name),(this.stage?this.stage:c.default.current).addEventListener(h.default.MOUSE_MOVE,r.default.delegate(this._drag_mouse_move,this),this.name)}_drag_mouse_move(t){if(!this.support_finger||!this._double_finger)return this._target.moveTo(this._target.parent.globalToLocal(this._canvas.localToGlobal(0,0))),void this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y)));if(2!=t.length)return;if(this._point1.id!=t.touchs[0].id&&this._point2.id!=t.touchs[1].id&&this._point1.id!=t.touchs[1].id&&this._point2.id!=t.touchs[0].id)return;this._point1.id!=t.touchs[0].id?(this._point1=t.touchs[1],this._point2=t.touchs[0]):(this._point1=t.touchs[0],this._point2=t.touchs[1]);let e,i,s,a,h,n,r=d.default.getAngle(this._point1.mouseX,this._point1.mouseY,this._point2.mouseX,this._point2.mouseY);this._canvas.rotation=d.default.format(this._target_rotation+d.default.getDegreesFromRadians(r-this._target_angle)),s=Math.sqrt((this._point1.mouseX-this._point2.mouseX)*(this._point1.mouseX-this._point2.mouseX)+(this._point1.mouseY-this._point2.mouseY)*(this._point1.mouseY-this._point2.mouseY)),e=i=s/this._target_distance,e=Math.max(this._min_scale,d.default.format(this._target_scaleX*e)),i=Math.max(this._min_scale,d.default.format(this._target_scaleY*i)),this._canvas.scaleX=e,this._canvas.scaleY=i,a=this._canvas.localToGlobal(this._finger_center.x,this._finger_center.y),h=_.default.create(l.default).set(.5*(this._point1.mouseX+this._point2.mouseX),.5*(this._point1.mouseY+this._point2.mouseY)),n=_.default.create(l.default).set(d.default.format(this._canvas.x+h.x-a.x),d.default.format(this._canvas.y+h.y-a.y)),this._canvas.moveTo(n),u.default.copyTransform(this._canvas,this._target,this.relative_data),this._btn.moveTo(this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this.dispatchEvent(new p.default(m.SCALING)),_.default.remove(h),_.default.remove(n)}_trans_mouse_down(t){this._target_center=this._canvas.localToGlobal(this._center.x,this._center.y),this._move_point=this._canvas.localToGlobal(this._point.x,this._point.y),this._target_distance=l.default.distance(this._target_center,this._move_point),this._target_rotation=this._canvas.rotation,this._target_angle=d.default.getAngle(this._target_center.x,this._target_center.y,this._move_point.x,this._move_point.y),!this.rotate&&this.is_free&&this.relative_data&&0!=this.relative_data.radians&&l.default.rotate(this._move_point,this.relative_data,this.relative_data.radians,!0),this._target_scaleX=this._canvas.scaleX,this._target_scaleY=this._canvas.scaleY,this._target_offsetX=Math.max(0,this._move_point.x-this._target_center.x),this._target_offsetY=Math.max(0,this._move_point.y-this._target_center.y),(this.stage?this.stage:c.default.current).addEventListener(h.default.MOUSE_UP,r.default.delegate(this._drag_mouse_up,this),this.name),(this.stage?this.stage:c.default.current).addEventListener(h.default.MOUSE_MOVE,r.default.delegate(this._trans_mouse_move,this),this.name)}_trans_mouse_move(t){let e,i,s,a=_.default.create(l.default).set(t.mouseX,t.mouseY);if(this.rotate){let t=d.default.getAngle(this._target_center.x,this._target_center.y,a.x,a.y);this._canvas.rotation=d.default.format(this._target_rotation+d.default.getDegreesFromRadians(t-this._target_angle))}!this.rotate&&this.is_free?(this.relative_data&&0!=this.relative_data.radians&&l.default.rotate(a,this.relative_data,this.relative_data.radians,!0),e=Math.max(0,a.x-this._target_center.x)/this._target_offsetX,i=Math.max(0,a.y-this._target_center.y)/this._target_offsetY):(s=l.default.distance(this._target_center,a),e=i=s/this._target_distance),e=Math.max(this._min_scale,d.default.format(this._target_scaleX*e)),i=Math.max(this._min_scale,d.default.format(this._target_scaleY*i)),(this.rotate||!this.is_free||e!=this._min_scale&&i!=this._min_scale)&&(this._canvas.scaleX=e,this._canvas.scaleY=i,this._redraw&&(this._canvas.thickness=2*this.lineWidth/(e+i)));let h=this._canvas.localToGlobal(this._center.x,this._center.y);this._btn.moveTo(this.rotate&&e!=this._min_scale&&i!=this._min_scale?this.globalToLocal(t.mouseX,t.mouseY):this.globalToLocal(this._canvas.localToGlobal(this._point.x,this._point.y))),this._canvas.moveTo(d.default.format(this._canvas.x+this._target_center.x-h.x),d.default.format(this._canvas.y+this._target_center.y-h.y)),u.default.copyTransform(this._canvas,this._target,this.relative_data),this._state=2,_.default.remove(a),this.dispatchEvent(new p.default(m.SCALING))}_drag_mouse_up(t){(this.stage?this.stage:c.default.current).stopDrag(),(this.stage?this.stage:c.default.current).removeEventListener(h.default.MOUSE_UP,null,this.name),(this.stage?this.stage:c.default.current).removeEventListener(h.default.MOUSE_MOVE,null,this.name),this._finger_center,this._point1=this._point2=this._target_center=this._move_point=this._target_scaleX=this._target_scaleY=this._target_distance=this._target_rotation=this._target_angle=null,1==this._state&&n.default.check()?this.dispatchEvent(new p.default(m.DOUBLE_CLICK)):1==this._state&&Math.sqrt((this._cache_point.x-this._canvas.x)*(this._cache_point.x-this._canvas.x)+(this._cache_point.y-this._canvas.y)*(this._cache_point.y-this._canvas.y))<3?this.dispatchEvent(new p.default(m.CLICK)):this._state>0&&this.dispatchEvent(new p.default(1==this._state?m.MOVE:m.SCALE)),this._state=0}_clear_transformer(){this._canvas&&(this.contains(this._canvas)&&this._canvas.removeFromParent(!1),this._canvas.removeEventListener(h.default.MOUSE_DOWN,null,this.name),r.default.isPC&&this.wheel_control&&this._canvas.removeEventListener(h.default.MOUSE_WHEEL,null,this.name),this._canvas.reset()),this._btn&&(this._btn.removeEventListener(h.default.MOUSE_DOWN,null,this.name),this.contains(this._btn)&&this._btn.removeFromParent(!1)),r.default.isPC&&this.key_control&&(this.stage?this.stage:c.default.current).hasEventListener(h.default.KEY_DOWN,this.name)&&((this.stage?this.stage:c.default.current).removeEventListener(h.default.KEY_DOWN,null,this.name),(this.stage?this.stage:c.default.current).removeEventListener(h.default.KEY_UP,null,this.name)),this._drag_mouse_up(null)}dispose(){super.dispose(),delete this._finger_center,this._double_finger,this._point1,this._point2,this._cache_point,this._state,this.relative_data,this._center,this._color,this._target,this._btn,this._redraw,this._canvas,delete this.support_finger,this._min_scale,this.min_size,this.wheel_control,this._has_key_down,this.key_control,this.is_free,this.pos_percent,this.rotate,this.round,this.lineWidth,this._target_center,this._move_point,this._target_angle,this._target_rotation,this._target_scaleX,this._target_scaleY,this._target_distance,this._target_offsetX,this._target_offsetY}}m.MOVE=\"transformer_move\",m.SCALE=\"transformer_scale\",m.CLICK=\"transformer_click\",m.DELETE=\"transformer_delete\",m.SCALING=\"transformer_scaling\",m.DOUBLE_CLICK=\"transformer_double_click\"},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return a}));var s=i(2);class a{static getQuery(t=0){const e=1==t?location.search.substr(1):location.hash.substr(1),i=s.default.parseParams(e);if(0!=t)return i;const a=s.default.parseParams(location.search.substr(1));return Object.assign(i,a)}static copy(t){if(!t)return;const e=document.createElement(\"input\");document.body.appendChild(e),e.value=t,e.focus(),e.select();try{document.execCommand(\"copy\")}catch(t){}e.blur(),document.body.removeChild(e)}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{static format(t,e=\"yyyy-MM-dd hh:mm:ss\"){var i={\"M+\":t.getMonth()+1,\"d+\":t.getDate(),\"h+\":t.getHours(),\"m+\":t.getMinutes(),\"s+\":t.getSeconds(),\"q+\":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var s in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+\"\").substr(4-RegExp.$1.length))),i)new RegExp(\"(\"+s+\")\").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[s]:(\"00\"+i[s]).substr((\"\"+i[s]).length)));return e}static auto(t){const e=new Date,i=t.getFullYear()==e.getFullYear(),a=t.getMonth()==e.getMonth()&&t.getDate()==e.getDate();return s.format(t,a?\"hh:mm\":i?\"MM-dd hh:mm\":\"yyyy-MM-dd hh:mm\")}static calculateTime(t){const e=(t=String(t)).split(\" \"),i=e[0],s=parseInt(i.split(\"-\")[0]),a=parseInt(i.split(\"-\")[1]),h=parseInt(i.split(\"-\")[2]),n=String(e[1]);return 365*s*24*60+30*a*24*60+24*h*60+60*parseInt(n.split(\":\")[0])+parseInt(n.split(\":\")[1])}static timeLabel(t){return t<2?\"刚刚\":t>=2&&t<60?t+\"分钟前\":t>=60&&t<1440?parseInt(t/60)+\"小时前\":t>=1440&&t<10080?parseInt(t/1440)+\"天前\":t>=10080&&t<43200?parseInt(t/10080)+\"周前\":t>=43200&&t<518400?parseInt(t/43200)+\"月前\":parseInt(t/518400)+\"年前\"}static getTime(t,e=null){return s.timeLabel(s.calculateTime(e||s.format(new Date))-s.calculateTime(t))}}},function(t,e,i){\"use strict\";i.r(e),i.d(e,\"default\",(function(){return s}));class s{constructor(){this.ws=null,this.lock_reconnect=!1,this.server_timeout_id=0,this.heart_timeout_id=0,this.timeout_id=0,this.delay=8e3,this.time=4e3,this.heart=\"0000\",this.isQuit=!1,this.uri=null,this.callback=null,this.currentList=null}close(){this.server_timeout_id&&clearTimeout(this.server_timeout_id),this.heart_timeout_id&&clearTimeout(this.heart_timeout_id),this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=this.server_timeout_id=this.heart_timeout_id=0,this.lock_reconnect=!1,this.isQuit=!0,this.ws&&this.ws.close(),this.currentList=null}initWebpack(t=null){this.uri=t||this.uri,this.uri&&(this.ws=new WebSocket(this.uri),this.ws.onopen=this.wsOpenHandler.bind(this),this.ws.onerror=this.wsErrorHandler.bind(this),this.ws.onclose=this.wsCloseHandler.bind(this),this.ws.onmessage=this.wsMessageHandler.bind(this),this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=0,console.log(\"WebSocket init:\"+this.uri))}reconnect(){this.lock_reconnect||this.isQuit||(this.lock_reconnect=!0,this.timeout_id&&clearTimeout(this.timeout_id),this.timeout_id=setTimeout(()=>{this.initWebpack(),this.lock_reconnect=!1,console.log(\"重连中...\")},this.time))}reset(){this.server_timeout_id&&clearTimeout(this.server_timeout_id),this.heart_timeout_id&&clearTimeout(this.heart_timeout_id),this.heart_timeout_id=this.server_timeout_id=0,this.start()}start(){this.heart_timeout_id&&clearTimeout(this.heart_timeout_id),this.heart_timeout_id=0,this.isQuit||(this.heart_timeout_id=setTimeout(this.heartHandler.bind(this),this.delay))}heartHandler(){if(1==this.ws.readyState)this.ws.send(this.heart);else{if(this.lock_reconnect)return;this.reconnect()}this.server_timeout_id&&clearTimeout(this.server_timeout_id),this.server_timeout_id=setTimeout(()=>{this.ws.close()},this.delay)}wsOpenHandler(t){if(this.start(),this.currentList&&this.currentList.length)for(;this.currentList.length;)this.ws.send(this.currentList.shift())}wsMessageHandler(t){var e=t.data;try{e=JSON.parse(e)}catch(t){console.log(e),e=null}e&&this.callback&&this.callback(e),this.reset()}wsErrorHandler(t){console.log(\"WebSocket Error!>\"),console.log(t),this.reconnect()}wsCloseHandler(t){this.reconnect()}send(t){if(!t||!this.ws)return!1;if(1==this.ws.readyState)this.ws.send(JSON.stringify(t));else{if(this.currentList||(this.currentList=[]),this.currentList.length>5)return!1;this.currentList.push(JSON.stringify(t)),this.heartHandler()}return!0}}}]);","extractedComments":[]}